/* nvd3 version 2.0.0 (https://github.com/novus/nvd3) 2020-06-17 */

!function(){var vt={dev:!1};vt.tooltip=vt.tooltip||{},vt.utils=vt.utils||{},vt.models=vt.models||{},vt.charts={},vt.logs={},vt.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),vt.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function e(){}function n(){return i.apply(this instanceof e&&t?this:t,r.concat(Array.prototype.slice.call(arguments)))}var r=Array.prototype.slice.call(arguments,1),i=this;return e.prototype=this.prototype,n.prototype=new e,n}),vt.dev&&(vt.dispatch.on("render_start",function(t){vt.logs.startTime=+new Date}),vt.dispatch.on("render_end",function(t){vt.logs.endTime=+new Date,vt.logs.totalTime=vt.logs.endTime-vt.logs.startTime,vt.log("total",vt.logs.totalTime)})),vt.log=function(){return vt.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):vt.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments),arguments[arguments.length-1]},vt.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},vt.render=function(r){r=r||1,vt.render.active=!0,vt.dispatch.render_start();var i=function(){for(var t,e,n=0;n<r&&(e=vt.render.queue[n]);n++)t=e.generate(),typeof e.callback==typeof Function&&e.callback(t);vt.render.queue.splice(0,n),vt.render.queue.length?setTimeout(i):(vt.dispatch.render_end(),vt.render.active=!1)};setTimeout(i)},vt.render.active=!1,vt.render.queue=[],vt.addGraph=function(t){typeof t==typeof Function&&(t={generate:t,callback:arguments[1]}),vt.render.queue.push(t),vt.render.active||vt.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=vt),"undefined"!=typeof window&&(window.nv=vt),vt.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},vt.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},vt.interactiveGuideline=function(){"use strict";var l={left:0,top:0},i=null,o=null,u=d3.scale.linear(),c=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),d=!0,f=null,p=vt.models.tooltip(),h=window.ActiveXObject;function g(t){t.each(function(t){var e=d3.select(this),a=i||960,s=o||400,n=e.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([t]);function r(){var t=d3.event.clientX-this.getBoundingClientRect().left,e=d3.event.clientY-this.getBoundingClientRect().top,n=!0,r=!1;if(h&&(t=d3.event.offsetX,e=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(n=!1),d3.event.target.className.baseVal.match("nv-legend")&&(r=!0)),n&&(t-=l.left,e-=l.top),"mouseout"===d3.event.type||t<0||e<0||a<t||s<e||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||r){if(h&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(p.nvPointerEventsClass)))return;return c.elementMouseout({mouseX:t,mouseY:e}),g.renderGuideLine(null),void p.hidden(!0)}p.hidden(!1);var i=void 0;if("function"==typeof u.rangeBands){var o=d3.bisect(u.range(),t)-1;if(!(u.range()[o]+u.rangeBand()>=t))return c.elementMouseout({mouseX:t,mouseY:e}),g.renderGuideLine(null),void p.hidden(!0);i=u.domain()[d3.bisect(u.range(),t)-1]}else i=u.invert(t);c.elementMousemove({mouseX:t,mouseY:e,pointXValue:i}),"dblclick"===d3.event.type&&c.elementDblclick({mouseX:t,mouseY:e,pointXValue:i}),"click"===d3.event.type&&c.elementClick({mouseX:t,mouseY:e,pointXValue:i}),"mousedown"===d3.event.type&&c.elementMouseDown({mouseX:t,mouseY:e,pointXValue:i}),"mouseup"===d3.event.type&&c.elementMouseUp({mouseX:t,mouseY:e,pointXValue:i})}n.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),f&&(f.on("touchmove",r).on("mousemove",r,!0).on("mouseout",r,!0).on("mousedown",r,!0).on("mouseup",r,!0).on("dblclick",r).on("click",r),g.guideLine=null,g.renderGuideLine=function(e){d&&(g.guideLine&&g.guideLine.attr("x1")===e||vt.dom.write(function(){var t=n.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[vt.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",s).attr("y2",0),t.exit().remove()}))})})}return p.duration(0).hideDelay(0).hidden(!1),g.dispatch=c,g.tooltip=p,g.margin=function(t){return arguments.length?(l.top=void 0!==t.top?t.top:l.top,l.left=void 0!==t.left?t.left:l.left,g):l},g.width=function(t){return arguments.length?(i=t,g):i},g.height=function(t){return arguments.length?(o=t,g):o},g.xScale=function(t){return arguments.length?(u=t,g):u},g.showGuideLine=function(t){return arguments.length?(d=t,g):d},g.svgContainer=function(t){return arguments.length?(f=t,g):f},g},vt.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r="function"!=typeof n?function(t){return t.x}:n,i=d3.bisector(function(t,e){return r(t)-e}).left,o=d3.max([0,i(t,e)-1]),a=r(t[o]);if(void 0===a&&(a=o),a===e)return o;var s=d3.min([o+1,t.length-1]),l=r(t[s]);return void 0===l&&(l=s),Math.abs(l-e)>=Math.abs(a-e)?o:s},vt.nearestValueIndex=function(t,r,i){"use strict";var o=1/0,a=null;return t.forEach(function(t,e){var n=Math.abs(r-t);null!=t&&n<=o&&n<i&&(o=n,a=e)}),a},vt.models.tooltip=function(){"use strict";var e="nvtooltip-"+Math.floor(1e5*Math.random()),n=null,l="w",u=25,r=0,i=null,c=!0,d=200,f=null,p={left:null,top:null},o=!0,h=100,a=!0,s="nv-pointer-events-none",g=function(t,e,n){return t},v=function(t){return t},m=function(t,e){return t},y=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));a&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(t.value));var r=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),r.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return m(t.key,e)}),r.append("td").classed("value",!0).html(function(t,e){return g(t.value,e,t)}),r.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),r.selectAll("td").each(function(t){var e;t.highlight&&(e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]),d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6)))});var i=n.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},x=function(){var t,e={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};return"none"!=getComputedStyle(document.body).transform&&(t=document.body.getBoundingClientRect(),e.left-=t.left,e.top-=t.top),e},t=function(t){if(t&&t.series){if(vt.utils.isArray(t.series))return!0;if(vt.utils.isObject(t.series))return t.series=[t.series],!0}return!1},b=function(){vt.dom.read(function(){var t,e,n,r,i=x(),o=function(t){var e,n,r,i=f.node().offsetHeight,o=f.node().offsetWidth,a=document.documentElement.clientWidth,s=document.documentElement.clientHeight;switch(l){case"e":e=-o-u,n=-i/2,t.left+e<0&&(e=u),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>s&&(n-=r-s);break;case"w":e=u,n=-i/2,t.left+e+o>a&&(e=-o-u),(r=t.top+n)<0&&(n-=r),(r=t.top+n+i)>s&&(n-=r-s);break;case"n":e=-o/2-5,n=u,t.top+n+i>s&&(n=-i-u),(r=t.left+e)<0&&(e-=r),(r=t.left+e+o)>a&&(e-=r-a);break;case"s":e=-o/2,n=-i-u,t.top+n<0&&(n=u),(r=t.left+e)<0&&(e-=r),(r=t.left+e+o)>a&&(e-=r-a);break;case"center":e=-o/2,n=-i/2;break;default:n=e=0}return{left:e,top:n}}(i),a=i.left+o.left,s=i.top+o.top;c?f.interrupt().transition().delay(d).duration(0).style("opacity",0):(t="translate("+p.left+"px, "+p.top+"px)",e="translate("+Math.round(a)+"px, "+Math.round(s)+"px)",n=d3.interpolateString(t,e),r=f.style("opacity")<.1,f.interrupt().transition().duration(r?0:h).styleTween("transform",function(t){return n},"important").styleTween("-webkit-transform",function(t){return n}).style("-ms-transform",e).style("opacity",1)),p.left=a,p.top=s})};function k(){if(o&&t(n))return vt.dom.write(function(){f&&f.node()||((f=d3.select(document.body).selectAll("#"+e).data([1])).enter().append("div").attr("class","nvtooltip "+(i||"xy-tooltip")).attr("id",e).style("top",0).style("left",0).style("opacity",0).style("position","absolute").selectAll("div, table, td, tr").classed(s,!0).classed(s,!0),f.exit().remove());var t=y(n,f.node());t&&(f.node().innerHTML=t),b()}),k}return k.nvPointerEventsClass=s,k.options=vt.utils.optionsFunc.bind(k),k._options=Object.create({},{duration:{get:function(){return h},set:function(t){h=t}},gravity:{get:function(){return l},set:function(t){l=t}},distance:{get:function(){return u},set:function(t){u=t}},snapDistance:{get:function(){return r},set:function(t){r=t}},classes:{get:function(){return i},set:function(t){i=t}},enabled:{get:function(){return o},set:function(t){o=t}},hideDelay:{get:function(){return d},set:function(t){d=t}},contentGenerator:{get:function(){return y},set:function(t){y=t}},valueFormatter:{get:function(){return g},set:function(t){g=t}},headerFormatter:{get:function(){return v},set:function(t){v=t}},keyFormatter:{get:function(){return m},set:function(t){m=t}},headerEnabled:{get:function(){return a},set:function(t){a=t}},position:{get:function(){return x},set:function(t){x=t}},chartContainer:{get:function(){return document.body},set:function(t){vt.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){vt.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){vt.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return c},set:function(t){c!=t&&(c=!!t,k())}},data:{get:function(){return n},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),n=t}},node:{get:function(){return f.node()},set:function(t){}},id:{get:function(){return e},set:function(t){}}}),vt.utils.initOptions(k),k},vt.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),t},vt.utils.isArray=Array.isArray,vt.utils.isObject=function(t){return null!==t&&"object"==typeof t},vt.utils.isFunction=function(t){return"function"==typeof t},vt.utils.isDate=function(t){return"[object Date]"===toString.call(t)},vt.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},vt.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):vt.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},vt.utils.getColor=function(t){if(void 0===t)return vt.utils.defaultColor();if(vt.utils.isArray(t)){var r=d3.scale.ordinal().range(t);return function(t,e){var n=void 0===e?t:e;return t.color||r(n)}}return t},vt.utils.defaultColor=function(){return vt.utils.getColor(d3.scale.category20().range())},vt.utils.customTheme=function(r,i,o){i=i||function(t){return t.key};var a=(o=o||d3.scale.category20().range()).length;return function(t,e){var n=i(t);return vt.utils.isFunction(r[n])?r[n]():void 0!==r[n]?r[n]:(a=a||o.length,o[--a])}},vt.utils.pjax=function(n,r){function t(t){d3.html(t,function(t){var e=d3.select(r).node();e.parentNode.replaceChild(d3.select(t).select(r).node(),e),vt.utils.pjax(n,r)})}d3.selectAll(n).on("click",function(){history.pushState(this.href,this.textContent,this.href),t(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&t(d3.event.state)})},vt.utils.calcApproxTextWidth=function(t){if(vt.utils.isFunction(t.style)&&vt.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return vt.utils.NaNtoZero(n*e*.5)}return 0},vt.utils.NaNtoZero=function(t){return!vt.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},vt.utils.renderWatch=function(t,e){if(!(this instanceof vt.utils.renderWatch))return new vt.utils.renderWatch(t,e);var o=void 0!==e?e:250,a=[],s=this;this.models=function(t){return(t=[].slice.call(arguments,0)).forEach(function(t){var e;t.__rendered=!1,(e=t).dispatch.on("renderEnd",function(t){e.__rendered=!0,s.renderEnd("model")}),a.indexOf(t)<0&&a.push(t)}),this},this.reset=function(t){void 0!==t&&(o=t),a=[]},this.transition=function(n,r,t){if(t=1<(r=1<arguments.length?[].slice.call(arguments,1):[]).length?r.pop():void 0!==o?o:250,n.__rendered=!1,a.indexOf(n)<0&&a.push(n),0===t)return n.__rendered=!0,n.delay=function(){return this},n.duration=function(){return this},n;0===n.length||n.every(function(t){return!t.length})?n.__rendered=!0:n.__rendered=!1;var i=0;return n.transition().duration(t).each(function(){++i}).each("end",function(t,e){0==--i&&(n.__rendered=!0,s.renderEnd.apply(this,r))})},this.renderEnd=function(){a.every(function(t){return t.__rendered})&&(a.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},vt.utils.deepExtend=function(o){(1<arguments.length?[].slice.call(arguments,1):[]).forEach(function(t){for(var e in t){var n=vt.utils.isArray(o[e]),r=vt.utils.isObject(o[e]),i=vt.utils.isObject(t[e]);r&&!n&&i?vt.utils.deepExtend(o[e],t[e]):o[e]=t[e]}})},vt.utils.state=function(){if(!(this instanceof vt.utils.state))return new vt.utils.state;var n={},e=function(){},r=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return r=t,this},this.setter=function(n,r){return r=r||function(){},e=function(t,e){n(t),e&&r()},this},this.init=function(t){i=i||{},vt.utils.deepExtend(i,t)};this.update=function(){i&&(e(i,!1),i=null),function(){var t=r();if(JSON.stringify(t)===JSON.stringify(n))return!1;for(var e in t)void 0===n[e]&&(n[e]={}),n[e]=t[e],0;return!0}.call(this)&&this.dispatch.change(n)}},vt.utils.optionsFunc=function(t){return t&&d3.map(t).forEach(function(t,e){vt.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},vt.utils.calcTicksX=function(t,e){for(var n=1,r=0;r<e.length;r+=1)var i=e[r]&&e[r].values?e[r].values.length:0,n=n<i?i:n;return vt.log("Requested number of ticks: ",t),vt.log("Calculated max values to be: ",n),t=(t=n<t?t=n-1:t)<1?1:t,t=Math.floor(t),vt.log("Calculating tick count as: ",t),t},vt.utils.calcTicksY=function(t,e,n){if(n){for(var r=1,i=0;i<e.length;i+=1)for(var o,a=e[i]&&e[i].values?e[i].values:[],s=0;s<a.length;s+=1)r=r<(o=a[s]&&n(a[s])?n(a[s]):0)?o:r;return vt.log("Requested number of ticks: ",t),vt.log("Calculated max values to be: ",r),t=(t=r<t?r-1:t)<1?1:t,t=Math.floor(t),vt.log("Calculating tick count as: ",t),t}return vt.utils.calcTicksX(t,e)},vt.utils.initOption=function(e,n){e._calls&&e._calls[n]?e[n]=e._calls[n]:(e[n]=function(t){return arguments.length?(e._overrides[n]=!0,e._options[n]=t,e):e._options[n]},e["_"+n]=function(t){return arguments.length?(e._overrides[n]||(e._options[n]=t),e):e._options[n]})},vt.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{}),e=e.concat(n);for(var r in e)vt.utils.initOption(t,e[r])},vt.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter(function(t,e,n){return n.indexOf(t)===e}),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},vt.utils.arrayUnique=function(n){return n.sort().filter(function(t,e){return!e||t!=n[e-1]})},vt.utils.symbolMap=d3.map(),vt.utils.symbol=function(){var i,o=64;function e(t,e){var n=i.call(this,t,e),r=o.call(this,t,e);return-1!==d3.svg.symbolTypes.indexOf(n)?d3.svg.symbol().type(n).size(r)():vt.utils.symbolMap.get(n)(r)}return e.type=function(t){return arguments.length?(i=d3.functor(t),e):i},e.size=function(t){return arguments.length?(o=d3.functor(t),e):o},e},vt.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),r=Object.getOwnPropertyNames(e._calls||{}),i=e._inherited||[],o=e._d3options||[],a=n.concat(r).concat(i).concat(o);a.unshift(e),a.unshift(t),d3.rebind.apply(this,a),t._inherited=vt.utils.arrayUnique(n.concat(r).concat(i).concat(n).concat(t._inherited||[])),t._d3options=vt.utils.arrayUnique(o.concat(t._d3options||[]))},vt.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},vt.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},vt.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},vt.utils.availableHeight=function(t,e,n){return Math.max(0,vt.utils.sanitizeHeight(t,e)-n.top-n.bottom)},vt.utils.availableWidth=function(t,e,n){return Math.max(0,vt.utils.sanitizeWidth(t,e)-n.left-n.right)},vt.utils.noData=function(t,e){var n=t.options(),r=n.margin(),i=n.noData(),o=null==i?["No Data Available."]:[i],a=vt.utils.availableHeight(null,e,r),s=vt.utils.availableWidth(null,e,r),l=r.left+s/2,u=r.top+a/2;e.selectAll("g").remove();var c=e.selectAll(".nv-noData").data(o);c.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),c.attr("x",l).attr("y",u).text(function(t){return t})},vt.utils.wrapTicks=function(t,l){t.each(function(){for(var t,e=d3.select(this),n=e.text().split(/\s+/).reverse(),r=[],i=0,o=e.attr("y"),a=parseFloat(e.attr("dy")),s=e.text(null).append("tspan").attr("x",0).attr("y",o).attr("dy",a+"em");t=n.pop();)r.push(t),s.text(r.join(" ")),s.node().getComputedTextLength()>l&&(r.pop(),s.text(r.join(" ")),r=[t],s=e.append("tspan").attr("x",0).attr("y",o).attr("dy",1.1*++i+a+"em").text(t))})},vt.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!vt.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},vt.utils.pointIsInArc=function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),s=t.x*t.x+t.y*t.y,l=(l=Math.atan2(t.x,-t.y))<0?l+2*Math.PI:l;return r*r<=s&&s<=i*i&&o<=l&&l<=a},vt.models.axis=function(){"use strict";var g,v,m=d3.svg.axis(),y=d3.scale.linear(),x={top:0,right:0,bottom:0,left:0},b=75,e=60,k=null,w=!0,M=0,A=!0,C=!1,S=!1,W=null,F=0,E=void 0,n=250,t=d3.dispatch("renderEnd");m.scale(y).orient("bottom").tickFormat(function(t){return t});var O=vt.utils.renderWatch(t,n);function r(t){return O.reset(),t.each(function(t){var e=d3.select(this);vt.utils.initSVG(e);var n=e.selectAll("g.nv-wrap.nv-axis").data([t]),r=(n.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g"),n.select("g"));null!==W?m.ticks(W):"top"!=m.orient()&&"bottom"!=m.orient()||m.ticks(Math.abs(y.range()[1]-y.range()[0])/100),r.watchTransition(O,"axis").call(m),v=v||m.scale();var i=m.tickFormat();null==i&&(i=v.tickFormat());var o,a,s,l=r.selectAll("text.nv-axislabel").data([k||null]);switch(l.exit().remove(),void 0!==E&&r.selectAll("g").select("text").style("font-size",E),m.orient()){case"top":c=F+36,l.enter().append("text").attr("class","nv-axislabel"),a=0,1===y.range().length?a=S?2*y.range()[0]+y.rangeBand():0:2===y.range().length?a=S?y.range()[0]+y.range()[1]+y.rangeBand():y.range()[1]:2<y.range().length&&(a=y.range()[y.range().length-1]+(y.range()[1]-y.range()[0])),l.attr("text-anchor","middle").attr("y",-c).attr("x",a/2),w&&((o=n.selectAll("g.nv-axisMaxMin").data(y.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),o.exit().remove(),o.attr("transform",function(t,e){return"translate("+vt.utils.NaNtoZero(y(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-m.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=(g||i)(t);return(""+n).match("NaN")?"":n}),o.watchTransition(O,"min-max top").attr("transform",function(t,e){return"translate("+vt.utils.NaNtoZero(y.range()[e])+",0)"}));break;case"bottom":c=F+36;var u,c,d=30,f=0,p=r.selectAll("g").select("text"),h="";M%360?(p.attr("transform",""),p.each(function(t,e){var n=this.getBoundingClientRect(),r=n.width;f=n.height,d<r&&(d=r)}),h="rotate("+M+" 0,"+(f/2+m.tickPadding())+")",c=((u=Math.abs(Math.sin(M*Math.PI/180)))?u*d:d)+30,p.attr("transform",h).style("text-anchor",0<M%360?"start":"end")):C?p.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):p.attr("transform","translate(0,0)"),l.enter().append("text").attr("class","nv-axislabel"),a=0,1===y.range().length?a=S?2*y.range()[0]+y.rangeBand():0:2===y.range().length?a=S?y.range()[0]+y.range()[1]+y.rangeBand():y.range()[1]:2<y.range().length&&(a=y.range()[y.range().length-1]+(y.range()[1]-y.range()[0])),l.attr("text-anchor","middle").attr("y",c).attr("x",a/2),w&&((o=n.selectAll("g.nv-axisMaxMin").data([y.domain()[0],y.domain()[y.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),o.exit().remove(),o.attr("transform",function(t,e){return"translate("+vt.utils.NaNtoZero(y(t)+(S?y.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",m.tickPadding()).attr("transform",h).style("text-anchor",M?0<M%360?"start":"end":"middle").text(function(t,e){var n=(g||i)(t);return(""+n).match("NaN")?"":n}),o.watchTransition(O,"min-max bottom").attr("transform",function(t,e){return"translate("+vt.utils.NaNtoZero(y(t)+(S?y.rangeBand()/2:0))+",0)"}));break;case"right":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",A?"middle":"begin").attr("transform",A?"rotate(90)":"").attr("y",A?12-Math.max(x.right,b)-(F||0):-10).attr("x",A?d3.max(y.range())/2:m.tickPadding()),w&&((o=n.selectAll("g.nv-axisMaxMin").data(y.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),o.exit().remove(),o.attr("transform",function(t,e){return"translate(0,"+vt.utils.NaNtoZero(y(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",m.tickPadding()).style("text-anchor","start").text(function(t,e){var n=(g||i)(t);return(""+n).match("NaN")?"":n}),o.watchTransition(O,"min-max right").attr("transform",function(t,e){return"translate(0,"+vt.utils.NaNtoZero(y.range()[e])+")"}).select("text").style("opacity",1));break;case"left":l.enter().append("text").attr("class","nv-axislabel"),l.style("text-anchor",A?"middle":"end").attr("transform",A?"rotate(-90)":"").attr("y",A?25-Math.max(x.left,b)-(F||0):-10).attr("x",A?-d3.max(y.range())/2:-m.tickPadding()),w&&((o=n.selectAll("g.nv-axisMaxMin").data(y.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),o.exit().remove(),o.attr("transform",function(t,e){return"translate(0,"+vt.utils.NaNtoZero(v(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-m.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=(g||i)(t);return(""+n).match("NaN")?"":n}),o.watchTransition(O,"min-max right").attr("transform",function(t,e){return"translate(0,"+vt.utils.NaNtoZero(y.range()[e])+")"}).select("text").style("opacity",1))}l.text(function(t){return t}),!w||"left"!==m.orient()&&"right"!==m.orient()||(r.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(y(t)<y.range()[1]+10||y(t)>y.range()[0]-10)&&((1e-10<t||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),y.domain()[0]==y.domain()[1]&&0==y.domain()[0]&&n.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),!w||"top"!==m.orient()&&"bottom"!==m.orient()||(s=[],n.selectAll("g.nv-axisMaxMin").each(function(e,n){try{n?s.push(y(e)-this.getBoundingClientRect().width-4):s.push(y(e)+this.getBoundingClientRect().width+4)}catch(t){n?s.push(y(e)-4):s.push(y(e)+4)}}),r.selectAll("g").each(function(t,e){(y(t)<s[0]||y(t)>s[1])&&(1e-10<t||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})),r.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),v=y.copy()}),O.renderEnd("axis immediate"),r}return r.axis=m,r.dispatch=t,r.options=vt.utils.optionsFunc.bind(r),r._options=Object.create({},{axisLabelDistance:{get:function(){return F},set:function(t){F=t}},staggerLabels:{get:function(){return C},set:function(t){C=t}},rotateLabels:{get:function(){return M},set:function(t){M=t}},rotateYLabel:{get:function(){return A},set:function(t){A=t}},showMaxMin:{get:function(){return w},set:function(t){w=t}},axisLabel:{get:function(){return k},set:function(t){k=t}},height:{get:function(){return e},set:function(t){e=t}},ticks:{get:function(){return W},set:function(t){W=t}},width:{get:function(){return b},set:function(t){b=t}},fontSize:{get:function(){return E},set:function(t){E=t}},tickFormatMaxMin:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return x},set:function(t){x.top=void 0!==t.top?t.top:x.top,x.right=void 0!==t.right?t.right:x.right,x.bottom=void 0!==t.bottom?t.bottom:x.bottom,x.left=void 0!==t.left?t.left:x.left}},duration:{get:function(){return n},set:function(t){n=t,O.reset(n)}},scale:{get:function(){return y},set:function(t){y=t,m.scale(y),S="function"==typeof y.rangeBands,vt.utils.inheritOptionsD3(r,y,["domain","range","rangeBand","rangeBands"])}}}),vt.utils.initOptions(r),vt.utils.inheritOptionsD3(r,m,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),vt.utils.inheritOptionsD3(r,y,["domain","range","rangeBand","rangeBands"]),r},vt.models.boxPlot=function(){"use strict";var f,p,h,g,v,m={top:0,right:0,bottom:0,left:0},y=960,x=500,e=Math.floor(1e4*Math.random()),b=d3.scale.ordinal(),k=d3.scale.linear(),w=function(t){return t.label},M=function(t){return t.values.Q1},A=function(t){return t.values.Q2},C=function(t){return t.values.Q3},S=function(t){return t.values.whisker_low},W=function(t){return t.values.whisker_high},F=function(t){return t.color},E=function(t){return t.values.outliers},O=function(t,e,n){return t},D=function(t,e,n){return t},N=function(t,e,n){},_=vt.utils.defaultColor(),T=null,L=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),B=250,P=null,I=vt.utils.renderWatch(L,B);function n(t){return I.reset(),t.each(function(n){var t=y-m.left-m.right,e=x-m.top-m.bottom;T=d3.select(this),vt.utils.initSVG(T),b.domain(f||n.map(function(t,e){return w(t,e)})).rangeBands(p||[0,t],.1);var s,r=[];h||(s=[],n.forEach(function(t,e){var n=M(t),r=C(t),i=S(t),o=W(t),a=E(t);a&&a.forEach(function(t,e){s.push(O(t,e,void 0))}),i&&s.push(i),n&&s.push(n),r&&s.push(r),o&&s.push(o)}),r=[d3.min(s),d3.max(s)]),k.domain(h||r),k.range(g||[e,0]),v=v||k.copy().range([k(0),k(0)]);var i=T.selectAll("g.nv-wrap").data([n]);i.enter().append("g").attr("class","nvd3 nv-wrap");i.attr("transform","translate("+m.left+","+m.top+")");var o=i.selectAll(".nv-boxplot").data(function(t){return t}),a=o.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);o.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(b(w(t,e))+.05*b.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),o.watchTransition(I,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*B/n.length}).attr("transform",function(t,e){return"translate("+(b(w(t,e))+.05*b.rangeBand())+", 0)"}),o.exit().remove(),a.each(function(n,r){var i=d3.select(this);[S,W].forEach(function(t){var e;void 0!==t(n)&&null!==t(n)&&(e=t===S?"low":"high",i.append("line").style("stroke",F(n)||_(n,r)).attr("class","nv-boxplot-whisker nv-boxplot-"+e),i.append("line").style("stroke",F(n)||_(n,r)).attr("class","nv-boxplot-tick nv-boxplot-"+e))})});function l(){return null===P?.9*b.rangeBand():Math.min(75,.9*b.rangeBand())}function u(){return.45*b.rangeBand()-l()/2}function c(){return.45*b.rangeBand()+l()/2}[S,W].forEach(function(n){var t=n===S?"low":"high",r=n===S?M:C;o.select("line.nv-boxplot-whisker.nv-boxplot-"+t).watchTransition(I,"nv-boxplot: boxplots").attr("x1",.45*b.rangeBand()).attr("y1",function(t,e){return k(n(t))}).attr("x2",.45*b.rangeBand()).attr("y2",function(t,e){return k(r(t))}),o.select("line.nv-boxplot-tick.nv-boxplot-"+t).watchTransition(I,"nv-boxplot: boxplots").attr("x1",u).attr("y1",function(t,e){return k(n(t))}).attr("x2",c).attr("y2",function(t,e){return k(n(t))})}),[S,W].forEach(function(r){var t=r===S?"low":"high";a.selectAll(".nv-boxplot-"+t).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),L.elementMouseover({series:{key:r(t),color:F(t)||_(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),L.elementMouseout({series:{key:r(t),color:F(t)||_(t,n)},e:d3.event})}).on("mousemove",function(t,e){L.elementMousemove({e:d3.event})})}),a.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),L.elementMouseover({key:w(t),value:w(t),series:[{key:"Q3",value:C(t),color:F(t)||_(t,e)},{key:"Q2",value:A(t),color:F(t)||_(t,e)},{key:"Q1",value:M(t),color:F(t)||_(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),L.elementMouseout({key:w(t),value:w(t),series:[{key:"Q3",value:C(t),color:F(t)||_(t,e)},{key:"Q2",value:A(t),color:F(t)||_(t,e)},{key:"Q1",value:M(t),color:F(t)||_(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){L.elementMousemove({e:d3.event})}),o.select("rect.nv-boxplot-box").watchTransition(I,"nv-boxplot: boxes").attr("y",function(t,e){return k(C(t))}).attr("width",l).attr("x",u).attr("height",function(t,e){return Math.abs(k(C(t))-k(M(t)))||1}).style("fill",function(t,e){return F(t)||_(t,e)}).style("stroke",function(t,e){return F(t)||_(t,e)}),a.append("line").attr("class","nv-boxplot-median"),o.select("line.nv-boxplot-median").watchTransition(I,"nv-boxplot: boxplots line").attr("x1",u).attr("y1",function(t,e){return k(A(t))}).attr("x2",c).attr("y2",function(t,e){return k(A(t))});var d=o.selectAll(".nv-boxplot-outlier").data(function(t){return E(t)||[]});d.enter().append("circle").style("fill",function(t,e,n){return N(t,e,n)||_(t,n)}).style("stroke",function(t,e,n){return N(t,e,n)||_(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),L.elementMouseover({series:{key:D(t,e,n),color:N(t,e,n)||_(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),L.elementMouseout({series:{key:D(t,e,n),color:N(t,e,n)||_(t,n)},e:d3.event})}).on("mousemove",function(t,e){L.elementMousemove({e:d3.event})}),d.attr("class","nv-boxplot-outlier"),d.watchTransition(I,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*b.rangeBand()).attr("cy",function(t,e,n){return k(O(t,e,n))}).attr("r","3"),d.exit().remove(),b.copy(),v=k.copy()}),I.renderEnd("nv-boxplot immediate"),n}return n.dispatch=L,n.options=vt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return x},set:function(t){x=t}},maxBoxWidth:{get:function(){return P},set:function(t){P=t}},x:{get:function(){return w},set:function(t){w=t}},q1:{get:function(){return M},set:function(t){M=t}},q2:{get:function(){return A},set:function(t){A=t}},q3:{get:function(){return C},set:function(t){C=t}},wl:{get:function(){return S},set:function(t){S=t}},wh:{get:function(){return W},set:function(t){W=t}},itemColor:{get:function(){return F},set:function(t){F=t}},outliers:{get:function(){return E},set:function(t){E=t}},outlierValue:{get:function(){return O},set:function(t){O=t}},outlierLabel:{get:function(){return D},set:function(t){D=t}},outlierColor:{get:function(){return N},set:function(t){N=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return f},set:function(t){f=t}},yDomain:{get:function(){return h},set:function(t){h=t}},xRange:{get:function(){return p},set:function(t){p=t}},yRange:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return e},set:function(t){e=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},color:{get:function(){return _},set:function(t){_=vt.utils.getColor(t)}},duration:{get:function(){return B},set:function(t){B=t,I.reset(B)}}}),vt.utils.initOptions(n),n},vt.models.boxPlotChart=function(){"use strict";var c,d,f=vt.models.boxPlot(),p=vt.models.axis(),h=vt.models.axis(),g={top:15,right:10,bottom:50,left:60},v=null,m=null,e=vt.utils.getColor(),y=!0,x=!0,b=!1,k=!1,n=vt.models.tooltip(),w="No Data Available.",M=d3.dispatch("beforeUpdate","renderEnd"),A=250;p.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),h.orient(b?"right":"left").tickFormat(d3.format(",.1f")),n.duration(0);var r=vt.utils.renderWatch(M,A);function C(t){return r.reset(),r.models(f),y&&r.models(p),x&&r.models(h),t.each(function(t){var e=d3.select(this);vt.utils.initSVG(e);var n=(v||parseInt(e.style("width"))||960)-g.left-g.right,r=(m||parseInt(e.style("height"))||400)-g.top-g.bottom;if(C.update=function(){M.beforeUpdate(),e.transition().duration(A).call(C)},C.container=this,!t||!t.length){var i=e.selectAll(".nv-noData").data([w]);return i.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),i.attr("x",g.left+n/2).attr("y",g.top+r/2).text(function(t){return t}),C}e.selectAll(".nv-noData").remove(),c=f.xScale(),d=f.yScale().clamp(!0);var o,a=e.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([t]),s=a.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),l=s.append("defs"),u=a.select("g");s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),s.append("g").attr("class","nv-barsWrap"),u.attr("transform","translate("+g.left+","+g.top+")"),b&&u.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),f.width(n).height(r),u.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(f),l.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),u.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",c.rangeBand()*(k?2:1)).attr("height",16).attr("x",-c.rangeBand()/(k?1:2)),y&&(p.scale(c).ticks(vt.utils.calcTicksX(n/100,t)).tickSize(-r,0),u.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),u.select(".nv-x.nv-axis").call(p),o=u.select(".nv-x.nv-axis").selectAll("g"),k&&o.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})),x&&(h.scale(d).ticks(Math.floor(r/36)).tickSize(-n,0),u.select(".nv-y.nv-axis").call(h)),u.select(".nv-zeroLine line").attr("x1",0).attr("x2",n).attr("y1",d(0)).attr("y2",d(0))}),r.renderEnd("nv-boxplot chart immediate"),C}return f.dispatch.on("elementMouseover.tooltip",function(t){n.data(t).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(t){n.data(t).hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(t){n()}),C.dispatch=M,C.boxplot=f,C.xAxis=p,C.yAxis=h,C.tooltip=n,C.options=vt.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},staggerLabels:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},tooltipContent:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},duration:{get:function(){return A},set:function(t){A=t,r.reset(A),f.duration(A),p.duration(A),h.duration(A)}},color:{get:function(){return e},set:function(t){e=vt.utils.getColor(t),f.color(e)}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,h.orient(t?"right":"left")}}}),vt.utils.inheritOptions(C,f),vt.utils.initOptions(C),C},vt.models.bullet=function(){"use strict";var A={top:0,right:0,bottom:0,left:0},e="left",C=!1,S=function(t){return t.ranges},W=function(t){return t.markers?t.markers:[]},F=function(t){return t.markerLines?t.markerLines:[0]},E=function(t){return t.measures},O=function(t){return t.rangeLabels?t.rangeLabels:[]},D=function(t){return t.markerLabels?t.markerLabels:[]},N=function(t){return t.markerLineLabels?t.markerLineLabels:[]},_=function(t){return t.measureLabels?t.measureLabels:[]},T=[0],L=380,B=30,P=null,n=null,I=vt.utils.getColor(["#1f77b4"]),z=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),V=["Maximum","Mean","Minimum"],j=["Max","Avg","Min"],G=1e3;function H(t,i){var o=t.slice();t.sort(function(t,e){var n=o.indexOf(t),r=o.indexOf(e);return d3.descending(i[n],i[r])})}function r(t){return t.each(function(t,e){var n=L-A.left-A.right,r=B-A.top-A.bottom;P=d3.select(this),vt.utils.initSVG(P);var i=S.call(this,t,e).slice(),o=W.call(this,t,e).slice(),a=F.call(this,t,e).slice(),s=E.call(this,t,e).slice(),l=O.call(this,t,e).slice(),u=D.call(this,t,e).slice(),c=N.call(this,t,e).slice(),d=_.call(this,t,e).slice();H(l,i),H(u,o),H(c,a),H(d,s),i.sort(d3.descending),o.sort(d3.descending),a.sort(d3.descending),s.sort(d3.descending);var f=d3.scale.linear().domain(d3.extent(d3.merge([T,i]))).range(C?[n,0]:[0,n]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(f.range());this.__chart__=f;d3.min(i),d3.max(i),i[1];for(var p=P.selectAll("g.nv-wrap.nv-bullet").data([t]),h=p.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),g=p.select("g"),e=0,v=i.length;e<v;e++){var m="nv-range nv-range"+e;e<=2&&(m=m+" nv-range"+j[e]),h.append("rect").attr("class",m)}h.append("rect").attr("class","nv-measure"),p.attr("transform","translate("+A.left+","+A.top+")");for(var y,x=function(t){return f(t<0?t:0)},e=0,v=i.length;e<v;e++){var b=i[e];g.select("rect.nv-range"+e).datum(b).attr("height",r).transition().duration(G).attr("width",(y=b,Math.abs(f(y)-f(0)))).attr("x",x(b))}g.select("rect.nv-measure").style("fill",I).attr("height",r/3).attr("y",r/3).on("mouseover",function(){z.elementMouseover({value:s[0],label:d[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){z.elementMousemove({value:s[0],label:d[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){z.elementMouseout({value:s[0],label:d[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(G).attr("width",s<0?f(0)-f(s[0]):f(s[0])-f(0)).attr("x",x(s));var k=r/6,w=o.map(function(t,e){return{value:t,label:u[e]}});h.selectAll("path.nv-markerTriangle").data(w).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+k+"L"+k+","+-k+" "+-k+","+-k+"Z").on("mouseover",function(t){z.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[f(t.value),r/2]})}).on("mousemove",function(t){z.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){z.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),g.selectAll("path.nv-markerTriangle").data(w).transition().duration(G).attr("transform",function(t){return"translate("+f(t.value)+","+r/2+")"});var M=a.map(function(t,e){return{value:t,label:c[e]}});h.selectAll("line.nv-markerLine").data(M).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return f(t.value)}).attr("y1","2").attr("x2",function(t){return f(t.value)}).attr("y2",r-2).on("mouseover",function(t){z.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[f(t.value),r/2]})}).on("mousemove",function(t){z.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){z.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),g.selectAll("line.nv-markerLine").data(M).transition().duration(G).attr("x1",function(t){return f(t.value)}).attr("x2",function(t){return f(t.value)}),p.selectAll(".nv-range").on("mouseover",function(t,e){var n=l[e]||V[e];z.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){z.elementMousemove({value:s[0],label:d[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){var n=l[e]||V[e];z.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})})}),r}return r.dispatch=z,r.options=vt.utils.optionsFunc.bind(r),r._options=Object.create({},{ranges:{get:function(){return S},set:function(t){S=t}},markers:{get:function(){return W},set:function(t){W=t}},measures:{get:function(){return E},set:function(t){E=t}},forceX:{get:function(){return T},set:function(t){T=t}},width:{get:function(){return L},set:function(t){L=t}},height:{get:function(){return B},set:function(t){B=t}},tickFormat:{get:function(){return n},set:function(t){n=t}},duration:{get:function(){return G},set:function(t){G=t}},margin:{get:function(){return A},set:function(t){A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left}},orient:{get:function(){return e},set:function(t){C="right"==(e=t)||"bottom"==e}},color:{get:function(){return I},set:function(t){I=vt.utils.getColor(t)}}}),vt.utils.initOptions(r),r},vt.models.bulletChart=function(){"use strict";var b=vt.models.bullet(),e=vt.models.tooltip(),n="left",k=!1,w={top:5,right:40,bottom:20,left:120},M=function(t){return t.ranges},A=function(t){return t.markers?t.markers:[]},C=function(t){return t.measures},S=null,W=55,F=null,E=null,r=null,t=d3.dispatch();function O(x){return x.each(function(t,e){var n=d3.select(this);vt.utils.initSVG(n);var r=vt.utils.availableWidth(S,n,w),i=W-w.top-w.bottom;if(O.update=function(){O(x)},O.container=this,!t||!M.call(this,t,e))return vt.utils.noData(O,n),O;n.selectAll(".nv-noData").remove();var o=M.call(this,t,e).slice().sort(d3.descending),a=A.call(this,t,e).slice().sort(d3.descending),s=C.call(this,t,e).slice().sort(d3.descending),l=n.selectAll("g.nv-wrap.nv-bulletChart").data([t]),u=l.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),c=l.select("g");u.append("g").attr("class","nv-bulletWrap"),u.append("g").attr("class","nv-titles"),l.attr("transform","translate("+w.left+","+w.top+")");var d=d3.scale.linear().domain([0,Math.max(o[0],a[0]||0,s[0])]).range(k?[r,0]:[0,r]),f=this.__chart__||d3.scale.linear().domain([0,1/0]).range(d.range());this.__chart__=d;var p=u.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(W-w.top-w.bottom)/2+")");p.append("text").attr("class","nv-title").text(function(t){return t.title}),p.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),b.width(r).height(i);var h=c.select(".nv-bulletWrap");d3.transition(h).call(b);var g=F||d.tickFormat(r/100),v=c.selectAll("g.nv-tick").data(d.ticks(E||r/50),function(t){return this.textContent||g(t)}),m=v.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+f(t)+",0)"}).style("opacity",1e-6);m.append("line").attr("y1",i).attr("y2",7*i/6),m.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*i/6).text(g);var y=d3.transition(v).transition().duration(b.duration()).attr("transform",function(t){return"translate("+d(t)+",0)"}).style("opacity",1);y.select("line").attr("y1",i).attr("y2",7*i/6),y.select("text").attr("y",7*i/6),d3.transition(v.exit()).transition().duration(b.duration()).attr("transform",function(t){return"translate("+d(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),O}return e.duration(0).headerEnabled(!1),b.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(t){e()}),O.bullet=b,O.dispatch=t,O.tooltip=e,O.options=vt.utils.optionsFunc.bind(O),O._options=Object.create({},{ranges:{get:function(){return M},set:function(t){M=t}},markers:{get:function(){return A},set:function(t){A=t}},measures:{get:function(){return C},set:function(t){C=t}},width:{get:function(){return S},set:function(t){S=t}},height:{get:function(){return W},set:function(t){W=t}},tickFormat:{get:function(){return F},set:function(t){F=t}},ticks:{get:function(){return E},set:function(t){E=t}},noData:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},orient:{get:function(){return n},set:function(t){k="right"==(n=t)||"bottom"==n}}}),vt.utils.inheritOptions(O,b),vt.utils.initOptions(O),O},vt.models.candlestickBar=function(){"use strict";var d,f,p,h,g,v={top:0,right:0,bottom:0,left:0},m=null,y=null,x=Math.floor(1e4*Math.random()),b=d3.scale.linear(),k=d3.scale.linear(),w=function(t){return t.x},M=function(t){return t.y},A=function(t){return t.open},C=function(t){return t.close},S=function(t){return t.high},W=function(t){return t.low},F=[],E=[],O=!1,D=!0,e=vt.utils.defaultColor(),n=!1,N=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function r(t){return t.each(function(t){d=d3.select(this);var e=vt.utils.availableWidth(m,d,v),n=vt.utils.availableHeight(y,d,v);vt.utils.initSVG(d);var r=e/t[0].values.length*.45;b.domain(f||d3.extent(t[0].values.map(w).concat(F))),O?b.range(h||[.5*e/t[0].values.length,e*(t[0].values.length-.5)/t[0].values.length]):b.range(h||[5+r/2,e-r/2-5]),k.domain(p||[d3.min(t[0].values.map(W).concat(E)),d3.max(t[0].values.map(S).concat(E))]).range(g||[n,0]),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]-.01*b.domain()[0],b.domain()[1]+.01*b.domain()[1]]):b.domain([-1,1])),k.domain()[0]===k.domain()[1]&&(k.domain()[0]?k.domain([k.domain()[0]+.01*k.domain()[0],k.domain()[1]-.01*k.domain()[1]]):k.domain([-1,1]));var i=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([t[0].values]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),a=o.append("defs"),s=o.append("g"),l=i.select("g");s.append("g").attr("class","nv-ticks"),i.attr("transform","translate("+v.left+","+v.top+")"),d.on("click",function(t,e){N.chartClick({data:t,index:e,pos:d3.event,id:x})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+x).append("rect"),i.select("#nv-chart-clip-path-"+x+" rect").attr("width",e).attr("height",n),l.attr("clip-path",D?"url(#nv-chart-clip-path-"+x+")":"");var u=i.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});u.exit().remove();var c=u.enter().append("g");u.attr("class",function(t,e,n){return(A(t,e)>C(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e});c.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+b(w(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return k(S(t,e))}).attr("x2",0).attr("y2",function(t,e){return k(W(t,e))}),c.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(b(w(t,e))-r/2)+","+(k(M(t,e))-(A(t,e)>C(t,e)?k(C(t,e))-k(A(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",r).attr("height",function(t,e){var n=A(t,e),r=C(t,e);return r<n?k(r)-k(n):k(n)-k(r)});u.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+b(w(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return k(S(t,e))}).attr("x2",0).attr("y2",function(t,e){return k(W(t,e))}),u.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(b(w(t,e))-r/2)+","+(k(M(t,e))-(A(t,e)>C(t,e)?k(C(t,e))-k(A(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",r).attr("height",function(t,e){var n=A(t,e),r=C(t,e);return r<n?k(r)-k(n):k(n)-k(r)})}),r}return r.highlightPoint=function(t,e){r.clearHighlights(),d.select(".nv-candlestickBar .nv-tick-0-"+t).classed("hover",e)},r.clearHighlights=function(){d.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},r.dispatch=N,r.options=vt.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return y},set:function(t){y=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return f},set:function(t){f=t}},yDomain:{get:function(){return p},set:function(t){p=t}},xRange:{get:function(){return h},set:function(t){h=t}},yRange:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return F},set:function(t){F=t}},forceY:{get:function(){return E},set:function(t){E=t}},padData:{get:function(){return O},set:function(t){O=t}},clipEdge:{get:function(){return D},set:function(t){D=t}},id:{get:function(){return x},set:function(t){x=t}},interactive:{get:function(){return n},set:function(t){n=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return M},set:function(t){M=t}},open:{get:function(){return A()},set:function(t){A=t}},close:{get:function(){return C()},set:function(t){C=t}},high:{get:function(){return S},set:function(t){S=t}},low:{get:function(){return W},set:function(t){W=t}},margin:{get:function(){return v},set:function(t){v.top=null!=t.top?t.top:v.top,v.right=null!=t.right?t.right:v.right,v.bottom=null!=t.bottom?t.bottom:v.bottom,v.left=null!=t.left?t.left:v.left}},color:{get:function(){return e},set:function(t){e=vt.utils.getColor(t)}}}),vt.utils.initOptions(r),r},vt.models.cumulativeLineChart=function(){"use strict";var y,x,b=vt.models.line(),k=vt.models.axis(),w=vt.models.axis(),M=vt.models.legend(),A=vt.models.legend(),C=vt.interactiveGuideline(),n=vt.models.tooltip(),S={top:30,right:30,bottom:50,left:60},W=null,F=vt.utils.defaultColor(),E=null,O=null,D=!0,N=!0,_=!0,T=!1,L=!0,B=!1,P=!0,I=b.id(),z=vt.utils.state(),V=null,e=null,j=function(t){return t.average},G=d3.dispatch("stateChange","changeState","renderEnd"),H=250,Y=!1;z.index=0,z.rescaleY=P,k.orient("bottom").tickPadding(7),w.orient(T?"right":"left"),n.valueFormatter(function(t,e){return w.tickFormat()(t,e)}).headerFormatter(function(t,e){return k.tickFormat()(t,e)}),A.updateState(!1);var R,X=d3.scale.linear(),q={i:0,x:0},r=vt.utils.renderWatch(G,H),Z=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:q.i,rescaleY:P}}},K=function(t){return function(n){void 0!==n.index&&(q.i=n.index),void 0!==n.rescaleY&&(P=n.rescaleY),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function U(t){return r.reset(),r.models(b),N&&r.models(k),_&&r.models(w),t.each(function(u){var t=d3.select(this);vt.utils.initSVG(t),t.classed("nv-chart-"+I,!0);var e,n=vt.utils.availableWidth(E,t,S),r=vt.utils.availableHeight(O,t,S);if(U.update=function(){0===H?t.call(U):t.transition().duration(H).call(U)},U.container=this,z.setter(K(u),U.update).getter(Z(u)).update(),z.disabled=u.map(function(t){return!!t.disabled}),!V)for(e in V={},z)z[e]instanceof Array?V[e]=z[e].slice(0):V[e]=z[e];var i=d3.behavior.drag().on("dragstart",function(t,e){d3.select(U.container).style("cursor","ew-resize")}).on("drag",function(t,e){q.x=d3.event.x,q.i=Math.round(X.invert(q.x)),m()}).on("dragend",function(t,e){d3.select(U.container).style("cursor","auto"),z.index=q.i,G.stateChange(z)});if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return vt.utils.noData(U,t),U;t.selectAll(".nv-noData").remove(),y=b.xScale(),x=b.yScale(),X.domain([0,u[0].values.length-1]).range([0,n]).clamp(!0);u=function(i,t){Q=Q||b.y();return t.map(function(t,e){if(!t.values)return t;var n=t.values[i];if(null==n)return t;var r=Q(n,i);return Math.abs(r)<1e-5&&!Y?t.tempDisabled=!0:(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(Q(t,e)-r)/r},t})),t})}(q.i,u);void 0===R&&(R=J(u)),P?b.yDomain(null):(b.yDomain(R),b.clipEdge(!0));var o,a=B?"none":"all",s=t.selectAll("g.nv-wrap.nv-cumulativeLine").data([u]),l=s.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),c=s.select("g");l.append("g").attr("class","nv-interactive"),l.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),l.append("g").attr("class","nv-y nv-axis"),l.append("g").attr("class","nv-background"),l.append("g").attr("class","nv-linesWrap").style("pointer-events",a),l.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),l.append("g").attr("class","nv-legendWrap"),l.append("g").attr("class","nv-controlsWrap"),D?(M.width(n),c.select(".nv-legendWrap").datum(u).call(M),W||M.height()===S.top||(S.top=M.height(),r=vt.utils.availableHeight(O,t,S)),c.select(".nv-legendWrap").attr("transform","translate(0,"+-S.top+")")):c.select(".nv-legendWrap").selectAll("*").remove(),L?(o=[{key:"Re-scale y-axis",disabled:!P}],A.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),c.select(".nv-controlsWrap").datum(o).attr("transform","translate(0,"+-S.top+")").call(A)):c.select(".nv-controlsWrap").selectAll("*").remove(),s.attr("transform","translate("+S.left+","+S.top+")"),T&&c.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)");var d=u.filter(function(t){return t.tempDisabled});s.select(".tempDisabled").remove(),d.length&&s.append("text").attr("class","tempDisabled").attr("x",n/2).attr("y","-.71em").style("text-anchor","end").text(d.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),B&&(C.width(n).height(r).margin({left:S.left,top:S.top}).svgContainer(t).xScale(y),s.select(".nv-interactive").call(C)),l.select(".nv-background").append("rect"),c.select(".nv-background rect").attr("width",n).attr("height",r),b.y(function(t){return t.display.y}).width(n).height(r).color(u.map(function(t,e){return t.color||F(t,e)}).filter(function(t,e){return!u[e].disabled&&!u[e].tempDisabled}));var f=c.select(".nv-linesWrap").datum(u.filter(function(t){return!t.disabled&&!t.tempDisabled}));f.call(b),u.forEach(function(t,e){t.seriesIndex=e});function p(t){var e=x(j(t));return e<0?0:r<e?r:e}var h=u.filter(function(t){return!t.disabled&&!!j(t)}),g=c.select(".nv-avgLinesWrap").selectAll("line").data(h,function(t){return t.key});g.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return b.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",n).attr("y1",p).attr("y2",p),g.style("stroke-opacity",function(t){var e=x(j(t));return e<0||r<e?0:1}).attr("x1",0).attr("x2",n).attr("y1",p).attr("y2",p),g.exit().remove();var v=f.selectAll(".nv-indexLine").data([q]);function m(){v.data([q]);var t=U.duration();U.duration(0),U.update(),U.duration(t)}v.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(i),v.attr("transform",function(t){return"translate("+X(t.i)+",0)"}).attr("height",r),N&&(k.scale(y)._ticks(vt.utils.calcTicksX(n/70,u)).tickSize(-r,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+x.range()[0]+")"),c.select(".nv-x.nv-axis").call(k)),_&&(w.scale(x)._ticks(vt.utils.calcTicksY(r/36,u)).tickSize(-n,0),c.select(".nv-y.nv-axis").call(w)),c.select(".nv-background rect").on("click",function(){q.x=d3.mouse(this)[0],q.i=Math.round(X.invert(q.x)),z.index=q.i,G.stateChange(z),m()}),b.dispatch.on("elementClick",function(t){q.i=t.pointIndex,q.x=X(q.i),z.index=q.i,G.stateChange(z),m()}),A.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,P=!t.disabled,(z.rescaleY=P)||(R=J(u)),G.stateChange(z),U.update()}),M.dispatch.on("stateChange",function(t){for(var e in t)z[e]=t[e];G.stateChange(z),U.update()}),C.dispatch.on("elementMousemove",function(r){b.clearHighlights();var i,o,a,t,e,n,s=[];u.filter(function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)}).forEach(function(t,e){o=vt.interactiveBisect(t.values,r.pointXValue,U.x()),b.highlightPoint(e,o,!0);var n=t.values[o];void 0!==n&&(void 0===i&&(i=n),void 0===a&&(a=U.xScale()(U.x()(n,o))),s.push({key:t.key,value:U.y()(n,o),color:F(t,t.seriesIndex)}))}),2<s.length&&(t=U.yScale().invert(r.mouseY),e=.03*Math.abs(U.yScale().domain()[0]-U.yScale().domain()[1]),null!==(n=vt.nearestValueIndex(s.map(function(t){return t.value}),t,e))&&(s[n].highlight=!0));var l=k.tickFormat()(U.x()(i,o),o);C.tooltip.valueFormatter(function(t,e){return w.tickFormat()(t)}).data({value:l,series:s})(),C.renderGuideLine(a)}),C.dispatch.on("elementMouseout",function(t){b.clearHighlights()}),G.on("changeState",function(n){void 0!==n.disabled&&(u.forEach(function(t,e){t.disabled=n.disabled[e]}),z.disabled=n.disabled),void 0!==n.index&&(q.i=n.index,q.x=X(q.i),z.index=n.index,v.data([q])),void 0!==n.rescaleY&&(P=n.rescaleY),U.update()})}),r.renderEnd("cumulativeLineChart immediate"),U}b.dispatch.on("elementMouseover.tooltip",function(t){var e={x:U.x()(t.point),y:U.y()(t.point),color:t.point.color};t.point=e,n.data(t).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)});var Q=null;function J(t){var e=t.filter(function(t){return!(t.disabled||t.tempDisabled)}).map(function(t,e){return d3.extent(t.values,function(t){return t.display.y})});return[d3.min(e,function(t){return t[0]}),d3.max(e,function(t){return t[1]})]}return U.dispatch=G,U.lines=b,U.legend=M,U.controls=A,U.xAxis=k,U.yAxis=w,U.interactiveLayer=C,U.state=z,U.tooltip=n,U.options=vt.utils.optionsFunc.bind(U),U._options=Object.create({},{width:{get:function(){return E},set:function(t){E=t}},height:{get:function(){return O},set:function(t){O=t}},showControls:{get:function(){return L},set:function(t){L=t}},showLegend:{get:function(){return D},set:function(t){D=t}},average:{get:function(){return j},set:function(t){j=t}},defaultState:{get:function(){return V},set:function(t){V=t}},noData:{get:function(){return e},set:function(t){e=t}},showXAxis:{get:function(){return N},set:function(t){N=t}},showYAxis:{get:function(){return _},set:function(t){_=t}},noErrorCheck:{get:function(){return Y},set:function(t){Y=t}},rescaleY:{get:function(){return P},set:function(t){P=t,U.state.rescaleY=t}},margin:{get:function(){return S},set:function(t){void 0!==t.top&&(S.top=t.top,W=t.top),S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left}},color:{get:function(){return F},set:function(t){F=vt.utils.getColor(t),M.color(F)}},useInteractiveGuideline:{get:function(){return B},set:function(t){!0===(B=t)&&(U.interactive(!1),U.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return T},set:function(t){T=t,w.orient(t?"right":"left")}},duration:{get:function(){return H},set:function(t){H=t,b.duration(H),k.duration(H),w.duration(H),r.reset(H)}}}),vt.utils.inheritOptions(U,b),vt.utils.initOptions(U),U},vt.models.differenceChart=function(){"use strict";var l=void 0,u=vt.models.multiChart(),c=vt.models.focus(vt.models.line()),d=function(t){return void 0!==t.y0?t.y0:t.y},f=function(t){return t.x},p=function(t){return t.x},h="x",g=function(t){return t.y},v=300,m=null,y=null,x=null,b=null,k={top:30,right:50,bottom:20,left:70},w={top:0,right:0,bottom:0,left:0},M=!0,A="linear",C=1,S=d3.time.scale(),W=d3.time.format.multi([["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",function(){return!0}]]);function F(t){t.each(function(t){l=d3.select(this);var e=(t||[]).filter(function(t){return!t.disabled});if(!t||!e.length)return vt.utils.noData(F,l),F;var n=E(t),r=vt.utils.availableHeight(x,l,k)-c.height(),i=vt.utils.availableWidth(b,l,k);l.attr("class","nv-differenceChart"),vt.utils.initSVG(l),F.container=this,u.margin(k).color(d3.scale.category10().range()).y(d).width(b).height(r).interpolate(A).useInteractiveGuideline(!0),u.interactiveLayer.tooltip.valueFormatter(function(t,e,n){if(n.key!==y&&n.key!==m)return t;var r=Math.abs(n.data.y0-n.data.y1);return 0===r?"-":r}),u.stack1.areaY1(function(t){return u.stack1.scatter.yScale()(t.display.y)}),u.stack1.transformData(function(t){t.display={y:t.y1,y0:t.y0}}),u.xAxis.scale(S),u.xAxis.tickFormat(W);var o=n.filter(function(t){return!t.disabled}).map(function(t){return t.values}),a=d3.extent(d3.merge(o),function(t){return f(t)});u.xAxis.domain(a).range([0,i]);var s=d3.extent(d3.merge(o),function(t){return d(t)});return u.yDomain1(s),u.yAxis1.tickFormat(d3.format(",.1f")),u.yAxis2.tickFormat(d3.format(",.1f")),c.width(i),c.margin(w),c.xScale(S.copy()),c.xAxis.tickFormat(W),c.xAxis.rotateLabels(0),l.append("g").attr("class","nv-focusWrap").style("display","initial").attr("transform","translate("+k.left+", "+(r+c.margin().top)+")").datum(n.filter(function(t){return"line"===t.type})).call(c),l.datum(n).call(u),c.dispatch.on("onBrush",function(o){var t=n.map(function(t){var n=-1,r=-1;t.values.some(function(t,e){return-1===n&&t.x>=o[0]&&(n=e),-1===r&&t.x>=o[1]&&(r=e,!0)});for(var e=t.values.slice(n,r),i=0;e.length<2&&i<5;)--n,r+=1,e=t.values.slice(n,r),i++;return Object.assign({},t,{values:e})});l.datum(t),u.xAxis.domain(o),u.update()}),F.update=function(){l.selectAll("*").remove(),0===v?l.call(F):l.transition().duration(v).call(F)},F})}function E(t){var e=t.slice(0),n=e.every(function(t){return t.processed}),r=e.filter(function(t){return"actual"===t.type}),i=e.filter(function(t){return"expected"===t.type});if(n)return e;if(!r.length||!i.length)return[];var o=i[0].key+" minus "+r[0].key+" (Predicted > Actual)",a=i[0].key+" minus "+r[0].key+" (Predicted < Actual)",s=[{key:m||o,type:"area",values:[],yAxis:1,color:"rgba(44,160,44,.9)",processed:!0,noHighlightSeries:!0},{key:y||a,type:"area",values:[],yAxis:1,color:"rgba(234,39,40,.9)",processed:!0,noHighlightSeries:!0},{key:r[0].key,type:"line",values:[],yAxis:1,color:"#666666",processed:!0,strokeWidth:C}];M&&(s[3]={key:i[0].key,type:"line",values:[],yAxis:1,color:"#aec7e8",processed:!0,strokeWidth:C});var l=r[0].values.reduce(function(t,e,n){return t[p(e)]=g(e),t},{}),u=i[0].values.reduce(function(t,e,n){return t[p(e)]=g(e),t},{});return Object.keys(l).forEach(function(t,e){var n=l[t],r=u[t],i={};i[h]=t;var o=p(i),a=r-n;isNaN(a)?(s[1].values[e]={x:o,y0:n,y1:n},s[0].values[e]={x:o,y0:n,y1:n}):a<0?(s[1].values[e]={x:o,y0:n,y1:r},s[0].values[e]={x:o,y0:n,y1:n}):(s[0].values[e]={x:o,y0:n,y1:r},s[1].values[e]={x:o,y0:n,y1:n}),s[2].values[e]={x:o,y:n},M&&(s[3].values[e]={x:o,y:r})}),s}return F.options=vt.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return x},set:function(t){x=t}},strokeWidth:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return p},set:function(t){p=t}},keyForXValue:{get:function(){return h},set:function(t){h=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return S},set:function(t){S=t}},keyForActualLessThanPredicted:{get:function(){return m},set:function(t){m=t}},keyForActualGreaterThanPredicted:{get:function(){return y},set:function(t){y=t}},showPredictedLine:{get:function(){return M},set:function(t){M=t}},tickFormat:{get:function(){return W},set:function(t){W=t}},interpolate:{get:function(){return A},set:function(t){A=t}},focusMargin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},margin:{get:function(){return k},set:function(t){k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}}}),F.xAxis=u.xAxis,F.yAxis=u.yAxis1,F.multiChart=u,F.focus=c,F.processData=E,vt.utils.inheritOptions(F,u),vt.utils.initOptions(F),F},vt.models.discreteBar=function(){"use strict";var u,c,d,f,p,h,g={top:0,right:0,bottom:0,left:0},v=960,m=500,e=Math.floor(1e4*Math.random()),y=d3.scale.ordinal(),x=d3.scale.linear(),b=function(t){return t.x},k=function(t){return t.y},w=[0],M=vt.utils.defaultColor(),A=0,C=!1,S=d3.format(",.2f"),W=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F="discreteBar",n=250,E=vt.utils.renderWatch(W,n);function r(t){return E.reset(),t.each(function(t){var e=v-g.left-g.right,n=m-g.top-g.bottom;u=d3.select(this),vt.utils.initSVG(u),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var r=c&&d?[]:t.map(function(t){return t.values.map(function(t,e){return{x:b(t,e),y:k(t,e),y0:t.y0}})});y.domain(c||d3.merge(r).map(function(t){return t.x})).rangeBands(f||[0,e],.1),x.domain(d||d3.extent(d3.merge(r).map(function(t){return t.y}).concat(w))),C?x.range(p||[n-(x.domain()[0]<0?12:0),0<x.domain()[1]?12:0]):x.range(p||[n,0]),h=h||x.copy().range([x(0),x(0)]);var i=u.selectAll("g.nv-wrap.nv-discretebar").data([t]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");i.select("g");o.append("g").attr("class","nv-groups"),i.attr("transform","translate("+g.left+","+g.top+")");var a=i.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});a.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),a.exit().watchTransition(E,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),a.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),a.watchTransition(E,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var s=a.selectAll("g.nv-bar").data(function(t){return t.values});s.exit().remove();var l=s.enter().append("g").attr("transform",function(t,e,n){return"translate("+(y(b(t,e))+.05*y.rangeBand())+", "+x(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),W.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),W.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){W.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){W.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){W.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});l.append("rect").attr("height",0).attr("width",.9*y.rangeBand()/t.length),C?(l.append("text").attr("text-anchor","middle"),s.select("text").text(function(t,e){return S(k(t,e))}).watchTransition(E,"discreteBar: bars text").attr("x",.9*y.rangeBand()/2).attr("y",function(t,e){return k(t,e)<0?x(k(t,e))-x(0)+12:-4})):s.selectAll("text").remove(),s.attr("class",function(t,e){return k(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||M(t,e)}).style("stroke",function(t,e){return t.color||M(t,e)}).select("rect").attr("rx",A).attr("class",F).watchTransition(E,"discreteBar: bars rect").attr("width",.9*y.rangeBand()/t.length),s.watchTransition(E,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(y(b(t,e))+.05*y.rangeBand())+", "+(k(t,e)<0?x(0):x(0)-x(k(t,e))<1?x(0)-1:x(k(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(x(k(t,e))-x(0)),1)}),y.copy(),h=x.copy()}),E.renderEnd("discreteBar immediate"),r}return r.dispatch=W,r.options=vt.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},forceY:{get:function(){return w},set:function(t){w=t}},showValues:{get:function(){return C},set:function(t){C=t}},cornerRadius:{get:function(){return A},set:function(t){A=t}},x:{get:function(){return b},set:function(t){b=t}},y:{get:function(){return k},set:function(t){k=t}},xScale:{get:function(){return y},set:function(t){y=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return f},set:function(t){f=t}},yRange:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return S},set:function(t){S=t}},id:{get:function(){return e},set:function(t){e=t}},rectClass:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},color:{get:function(){return M},set:function(t){M=vt.utils.getColor(t)}},duration:{get:function(){return n},set:function(t){n=t,E.reset(n)}}}),vt.utils.initOptions(r),r},vt.models.discreteBarChart=function(){"use strict";var u,c,d=vt.models.discreteBar(),f=vt.models.axis(),p=vt.models.axis(),h=vt.models.legend(),e=vt.models.tooltip(),g={top:15,right:10,bottom:50,left:60},v=null,m=null,y=null,n=vt.utils.getColor(),x=!1,b=!0,k=!0,w=!1,M=!1,A=!1,C=0,r=null,S=d3.dispatch("beforeUpdate","renderEnd"),W=250;f.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),p.orient(w?"right":"left").tickFormat(d3.format(",.1f")),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).keyFormatter(function(t,e){return f.tickFormat()(t,e)});var i=vt.utils.renderWatch(S,W);function F(t){return i.reset(),i.models(d),b&&i.models(f),k&&i.models(p),t.each(function(t){var e=d3.select(this);vt.utils.initSVG(e);var n=vt.utils.availableWidth(m,e,g),r=vt.utils.availableHeight(y,e,g);if(F.update=function(){S.beforeUpdate(),e.transition().duration(W).call(F)},F.container=this,!(t&&t.length&&t.filter(function(t){return t.values.length}).length))return vt.utils.noData(F,e),F;e.selectAll(".nv-noData").remove(),u=d.xScale(),c=d.yScale().clamp(!0);var i,o=e.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),s=a.append("defs"),l=o.select("g");a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),a.append("g").attr("class","nv-barsWrap"),a.append("g").attr("class","nv-legendWrap"),l.attr("transform","translate("+g.left+","+g.top+")"),x?(h.width(n),l.select(".nv-legendWrap").datum(t).call(h),v||h.height()===g.top||(g.top=h.height(),r=vt.utils.availableHeight(y,e,g)),o.select(".nv-legendWrap").attr("transform","translate(0,"+-g.top+")")):l.select(".nv-legendWrap").selectAll("*").remove(),w&&l.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),d.width(n).height(r),l.select(".nv-barsWrap").datum(t.filter(function(t){return!t.disabled})).transition().call(d),s.append("clipPath").attr("id","nv-x-label-clip-"+d.id()).append("rect"),l.select("#nv-x-label-clip-"+d.id()+" rect").attr("width",u.rangeBand()*(M?2:1)).attr("height",16).attr("x",-u.rangeBand()/(M?1:2)),b&&(f.scale(u)._ticks(vt.utils.calcTicksX(n/100,t)).tickSize(-r,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+(c.range()[0]+(d.showValues()&&c.domain()[0]<0?16:0))+")"),l.select(".nv-x.nv-axis").call(f),i=l.select(".nv-x.nv-axis").selectAll("g"),M&&i.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),C&&i.selectAll(".tick text").attr("transform","rotate("+C+" 0,0)").style("text-anchor",0<C?"start":"end"),A&&l.selectAll(".tick text").call(vt.utils.wrapTicks,F.xAxis.rangeBand())),k&&(p.scale(c)._ticks(vt.utils.calcTicksY(r/36,t,d.y())).tickSize(-n,0),l.select(".nv-y.nv-axis").call(p)),l.select(".nv-zeroLine line").attr("x1",0).attr("x2",w?-n:n).attr("y1",c(0)).attr("y2",c(0))}),i.renderEnd("discreteBar chart immediate"),F}return d.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:F.x()(t.data),value:F.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){e()}),F.dispatch=S,F.discretebar=d,F.legend=h,F.xAxis=f,F.yAxis=p,F.tooltip=e,F.options=vt.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return x},set:function(t){x=t}},staggerLabels:{get:function(){return M},set:function(t){M=t}},rotateLabels:{get:function(){return C},set:function(t){C=t}},wrapLabels:{get:function(){return A},set:function(t){A=!!t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return r},set:function(t){r=t}},margin:{get:function(){return g},set:function(t){void 0!==t.top&&(g.top=t.top,v=t.top),g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},duration:{get:function(){return W},set:function(t){W=t,i.reset(W),d.duration(W),f.duration(W),p.duration(W)}},color:{get:function(){return n},set:function(t){n=vt.utils.getColor(t),d.color(n),h.color(n)}},rightAlignYAxis:{get:function(){return w},set:function(t){w=t,p.orient(t?"right":"left")}}}),vt.utils.inheritOptions(F,d),vt.utils.initOptions(F),F},vt.models.distribution=function(){"use strict";var s,l={top:0,right:0,bottom:0,left:0},e=400,u=8,c="x",d=function(t){return t[c]},f=vt.utils.defaultColor(),p=d3.scale.linear(),n=250,t=d3.dispatch("renderEnd"),h=vt.utils.renderWatch(t,n);function r(t){return h.reset(),t.each(function(t){"x"===c?(l.left,l.right):(l.top,l.bottom);var e="x"==c?"y":"x",n=d3.select(this);vt.utils.initSVG(n),s=s||p;var r=n.selectAll("g.nv-distribution").data([t]),i=(r.enter().append("g").attr("class","nvd3 nv-distribution").append("g"),r.select("g"));r.attr("transform","translate("+l.left+","+l.top+")");var o=i.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});o.enter().append("g"),o.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return f(t,e)});var a=o.selectAll("line.nv-dist"+c).data(function(t){return t.values});a.enter().append("line").attr(c+"1",function(t,e){return s(d(t,e))}).attr(c+"2",function(t,e){return s(d(t,e))}),h.transition(o.exit().selectAll("line.nv-dist"+c),"dist exit").attr(c+"1",function(t,e){return p(d(t,e))}).attr(c+"2",function(t,e){return p(d(t,e))}).style("stroke-opacity",0).remove(),a.attr("class",function(t,e){return"nv-dist"+c+" nv-dist"+c+"-"+e}).attr(e+"1",0).attr(e+"2",u),h.transition(a,"dist").attr(c+"1",function(t,e){return p(d(t,e))}).attr(c+"2",function(t,e){return p(d(t,e))}),s=p.copy()}),h.renderEnd("distribution immediate"),r}return r.options=vt.utils.optionsFunc.bind(r),r.dispatch=t,r.margin=function(t){return arguments.length?(l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left,r):l},r.width=function(t){return arguments.length?(e=t,r):e},r.axis=function(t){return arguments.length?(c=t,r):c},r.size=function(t){return arguments.length?(u=t,r):u},r.getData=function(t){return arguments.length?(d=d3.functor(t),r):d},r.scale=function(t){return arguments.length?(p=t,r):p},r.color=function(t){return arguments.length?(f=vt.utils.getColor(t),r):f},r.duration=function(t){return arguments.length?(n=t,h.reset(n),r):n},r},vt.models.distroPlot=function(){"use strict";var v,s,l,u,c,m={top:0,right:0,bottom:0,left:0},y=960,x=500,e=Math.floor(1e4*Math.random()),b=d3.scale.ordinal(),k=d3.scale.linear(),d=function(t){return t.label},w=function(t){return t.value},M=function(t){return t.color},A=function(t){return t.values.q1},C=function(t){return t.values.q2},S=function(t){return t.values.q3},W=function(t){return("mean"==V?E:C)(t)-t.values.notch},F=function(t){return("mean"==V?E:C)(t)+t.values.notch},E=function(t){return t.values.mean},O=function(t){return t.values.wl[n]},D=function(t){return t.values.wu[n]},N=function(t){return t.values.min},_=function(t){return t.values.max},T=function(t){return t.values.dev},L=function(t){return t.values.observations},B=!1,n="iqr",P=!1,I=!1,z=!1,V=!1,j=!0,G=.7,H=!0,Y="scott",R=!0,X=50,q=3,Z=vt.utils.defaultColor(),K=null,U=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),r=250,Q=null;function J(t,e){void 0===e&&(e="scott");var n,r,i=(n=t.sort(d3.ascending),r=(d3.quantile(n,.75)-d3.quantile(n,.25))/1.349,d3.min([d3.deviation(n),r])),o=t.length;return"scott"===e?Math.pow(1.059*i*o,-.2):Math.pow(.9*i*o,-.2)}function $(t){function n(n,r){var t,e=n.map(function(t){return z&&it.add(z(t)),w(t)}).sort(d3.ascending),i=d3.quantile(e,.25),o=d3.quantile(e,.75),a=o-i,s=o+1.5*a,l=i-1.5*a,u={iqr:d3.max([d3.min(e),d3.min(e.filter(function(t){return l<t}))]),minmax:d3.min(e),stddev:d3.mean(e)-d3.deviation(e)},c={iqr:d3.min([d3.max(e),d3.max(e.filter(function(t){return t<s}))]),minmax:d3.max(e),stddev:d3.mean(e)+d3.deviation(e)},d=d3.median(e),f=d3.mean(e),p=[];void 0!==d3.beeswarm?(p=d3.beeswarm().data(n.map(function(t){return w(t)})).radius(q+1).orientation("vertical").side("symmetric").distributeOn(function(t){return k(t)}).arrange()).map(function(t,e){t.key=r,t.object_constancy=n[e].object_constancy,t.isOutlier=t.datum<u.iqr||t.datum>c.iqr,t.isOutlierStdDev=t.datum<u.stddev||t.datum>c.stddev,t.randX=Math.random()*G*(1==Math.floor(2*Math.random())?1:-1)}):e.forEach(function(t,e){p.push({object_constancy:t.object_constancy,datum:t,key:r,isOutlier:t<u.iqr||c.iqr<t,isOutlierStdDev:t<u.stddev||c.stddev<t,randX:Math.random()*G*(1==Math.floor(2*Math.random())?1:-1)})}),isNaN(parseFloat(Y))&&(t=-1!=["scott","silverman"].indexOf(Y)?J(e,Y):J(e));var h,g,v,m=(v=t,h=function(t){return Math.abs(t/=v)<=1?.75*(1-t*t)/v:0},g=k.ticks(X),function(n){return g.map(function(e){var t=d3.mean(n,function(t){return h(e-t)});return{x:e,y:t}})}),y=R?function(t,n){if(n[0]===n[1])return t;var e=t.reduce(function(t,e){return e.x>=n[0]&&e.x<=n[1]&&t.push(e),t},[]);n[0]<e[0].x&&e.unshift({x:n[0],y:e[0].y});n[1]>e[e.length-1].x&&e.push({x:n[1],y:e[e.length-1].y});return e}(m(e),d3.extent(e)):m(e),x=d3.scale.linear().domain([0,d3.max(y,function(t){return t.y})]).clamp(!0);ot.push(x);var b={count:e.length,num_outlier:p.filter(function(t){return t.isOutlier}).length,sum:d3.sum(e),mean:f,q1:i,q2:d,q3:o,wl:u,wu:c,iqr:a,min:d3.min(e),max:d3.max(e),dev:d3.deviation(e),observations:p,key:r,kde:y,notch:1.57*a/Math.sqrt(e.length)};return z&&at.push({key:r,values:b}),b}var r;if(t.forEach(function(t,e){t.object_constancy=e+"_"+w(t)+"_"+d(t)}),z){it=d3.set();var e=d3.nest().key(function(t){return d(t)}).key(function(t){return z(t)}).rollup(function(t){return n(t,d(t[0]))}).entries(t);it=it.values();for(var i=e.map(function(t){return t.key}),o=[],a=0;a<i.length;a++)for(var s=0;s<it.length;s++)o.push(i[a]+"_"+it[s]);it=o,r=[],e.forEach(function(e){e.values.forEach(function(t){t.key=e.key+"_"+t.key}),r.push.apply(r,e.values)})}else r=d3.nest().key(function(t){return d(t)}).rollup(function(t,e){return n(t)}).entries(t);return r}function tt(t){return"iqr"==n&&t.isOutlier||"stddev"==n&&t.isOutlierStdDev}var et,nt,rt,it=d3.set(),ot=[],at=[],st=vt.utils.renderWatch(U,r);function i(t){return st.reset(),t.each(function(t){nt=y-m.left-m.right,rt=x-m.top-m.bottom,K=d3.select(this),vt.utils.initSVG(K),k.domain(u||d3.extent(t.map(function(t){return w(t)}))).nice().range(c||[rt,0]),void 0===et&&(et=$(t)),b.rangeBands(l||[0,nt],.1).domain(s||z&&!H?it:et.map(function(t){return t.key}));var e=K.selectAll("g.nv-wrap").data([et]);e.enter().append("g").attr("class","nvd3 nv-wrap");e.watchTransition(st,"nv-wrap: wrap").attr("transform","translate("+m.left+","+m.top+")");var o,d=e.selectAll(".nv-distroplot-x-group").data(function(t){return t});d.each(function(t,e){d3.select(this).selectAll("line.nv-distroplot-middle").datum(t)}),o=d.enter().append("g").attr("class","nv-distroplot-x-group").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).style("fill",function(t,e){return M(t)||Z(t,e)}).style("stroke",function(t,e){return M(t)||Z(t,e)}),d.exit().remove();function n(){return b.rangeBand()}function f(){return d3.min([Q,.9*n()])}function p(){return f()/2}function h(){return p()-f()/2}function g(){return p()-f()/5}function r(){return p()+f()/5}o.attr("transform",function(t){return"translate("+(b(t.key)+.5*(n()-f()))+", 0)"}),d.watchTransition(st,"nv-distroplot-x-group: distroplots").style("stroke-opacity",1).style("fill-opacity",.5).attr("transform",function(t){return"translate("+(b(t.key)+.5*(n()-f()))+", 0)"}),ot.map(function(t){t.range([f()/2,0])}),v||(j=!1,B=B||"random"),o.each(function(t,e){var n=d3.select(this);[O,D].forEach(function(t){var e=t===O?"low":"high";n.append("line").style("opacity",function(){return P?"1":"0"}).attr("class","nv-distroplot-whisker nv-distroplot-"+e),n.append("line").style("opacity",function(){return P?"0":"1"}).attr("class","nv-distroplot-tick nv-distroplot-"+e)})}),[O,D].forEach(function(n){var t=n===O?"low":"high",e=n===O?A:S;d.select("line.nv-distroplot-whisker.nv-distroplot-"+t).watchTransition(st,"nv-distroplot-x-group: distroplots").attr("x1",p()).attr("y1",function(t){return k(("violin"!=v?n:C)(t))}).attr("x2",p()).attr("y2",function(t){return k(("box"==v?e:C)(t))}).style("opacity",function(){return P?"0":"1"}),d.select("line.nv-distroplot-tick.nv-distroplot-"+t).watchTransition(st,"nv-distroplot-x-group: distroplots").attr("x1",function(t){return("violin"!=v?g:p)()}).attr("y1",function(t,e){return k(("violin"!=v?n:C)(t))}).attr("x2",function(t){return("violin"!=v?r:p)()}).attr("y2",function(t,e){return k(("violin"!=v?n:C)(t))}).style("opacity",function(){return P?"0":"1"})}),[O,D].forEach(function(r){var i=r===O?"low":"high";o.selectAll(".nv-distroplot-"+i).on("mouseover",function(t,e,n){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+i).classed("hover",!0),U.elementMouseover({value:"low"==i?"Lower whisker":"Upper whisker",series:{key:r(t).toFixed(2),color:M(t)||Z(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+i).classed("hover",!1),U.elementMouseout({value:"low"==i?"Lower whisker":"Upper whisker",series:{key:r(t).toFixed(2),color:M(t)||Z(t,n)},e:d3.event})}).on("mousemove",function(t,e){U.elementMousemove({e:d3.event})})}),o.each(function(t,e){var n=d3.select(this);["left","right"].forEach(function(e){["line","area"].forEach(function(t){n.append("path").attr("class","nv-distribution-"+t+" nv-distribution-"+e).attr("transform","rotate(90,0,0)   translate(0,"+("left"==e?-f():0)+")"+("left"==e?"":" scale(1,-1)"))})}),o.selectAll(".nv-distribution-line").style("fill","none"),o.selectAll(".nv-distribution-area").style("stroke","none").style("opacity",.7)}),d.each(function(t,e){var n,r,i,o,a,s=d3.select(this),l="box"==v?(n=h(),r=g(),i=p(),a=("mean"==V?E:C)(o=t),I?[{x:i,y:k(A(o))},{x:n,y:k(A(o))},{x:n,y:k(W(o))},{x:r,y:k(a)},{x:n,y:k(F(o))},{x:n,y:k(S(o))},{x:i,y:k(S(o))}]:[{x:i,y:k(A(o))},{x:n,y:k(A(o))},{x:n,y:k(a)},{x:n,y:k(a)},{x:n,y:k(a)},{x:n,y:k(S(o))},{x:i,y:k(S(o))}]):t.values.kde;s.selectAll("path").datum(l);var u=ot[e],c="box"==v?"linear":"basis";"box"==v||"violin"==v?["left","right"].forEach(function(t){d.selectAll(".nv-distribution-line.nv-distribution-"+t).attr("d",d3.svg.line().x(function(t){return"box"==v?t.y:k(t.x)}).y(function(t){return"box"==v?t.x:u(t.y)}).interpolate(c)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==t?-f():0)+")"+("left"==t?"":" scale(1,-1)")).style("opacity",v?"1":"0"),d.selectAll(".nv-distribution-area.nv-distribution-"+t).attr("d",d3.svg.area().x(function(t){return"box"==v?t.y:k(t.x)}).y(function(t){return"box"==v?t.x:u(t.y)}).y0(f()/2).interpolate(c)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==t?-f():0)+")"+("left"==t?"":" scale(1,-1)")).style("opacity",v?"1":"0")}):(d.selectAll(".nv-distribution-area").watchTransition(st,"nv-distribution-area: distroplots").style("opacity",v?"1":"0"),d.selectAll(".nv-distribution-line").watchTransition(st,"nv-distribution-line: distroplots").style("opacity",v?"1":"0"))}),d.selectAll("path").on("mouseover",function(t,e,n){t=d3.select(this.parentNode).datum(),d3.select(this).classed("hover",!0),U.elementMouseover({key:t.key,value:"Group "+t.key+" stats",series:[{key:"max",value:_(t).toFixed(2),color:M(t)||Z(t,n)},{key:"Q3",value:S(t).toFixed(2),color:M(t)||Z(t,n)},{key:"Q2",value:C(t).toFixed(2),color:M(t)||Z(t,n)},{key:"Q1",value:A(t).toFixed(2),color:M(t)||Z(t,n)},{key:"min",value:N(t).toFixed(2),color:M(t)||Z(t,n)},{key:"mean",value:E(t).toFixed(2),color:M(t)||Z(t,n)},{key:"std. dev.",value:T(t).toFixed(2),color:M(t)||Z(t,n)},{key:"count",value:t.values.count,color:M(t)||Z(t,n)},{key:"num. outliers",value:t.values.num_outlier,color:M(t)||Z(t,n)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),t=d3.select(this.parentNode).datum(),U.elementMouseout({key:t.key,value:"Group "+t.key+" stats",series:[{key:"max",value:_(t).toFixed(2),color:M(t)||Z(t,n)},{key:"Q3",value:S(t).toFixed(2),color:M(t)||Z(t,n)},{key:"Q2",value:C(t).toFixed(2),color:M(t)||Z(t,n)},{key:"Q1",value:A(t).toFixed(2),color:M(t)||Z(t,n)},{key:"min",value:N(t).toFixed(2),color:M(t)||Z(t,n)},{key:"mean",value:E(t).toFixed(2),color:M(t)||Z(t,n)},{key:"std. dev.",value:T(t).toFixed(2),color:M(t)||Z(t,n)},{key:"count",value:t.values.count,color:M(t)||Z(t,n)},{key:"num. outliers",value:t.values.num_outlier,color:M(t)||Z(t,n)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){U.elementMousemove({e:d3.event})}),o.append("line").attr("class",function(t){return"nv-distroplot-middle"}),d.selectAll("line.nv-distroplot-middle").watchTransition(st,"nv-distroplot-x-group: distroplots line").attr("x1",I?g:"violin"!=v?h:g()).attr("y1",function(t,e,n){return k(("mean"==V?E:C)(t))}).attr("x2",I?r:"violin"!=v?function(){return p()+f()/2}:r()).attr("y2",function(t,e){return k(("mean"==V?E:C)(t))}).style("opacity",V?"1":"0"),d.selectAll(".nv-distroplot-middle").on("mouseover",function(t,e,n){var r;0!=d3.select(this).style("opacity")&&(r=d3.select(this.parentNode).style("fill"),d3.select(this).classed("hover",!0),U.elementMouseover({value:"mean"==V?"Mean":"Median",series:{key:"mean"==V?E(t).toFixed(2):C(t).toFixed(2),color:r},e:d3.event}))}).on("mouseout",function(t,e,n){var r;0!=d3.select(this).style("opacity")&&(d3.select(this).classed("hover",!1),r=d3.select(this.parentNode).style("fill"),U.elementMouseout({value:"mean"==V?"Mean":"Median",series:{key:"mean"==V?E(t).toFixed(2):C(t).toFixed(2),color:r},e:d3.event}))}).on("mousemove",function(t,e){U.elementMousemove({e:d3.event})});var i=d.selectAll("g.nv-distroplot-observation").data(function(t){return L(t)},function(t){return t.object_constancy}),a=i.enter().append("g").attr("class","nv-distroplot-observation");a.append("circle").style({opacity:0}),a.append("line").style("stroke-width",1).style({stroke:d3.rgb(85,85,85),opacity:0}),i.exit().remove(),i.attr("class",function(t){return"nv-distroplot-observation "+(tt(t)&&"box"==v?"nv-distroplot-outlier":"nv-distroplot-non-outlier")}),"line"==B?d.selectAll("g.nv-distroplot-observation line").watchTransition(st,"nv-distrolot-x-group: nv-distoplot-observation").attr("x1",g()+f()/4).attr("x2",r()-f()/4).attr("y1",function(t){return k(t.datum)}).attr("y2",function(t){return k(t.datum)}):(d.selectAll("g.nv-distroplot-observation circle").watchTransition(st,"nv-distroplot: nv-distroplot-observation").attr("cy",function(t){return k(t.datum)}).attr("r",q),d.selectAll("g.nv-distroplot-observation circle").watchTransition(st,"nv-distroplot: nv-distroplot-observation").attr("cx",function(t){return"swarm"==B?t.x+f()/2:"random"==B?f()/2+t.randX*f()/2:f()/2})),!1!==B&&(j?(d.selectAll(".nv-distroplot-outlier "+("line"==B?"line":"circle")).watchTransition(st,"nv-distroplot: nv-distroplot-observation").style("opacity",1),d.selectAll(".nv-distroplot-non-outlier "+("line"==B?"line":"circle")).watchTransition(st,"nv-distroplot: nv-distroplot-observation").style("opacity",0)):d.selectAll("line"==B?"line":"circle").watchTransition(st,"nv-distroplot: nv-distroplot-observation").style("opacity",1)),d.selectAll(".nv-distroplot-observation"+("line"==B?" circle":" line")).watchTransition(st,"nv-distroplot: nv-distoplot-observation").style("opacity",0),d.selectAll(".nv-distroplot-observation").on("mouseover",function(t,e,n){var r,i=d3.select(this);j&&"box"==v&&!tt(t)||(r=d3.select(this.parentNode).style("fill"),i.classed("hover",!0),U.elementMouseover({value:"box"==v&&tt(t)?"Outlier":"Observation",series:{key:t.datum.toFixed(2),color:r},e:d3.event}))}).on("mouseout",function(t,e,n){var r=d3.select(this),i=d3.select(this.parentNode).style("fill");r.classed("hover",!1),U.elementMouseout({value:"box"==v&&tt(t)?"Outlier":"Observation",series:{key:t.datum.toFixed(2),color:i},e:d3.event})}).on("mousemove",function(t,e){U.elementMousemove({e:d3.event})})}),st.renderEnd("nv-distroplot-x-group immediate"),i}return i.dispatch=U,i.options=vt.utils.optionsFunc.bind(i),i._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return x},set:function(t){x=t}},maxBoxWidth:{get:function(){return Q},set:function(t){Q=t}},x:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return w},set:function(t){w=t}},plotType:{get:function(){return v},set:function(t){v=t}},observationType:{get:function(){return B},set:function(t){B=t}},whiskerDef:{get:function(){return n},set:function(t){n=t}},notchBox:{get:function(){return I},set:function(t){I=t}},hideWhiskers:{get:function(){return P},set:function(t){P=t}},colorGroup:{get:function(){return z},set:function(t){z=t}},centralTendency:{get:function(){return V},set:function(t){V=t}},bandwidth:{get:function(){return Y},set:function(t){Y=t}},clampViolin:{get:function(){return R},set:function(t){R=t}},resolution:{get:function(){return X},set:function(t){X=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return k},set:function(t){k=t}},showOnlyOutliers:{get:function(){return j},set:function(t){j=t}},jitter:{get:function(){return G},set:function(t){G=t}},squash:{get:function(){return H},set:function(t){H=t}},pointSize:{get:function(){return q},set:function(t){q=t}},xDomain:{get:function(){return s},set:function(t){s=t}},yDomain:{get:function(){return u},set:function(t){u=t}},xRange:{get:function(){return l},set:function(t){l=t}},yRange:{get:function(){return c},set:function(t){c=t}},recalcData:{get:function(){et=$(K.datum())}},itemColor:{get:function(){return M},set:function(t){M=t}},id:{get:function(){return e},set:function(t){e=t}},margin:{get:function(){return m},set:function(t){m.top=void 0!==t.top?t.top:m.top,m.right=void 0!==t.right?t.right:m.right,m.bottom=void 0!==t.bottom?t.bottom:m.bottom,m.left=void 0!==t.left?t.left:m.left}},color:{get:function(){return Z},set:function(t){Z=vt.utils.getColor(t)}},duration:{get:function(){return r},set:function(t){r=t,st.reset(r)}}}),vt.utils.initOptions(i),i},vt.models.distroPlotChart=function(){"use strict";var u,c,d=vt.models.distroPlot(),f=vt.models.axis(),p=vt.models.axis(),h={top:25,right:10,bottom:40,left:60},g=null,v=null,e=vt.utils.getColor(),m=!0,y=!0,x=!1,b=!1,n=!1,r=!1,i=vt.models.tooltip(),k="No Data Available.",w=d3.dispatch("stateChange","beforeUpdate","renderEnd"),M=500;f.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),p.orient(x?"right":"left").tickFormat(d3.format(",.1f")),i.duration(0);var A,C,S,W,F,E,O,D=vt.utils.renderWatch(w,M);h.top;function N(t){return!function(t,e){if(t.length!==e.length)return!1;for(var n=t.length;n--;)if("object_constancy"in t[n]&&delete t[n].object_constancy,"object_constancy"in e[n]&&delete e[n].object_constancy,!function(t,e){var n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!==e[o])return!1}return!0}(t[n],e[n]))return!1;return!0}(t,O)&&(O=JSON.parse(JSON.stringify(t)),1)}function _(t){return D.reset(),D.models(d),m&&D.models(f),y&&D.models(p),t.each(function(e){var n=d3.select(this);vt.utils.initSVG(n);var t=(g||parseInt(n.style("width"))||960)-h.left-h.right,r=(v||parseInt(n.style("height"))||400)-h.top-h.bottom;if(void 0===O&&(O=JSON.parse(JSON.stringify(e))),_.update=function(){w.beforeUpdate();var t=d.options();A===t.colorGroup()&&C===t.x()&&S===t.y()&&F===t.bandwidth()&&W===t.resolution()&&E===t.clampViolin()&&!N(e)||d.recalcData(),n.transition().duration(M).call(_)},_.container=this,"function"!=typeof d3.beeswarm&&"swarm"==_.options().observationType()){h.left;return k='Please include the library https://github.com/Kcnarf/d3-beeswarm to use "swarm".',vt.utils.noData(_,n),_}if(!e||!e.length)return vt.utils.noData(_,n),_;n.selectAll(".nv-noData").remove(),u=d.xScale(),c=d.yScale().clamp(!0);var i,o=n.selectAll("g.nv-wrap.nv-distroPlot").data([e]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-distroPlot").append("g"),s=a.append("defs"),l=o.select("g");a.append("g").attr("class","nv-x nv-axis"),a.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),a.append("g").attr("class","nv-distroWrap"),a.attr("transform","translate("+h.left+","+h.top+")"),l.watchTransition(D,"nv-wrap: wrap").attr("transform","translate("+h.left+","+h.top+")"),x&&l.select(".nv-y.nv-axis").attr("transform","translate("+t+",0)"),d.width(t).height(r),l.select(".nv-distroWrap").datum(e).transition().call(d),s.append("clipPath").attr("id","nv-x-label-clip-"+d.id()).append("rect"),l.select("#nv-x-label-clip-"+d.id()+" rect").attr("width",u.rangeBand()*(b?2:1)).attr("height",16).attr("x",-u.rangeBand()/(b?1:2)),m&&(f.scale(u).ticks(vt.utils.calcTicksX(t/100,e)).tickSize(-r,0),l.select(".nv-x.nv-axis").attr("transform","translate(0,"+c.range()[0]+")"),l.select(".nv-x.nv-axis").call(f),i=l.select(".nv-x.nv-axis").selectAll("g"),b&&i.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})),y&&(p.scale(c).ticks(Math.floor(r/36)).tickSize(-t,0),l.select(".nv-y.nv-axis").call(p)),l.select(".nv-zeroLine line").attr("x1",0).attr("x2",t).attr("y1",c(0)).attr("y2",c(0)),A=d.options().colorGroup(),C=d.options().x(),S=d.options().y(),F=d.options().bandwidth(),W=d.options().resolution(),E=d.options().clampViolin()}),D.renderEnd("nv-distroplot chart immediate"),_}return d.dispatch.on("elementMouseover.tooltip",function(t){i.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){i.data(t).hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){i()}),_.dispatch=w,_.distroplot=d,_.xAxis=f,_.yAxis=p,_.tooltip=i,_.options=vt.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return v},set:function(t){v=t}},staggerLabels:{get:function(){return b},set:function(t){b=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},tooltipContent:{get:function(){return i},set:function(t){i=t}},noData:{get:function(){return k},set:function(t){k=t}},defaultState:{get:function(){return defaultState},set:function(t){defaultState=t}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},duration:{get:function(){return M},set:function(t){M=t,D.reset(M),d.duration(M),f.duration(M),p.duration(M)}},color:{get:function(){return e},set:function(t){e=vt.utils.getColor(t),d.color(e)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,p.orient(t?"right":"left")}},xLabel:{get:function(){return n},set:function(t){n=t,f.axisLabel(n)}},yLabel:{get:function(){return r},set:function(t){r=t,p.axisLabel(r)}}}),vt.utils.inheritOptions(_,d),vt.utils.initOptions(_),_},vt.models.focus=function(f){"use strict";var p,h,f=f||vt.models.line(),g=vt.models.axis(),v=vt.models.axis(),m=d3.svg.brush(),y={top:10,right:0,bottom:30,left:0},x=vt.utils.defaultColor(),b=null,k=70,w=!0,M=!1,A=!1,C=null,S=250,W=d3.dispatch("brush","onBrush","renderEnd"),F=!0;f.interactive(!1),f.pointActive(function(t){return!1});var e=vt.utils.renderWatch(W,S);function E(t){return e.reset(),e.models(f),w&&e.models(g),M&&e.models(v),t.each(function(n){var t=d3.select(this);vt.utils.initSVG(t);var i=vt.utils.availableWidth(b,t,y),o=k-y.top-y.bottom;E.update=function(){0===S?t.call(E):t.transition().duration(S).call(E)},E.container=this,p=f.xScale(),h=f.yScale();var e=t.selectAll("g.nv-focus").data([n]),r=e.enter().append("g").attr("class","nvd3 nv-focus").append("g"),a=e.select("g");e.attr("transform","translate("+y.left+","+y.top+")"),r.append("g").attr("class","nv-background").append("rect"),r.append("g").attr("class","nv-x nv-axis"),r.append("g").attr("class","nv-y nv-axis"),r.append("g").attr("class","nv-contentWrap"),r.append("g").attr("class","nv-brushBackground"),r.append("g").attr("class","nv-x nv-brush"),A&&a.select(".nv-y.nv-axis").attr("transform","translate("+i+",0)"),a.select(".nv-background rect").attr("width",i).attr("height",o),f.width(i).height(o).color(n.map(function(t,e){return t.color||x(t,e)}).filter(function(t,e){return!n[e].disabled}));var s=a.select(".nv-contentWrap").datum(n.filter(function(t){return!t.disabled}));d3.transition(s).call(f),m.x(p).on("brush",function(){d(F)}),m.on("brushend",function(){F||W.onBrush(m.empty()?p.domain():m.extent())}),C&&m.extent(C);var l=a.select(".nv-brushBackground").selectAll("g").data([C||m.extent()]),u=l.enter().append("g");u.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",o),u.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",o);var c=a.select(".nv-x.nv-brush").call(m);function d(t){C=m.empty()?null:m.extent();var e=m.empty()?p.domain():m.extent();W.brush({extent:e,brush:m}),m.empty()||m.extent(C),l.data([m.empty()?p.domain():C]).each(function(t,e){var n=p(t[0])-p.range()[0],r=i-p(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",p(t[1])).attr("width",r<0?0:r)}),t&&W.onBrush(e)}c.selectAll("rect").attr("height",o),c.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=o/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(6+r)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(8+r)+"V"+(2*r-8)+"M"+4.5*n+","+(8+r)+"V"+(2*r-8)}),d(!0),a.select(".nv-background rect").attr("width",i).attr("height",o),w&&(g.scale(p)._ticks(vt.utils.calcTicksX(i/100,n)).tickSize(-o,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")"),d3.transition(a.select(".nv-x.nv-axis")).call(g)),M&&(v.scale(h)._ticks(vt.utils.calcTicksY(o/36,n)).tickSize(-i,0),d3.transition(a.select(".nv-y.nv-axis")).call(v)),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")")}),e.renderEnd("focus immediate"),E}return E.dispatch=W,E.content=f,E.brush=m,E.xAxis=g,E.yAxis=v,E.options=vt.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return b},set:function(t){b=t}},height:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return w},set:function(t){w=t}},showYAxis:{get:function(){return M},set:function(t){M=t}},brushExtent:{get:function(){return C},set:function(t){C=t}},syncBrushing:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return y},set:function(t){y.top=void 0!==t.top?t.top:y.top,y.right=void 0!==t.right?t.right:y.right,y.bottom=void 0!==t.bottom?t.bottom:y.bottom,y.left=void 0!==t.left?t.left:y.left}},duration:{get:function(){return S},set:function(t){S=t,e.reset(S),f.duration(S),g.duration(S),v.duration(S)}},color:{get:function(){return x},set:function(t){x=vt.utils.getColor(t),f.color(x)}},interpolate:{get:function(){return f.interpolate()},set:function(t){f.interpolate(t)}},xTickFormat:{get:function(){return g.tickFormat()},set:function(t){g.tickFormat(t)}},yTickFormat:{get:function(){return v.tickFormat()},set:function(t){v.tickFormat(t)}},x:{get:function(){return f.x()},set:function(t){f.x(t)}},y:{get:function(){return f.y()},set:function(t){f.y(t)}},rightAlignYAxis:{get:function(){return A},set:function(t){A=t,v.orient(A?"right":"left")}}}),vt.utils.inheritOptions(E,f),vt.utils.initOptions(E),E},vt.models.forceDirectedGraph=function(){"use strict";var s={top:2,right:0,bottom:2,left:0},l=400,u=32,c=null,t=d3.dispatch("renderEnd"),d=vt.utils.getColor(["#000"]),f=vt.models.tooltip(),e=null,p=.1,h=.9,g=30,v=-120,m=.1,y=.8,x=.1,b=5,k=function(t){},w=function(t){},n=d3.functor(0),r=d3.functor(0),i=vt.utils.renderWatch(t);function M(t){return i.reset(),t.each(function(t){c=d3.select(this),vt.utils.initSVG(c);var e=vt.utils.availableWidth(l,c,s),n=vt.utils.availableHeight(u,c,s);if(c.attr("width",e).attr("height",n),!(t&&t.links&&t.nodes))return vt.utils.noData(M,c),M;c.selectAll(".nv-noData").remove(),c.selectAll("*").remove();var r=new Set;t.nodes.forEach(function(t){Object.keys(t).forEach(function(t){r.add(t)})});var i=d3.layout.force().nodes(t.nodes).links(t.links).size([e,n]).linkStrength(p).friction(h).linkDistance(g).charge(v).gravity(m).theta(y).alpha(x).start(),o=c.selectAll(".link").data(t.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),a=c.selectAll(".node").data(t.nodes).enter().append("g").attr("class","nv-force-node").call(i.drag);a.append("circle").attr("r",b).style("fill",function(t){return d(t)}).on("mouseover",function(e){c.select(".nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",e.py),c.select(".nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",e.px);var n=d(e);e.series=[],r.forEach(function(t){e.series.push({color:n,key:t,value:e[t]})}),f.data(e).hidden(!1)}).on("mouseout",function(t){f.hidden(!0)}),f.headerFormatter(function(t){return"Node"}),w(o),k(a),i.on("tick",function(){o.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),a.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),M}return M.options=vt.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},linkStrength:{get:function(){return p},set:function(t){p=t}},friction:{get:function(){return h},set:function(t){h=t}},linkDist:{get:function(){return g},set:function(t){g=t}},charge:{get:function(){return v},set:function(t){v=t}},gravity:{get:function(){return m},set:function(t){m=t}},theta:{get:function(){return y},set:function(t){y=t}},alpha:{get:function(){return x},set:function(t){x=t}},radius:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return n},set:function(t){n=d3.functor(t)}},y:{get:function(){return r},set:function(t){r=d3.functor(t)}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return d},set:function(t){d=vt.utils.getColor(t)}},noData:{get:function(){return e},set:function(t){e=t}},nodeExtras:{get:function(){return k},set:function(t){k=t}},linkExtras:{get:function(){return w},set:function(t){w=t}}}),M.dispatch=t,M.tooltip=f,vt.utils.initOptions(M),M},vt.models.furiousLegend=function(){"use strict";var A={top:5,right:0,bottom:5,left:0},C=400,S=20,W=function(t){return t.key},F=function(t){return t},E=vt.utils.getColor(),O=20,D=!0,N=28,_=!0,T=!0,L=!1,B=!1,P=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),I="classic";function e(t){function w(t,e){return"furious"!=I?"#000":B?t.disengaged?E(t,e):"#fff":B?void 0:t.disabled?E(t,e):"#fff"}function M(t,e){return B&&"furious"==I?t.disengaged?"#fff":E(t,e):t.disabled?"#fff":E(t,e)}return t.each(function(t){var e=C-A.left-A.right,n=d3.select(this);vt.utils.initSVG(n);var r=n.selectAll("g.nv-legend").data([t]),i=(r.enter().append("g").attr("class","nvd3 nv-legend").append("g"),r.select("g"));r.attr("transform","translate("+A.left+","+A.top+")");var o,a=i.selectAll(".nv-series").data(function(t){return"furious"!=I?t:t.filter(function(t){return!!B||!t.disengaged})}),s=a.enter().append("g").attr("class","nv-series");"classic"==I?(s.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),o=a.select("circle")):"furious"==I&&(s.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),o=a.select("rect"),s.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),a.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",w(t,e))})),s.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var l,u=a.select("text.nv-legend-text");switch(a.on("mouseover",function(t,e){P.legendMouseover(t,e)}).on("mouseout",function(t,e){P.legendMouseout(t,e)}).on("click",function(t,e){P.legendClick(t,e);var n=a.data();T&&("classic"==I?L?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==I&&(B?(t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):B||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),P.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){var n;"furious"==I&&B||(P.legendDblclick(t,e),T&&((n=a.data()).forEach(function(t){t.disabled=!0,"furious"==I&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==I&&(t.userDisabled=t.disabled),P.stateChange({disabled:n.map(function(t){return!!t.disabled})})))}),a.classed("nv-disabled",function(t){return t.userDisabled}),a.exit().remove(),u.attr("fill",w).text(function(t){return F(W(t))}),I){case"furious":l=23;break;case"classic":l=20}if(D){var c=[];a.each(function(t,e){var n,r,i;F(W(t))&&F(W(t)).length>O?(n=F(W(t)).substring(0,O),r=d3.select(this).select("text").text(n+"..."),d3.select(this).append("svg:title").text(F(W(t)))):r=d3.select(this).select("text");try{if((i=r.node().getComputedTextLength())<=0)throw Error()}catch(t){i=vt.utils.calcApproxTextWidth(r)}c.push(i+N)});for(var d=0,f=0,p=[];f<e&&d<c.length;)p[d]=c[d],f+=c[d++];for(0===d&&(d=1);e<f&&1<d;){p=[],d--;for(var h=0;h<c.length;h++)c[h]>(p[h%d]||0)&&(p[h%d]=c[h]);f=p.reduce(function(t,e,n,r){return t+e})}for(var g=[],v=0,m=0;v<d;v++)g[v]=m,m+=p[v];a.attr("transform",function(t,e){return"translate("+g[e%d]+","+(5+Math.floor(e/d)*l)+")"}),_?i.attr("transform","translate("+(C-A.right-f)+","+A.top+")"):i.attr("transform","translate(0,"+A.top+")"),S=A.top+A.bottom+Math.ceil(c.length/d)*l}else{var y,x=5,b=5,k=0;a.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+N;return y=b,C<A.left+A.right+y+n&&(b=y=5,x+=l),k<(b+=n)&&(k=b),"translate("+y+","+x+")"}),i.attr("transform","translate("+(C-A.right-k)+","+A.top+")"),S=A.top+A.bottom+x+15}"furious"==I&&o.attr("width",function(t,e){return u[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),o.style("fill",M).style("stroke",function(t,e){return t.color||E(t,e)})}),e}return e.dispatch=P,e.options=vt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return S},set:function(t){S=t}},key:{get:function(){return W},set:function(t){W=t}},keyFormatter:{get:function(){return F},set:function(t){F=t}},align:{get:function(){return D},set:function(t){D=t}},rightAlign:{get:function(){return _},set:function(t){_=t}},maxKeyLength:{get:function(){return O},set:function(t){O=t}},padding:{get:function(){return N},set:function(t){N=t}},updateState:{get:function(){return T},set:function(t){T=t}},radioButtonMode:{get:function(){return L},set:function(t){L=t}},expanded:{get:function(){return B},set:function(t){B=t}},vers:{get:function(){return I},set:function(t){I=t}},margin:{get:function(){return A},set:function(t){A.top=void 0!==t.top?t.top:A.top,A.right=void 0!==t.right?t.right:A.right,A.bottom=void 0!==t.bottom?t.bottom:A.bottom,A.left=void 0!==t.left?t.left:A.left}},color:{get:function(){return E},set:function(t){E=vt.utils.getColor(t)}}}),vt.utils.initOptions(e),e},vt.models.heatMap=function(){"use strict";var p,h,g,v,m,y,x,b,k,w={top:0,right:0,bottom:0,left:0},M=960,A=500,e=Math.floor(1e4*Math.random()),C=d3.scale.ordinal(),S=d3.scale.ordinal(),W=!1,F=function(t){return t.x},E=function(t){return t.y},O=function(t){return t.value},D=!0,n=function(t){return"number"==typeof t?t.toFixed(0):t},N=!1,_=2,T=4,L=!1,B=!0,P=vt.utils.defaultColor(),I=vt.utils.defaultColor(),r="#bcbcbc",i="",z=5,V=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),o=250,j=function(t){return K/3},G=function(t){return U/3},H=!1;function Y(t){var e=(L?ct:O)(t);return R()&&!isNaN(e)||void 0!==e?W(e):r}function R(){return"number"==typeof nt[0]}function a(t){var n,r;if(-1!=["centerRow","robustCenterRow","centerScaleRow","robustCenterScaleRow","centerColumn","robustCenterColumn","centerScaleColumn","robustCenterScaleColumn","centerAll","robustCenterAll","centerScaleAll","robustCenterScaleAll"].indexOf(L)){Object.keys(tt),Object.keys(et);var i=!!L.includes("Scale"),e=L.includes("robust")?"median":"mean",o=L.includes("Row")?"row":L.includes("Column")?"col":null,a=(n=o,r={},t.forEach(function(t,e){"row"==n?(ut(t)in r||(r[ut(t)]=[]),r[ut(t)].push(O(t))):"col"==n?(lt(t)in r||(r[lt(t)]=[]),r[lt(t)].push(O(t))):null==n&&(0 in r||(r[0]=[]),r[0].push(O(t)))}),r),s={},l={};for(var u in a)s[u]="mean"==e?d3.mean(a[u]):d3.median(a[u]),i&&(l[u]="mean"==e?d3.deviation(a[u]):function(t){var e=d3.median(t),n=t.map(function(t){return Math.abs(t-e)});return d3.median(n)}(a[u]));t.forEach(function(t,e){var n,r;R()?("row"==o?n=ut(t):"col"==o?n=lt(t):null==o&&(n=0),r=O(t)-s[n],t._cellPos.norm=i?r/l[n]:r):t._cellPos.norm=O(t)})}else L=!1;return t}function X(t){tt={},et={},nt=[],rt=[],it=[],ot=[];var s,l=[],u={},c=0,d=0,f=0;t.forEach(function(t){var e,n,r,i=F(t),o=E(t),a=O(t);i in tt||(tt[i]=c,c++,u[i]={},"function"==typeof y&&rt.push(y(t))),o in et||(et[o]=d,d++,u[i][o]={},"function"==typeof x&&it.push(x(t))),-1==nt.indexOf(a)&&nt.push(a),t._cellPos={idx:f,ix:tt[i],iy:et[o]},f++,e=ot,n=s=[i,o],r=JSON.stringify(n),e.some(function(t){return JSON.stringify(t)===r})?-1==l.indexOf(i+o)&&(l.push(i+o),console.warn("The row/column position "+i+"/"+o+" has multiple values; ensure each cell has only a single value.")):(ot.push(s),u[i][o]=t)}),nt=nt.sort();var i=[];return Object.keys(et).forEach(function(r){Object.keys(tt).forEach(function(t){var e,n=u[t][r];n?i.push(n):(e={idx:f,ix:tt[t],iy:et[r]},f++,i.push({_cellPos:e}))})}),L?a(i):i}function q(){d3.selectAll(".cell-hover").classed("cell-hover",!1),d3.selectAll(".no-hover").classed("no-hover",!1),d3.selectAll(".row-hover").classed("row-hover",!1),d3.selectAll(".column-hover").classed("column-hover",!1)}var Z,K,U,Q=function(t){var e=n((L?ct:O)(t));return R()&&!isNaN(e)||void 0!==e?e:i};function J(n){return Object.keys(n).sort(function(t,e){return n[t]-n[e]})}function $(e,n){return Object.keys(e).filter(function(t){return e[t]===n})[0]}function s(t){return t._cellPos}var tt={},et={},nt=[],rt=[],it=[],ot=[],at=vt.utils.renderWatch(V,o),st=["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],lt=function(t){return s(t).ix},ut=function(t){return s(t).iy},ct=function(t){return s(t).norm},dt=function(t){return s(t).idx};function l(t){return at.reset(),t.each(function(t){Z=X(t);var a=M-w.left-w.right,s=A-w.top-w.bottom;U=a/Object.keys(tt).length,K=N?U/N:s/Object.keys(et).length,N&&(s=K*Object.keys(et).length-w.top-w.bottom),p=d3.select(this),vt.utils.initSVG(p),C.domain(h||J(tt)).rangeBands(v||[0,a-T/2]),S.domain(g||J(et)).rangeBands(m||[0,s-T/2]),(W=R()?d3.scale.quantize():d3.scale.ordinal()).domain(k||(R()?L?d3.extent(Z,function(t){return ct(t)}):d3.extent(nt):R()?void 0:nt)).range(b||st);var e=p.selectAll("g.nv-heatMapWrap").data([Z]),n=e.enter().append("g").attr("class","nvd3 nv-heatMapWrap");n.append("g").attr("class","cellWrap"),e.watchTransition(at,"nv-wrap: heatMapWrap").attr("transform","translate("+w.left+","+w.top+")");n.append("g").attr("class","cellGrid").style("opacity",1e-6);var r=e.select(".cellGrid").selectAll(".gridLines.verticalGrid").data(Object.values(tt).concat([Object.values(tt).length]));r.enter().append("line").attr("class","gridLines verticalGrid"),r.exit().remove();var i=e.select(".cellGrid").selectAll(".gridLines.horizontalGrid").data(Object.values(et).concat([Object.values(et).length]));i.enter().append("line").attr("class","gridLines horizontalGrid"),i.exit().remove();var o=e.select(".cellWrap").selectAll(".nv-cell").data(function(t){return t},function(t){return dt(t)}),l=(n.append("g").attr("class","xMetaWrap").attr("transform",function(){return"translate(0,"+(-j()-T-z)+")"}),e.select(".xMetaWrap").selectAll(".x-meta").data(rt)),u=(l.enter().append("rect").attr("class","x-meta meta").attr("width",U-T).attr("height",j()).attr("transform","translate(0,0)").attr("fill",function(t){return P(t)}),n.append("g").attr("class","yMetaWrap").attr("transform",function(t,e){return"translate("+(-G()-T-z)+",0)"}),e.select(".yMetaWrap").selectAll(".y-meta").data(it));u.enter().append("rect").attr("class","y-meta meta").attr("width",G()).attr("height",K-T).attr("transform",function(t,e){return"translate(0,0)"}).attr("fill",function(t,e){return I(t)});l.exit().remove(),u.exit().remove();var c=o.enter().append("g").style("opacity",1e-6).attr("transform",function(t){return"translate(0,"+ut(t)*K+")"}).attr("data-row",function(t){return ut(t)}).attr("data-column",function(t){return lt(t)});c.append("rect"),c.append("text").attr("text-anchor","middle").attr("dy",4).attr("class","cell-text"),o.selectAll("rect").watchTransition(at,"heatMap: rect").attr("width",U-T).attr("height",K-T).attr("rx",_).attr("ry",_).style("stroke",Y),o.attr("class",function(t){return isNaN(O(t))?"nv-cell cell-missing":"nv-cell"}).watchTransition(at,"heatMap: cells").style({opacity:1,fill:Y}).attr("transform",function(t){return"translate("+lt(t)*U+","+ut(t)*K+")"}).attr("class",function(t){return isNaN(O(t))?"nv-cell cell-missing":"nv-cell"}),o.exit().remove(),o.selectAll("text").watchTransition(at,"heatMap: cells text").text(function(t){return Q(t)}).attr("x",function(t){return(U-T)/2}).attr("y",function(t){return(K-T)/2}).style("fill",function(t){return function(t){if(B){var e=d3.rgb(t);return 128<=(299*e.r+587*e.g+114*e.b)/1e3?"#404040":"#EDEDED"}return"black"}(Y(t))}).style("opacity",function(){return D?1:0}),e.selectAll(".verticalGrid").watchTransition(at,"heatMap: gridLines").attr("y1",0).attr("y2",s-T).attr("x1",function(t){return t*U-T/2}).attr("x2",function(t){return t*U-T/2});var d=Object.keys(et).length;e.selectAll(".horizontalGrid").watchTransition(at,"heatMap: gridLines").attr("x1",function(t){return 0==t||t==d?-T:0}).attr("x2",function(t){return 0==t||t==d?a:a-T}).attr("y1",function(t){return t*K-T/2}).attr("y2",function(t){return t*K-T/2}),e.select(".cellGrid").watchTransition(at,"heatMap: gridLines").style({"stroke-width":T,opacity:function(){return H?1:1e-6}});e.selectAll(".x-meta"),e.selectAll(".y-meta");var f=e.selectAll(".meta");l.watchTransition(at,"heatMap: xMetaRect").attr("width",U-T).attr("height",j()).attr("transform",function(t,e){return"translate("+e*U+",0)"}),u.watchTransition(at,"heatMap: yMetaRect").attr("width",G()).attr("height",K-T).attr("transform",function(t,e){return"translate(0,"+e*K+")"}),e.select(".xMetaWrap").watchTransition(at,"heatMap: xMetaWrap").attr("transform",function(t,e){return"translate(0,"+(-j()-T-z)+")"}).style("opacity",function(){return!1!==y?1:0}),e.select(".yMetaWrap").watchTransition(at,"heatMap: yMetaWrap").attr("transform",function(t,e){return"translate("+(-G()-T-z)+",0)"}).style("opacity",function(){return!1!==x?1:0}),o.on("mouseover",function(t,e){var n=dt(t),r=lt(t),i=ut(t);d3.selectAll(".nv-cell").each(function(t){n==dt(t)?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1)),r==lt(t)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("column-hover",!0)),i==ut(t)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("row-hover",!0))}),d3.selectAll(".x-meta").each(function(t,e){e==r?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))}),d3.selectAll(".y-meta").each(function(t,e){e==i?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))}),V.elementMouseover({value:$(tt,r)+" & "+$(et,i),series:{value:Q(t),color:d3.select(this).select("rect").style("fill")},e:d3.event})}).on("mouseout",function(t,e){d3.select(this).select("rect").node().getBBox();var n=d3.mouse(d3.select(".nv-heatMap").node()),r=n[0],i=n[1];(a<=r+T||s<=i+T||r<0||i<0)&&(q(),V.elementMouseout({e:d3.event}))}).on("mousemove",function(t,e){V.elementMousemove({e:d3.event})}),f.on("mouseover",function(t,e){var n=-1!=d3.select(this).attr("class").indexOf("x-meta");d3.selectAll(".nv-cell").each(function(t){n&&e==lt(t)?(d3.select(this).classed("column-hover",!0),d3.select(this).classed("no-hover",!1)):n||e-rt.length!=ut(t)?(d3.select(this).classed("no-hover",!0),d3.select(this).classed("column-hover",!1),d3.select(this).classed("row-hover",!1)):(d3.select(this).classed("row-hover",!0),d3.select(this).classed("no-hover",!1)),d3.select(this).classed("cell-hover",!1)}),d3.selectAll(".meta").classed("no-hover",!0),d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1),V.elementMouseover({value:n?"Column meta":"Row meta",series:{value:t,color:d3.select(this).style("fill")}})}).on("mouseout",function(t,e){var n=-1!=d3.select(this).attr("class").indexOf("x-meta"),r=(d3.select(this).node().getBBox(),d3.mouse(d3.select(n?".xMetaWrap":".yMetaWrap").node())),i=r[0],o=r[1];(o<0||i<0||n&&a<=i+T||!n&&s<=o+T)&&(q(),V.elementMouseout({e:d3.event}))}).on("mousemove",function(t,e){V.elementMousemove({e:d3.event})})}),at.renderEnd("heatMap immediate"),l}return l.dispatch=V,l.options=vt.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return A},set:function(t){A=t}},showCellValues:{get:function(){return D},set:function(t){D=t}},x:{get:function(){return F},set:function(t){F=t}},y:{get:function(){return E},set:function(t){E=t}},cellValue:{get:function(){return O},set:function(t){O=t}},missingDataColor:{get:function(){return r},set:function(t){r=t}},missingDataLabel:{get:function(){return i},set:function(t){i=t}},xScale:{get:function(){return C},set:function(t){C=t}},yScale:{get:function(){return S},set:function(t){S=t}},colorScale:{get:function(){return W},set:function(t){W=t}},xDomain:{get:function(){return h},set:function(t){h=t}},yDomain:{get:function(){return g},set:function(t){g=t}},xRange:{get:function(){return v},set:function(t){v=t}},yRange:{get:function(){return m},set:function(t){m=t}},colorRange:{get:function(){return b},set:function(t){b=t}},colorDomain:{get:function(){return k},set:function(t){k=t}},xMeta:{get:function(){return y},set:function(t){y=t}},yMeta:{get:function(){return x},set:function(t){x=t}},xMetaColorScale:{get:function(){return color},set:function(t){color=vt.utils.getColor(t)}},yMetaColorScale:{get:function(){return color},set:function(t){color=vt.utils.getColor(t)}},cellAspectRatio:{get:function(){return N},set:function(t){N=t}},cellRadius:{get:function(){return _},set:function(t){_=t}},cellHeight:{get:function(){return K}},cellWidth:{get:function(){return U}},normalize:{get:function(){return L},set:function(t){L=t}},cellBorderWidth:{get:function(){return T},set:function(t){T=t}},highContrastText:{get:function(){return B},set:function(t){B=t}},cellValueFormat:{get:function(){return n},set:function(t){n=t}},id:{get:function(){return e},set:function(t){e=t}},metaOffset:{get:function(){return z},set:function(t){z=t}},xMetaHeight:{get:function(){return j},set:function(t){j=t}},yMetaWidth:{get:function(){return G},set:function(t){G=t}},showGrid:{get:function(){return H},set:function(t){H=t}},margin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},duration:{get:function(){return o},set:function(t){o=t,at.reset(o)}}}),vt.utils.initOptions(l),l},vt.models.heatMapChart=function(){"use strict";var g,v,m=vt.models.heatMap(),y=vt.models.legend(),e=(vt.models.legend(),vt.models.legend(),vt.models.tooltip()),x=vt.models.axis(),b=vt.models.axis(),k={top:20,right:10,bottom:50,left:60},w=null,M=null,A=(vt.utils.getColor(),!0),C=!1,S=!0,W=!0,F="left",E="top",O=0,n=null,D=d3.dispatch("beforeUpdate","renderEnd"),N=250;x.orient(E).showMaxMin(!1).tickFormat(function(t){return t}),b.orient(F).showMaxMin(!1).tickFormat(function(t){return t}),e.duration(0).headerEnabled(!0).keyFormatter(function(t,e){return x.tickFormat()(t,e)});var _=vt.utils.renderWatch(D,N);function T(t){return _.reset(),_.models(m),_.models(x),_.models(b),t.each(function(t){var e=d3.select(this);vt.utils.initSVG(e);var n=vt.utils.availableWidth(w,e,k),r=vt.utils.availableHeight(M,e,k);if(T.update=function(){D.beforeUpdate(),e.transition().duration(N).call(T)},T.container=this,!t||!t.length)return vt.utils.noData(T,e),T;e.selectAll(".nv-noData").remove(),g=m.xScale(),v=m.yScale();var i=e.selectAll("g.nv-wrap").data([t]),o=i.enter().append("g").attr("class","nvd3 nv-wrap").append("g"),a=i.select("g");o.append("g").attr("class","nv-heatMap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),a.attr("transform","translate("+k.left+","+k.top+")"),m.width(n).height(r),a.select(".nv-heatMap").datum(t.filter(function(t){return!t.disabled})).transition().call(m),m.cellAspectRatio()&&(r=m.cellHeight()*v.domain().length,m.height(r)),x.scale(g)._ticks(vt.utils.calcTicksX(n/100,t)).tickSize(-r,0);var s=a.select(".nv-x.nv-axis");s.call(x).watchTransition(_,"heatMap: axisX").selectAll(".tick").style("opacity",function(){return S?1:0}),s.selectAll("g").selectAll(".tick text").attr("transform",function(t,e,n){return"translate(0, "+(C?n%2==0?"5":"17":"0")+") rotate("+(0!=O?O:"0")+" 0,0)"}).style("text-anchor",0<O?"start":O<0?"end":"middle");var l=-5;"function"==typeof m.xMeta()&&(s.selectAll("text").style("text-anchor","middle"),l=-m.xMetaHeight()()/2-m.metaOffset()+3),"bottom"==E?(s.watchTransition(_,"heatMap: axisX").attr("transform","translate(0,"+(r-l)+")"),!1!==m.xMeta()&&(c=r+m.metaOffset()+m.cellBorderWidth(),a.select(".xMetaWrap").watchTransition(_,"heatMap: xMetaWrap").attr("transform",function(t,e){return"translate(0,"+c+")"}))):s.watchTransition(_,"heatMap: axisX").attr("transform","translate(0,"+l+")"),b.scale(v)._ticks(vt.utils.calcTicksY(r/36,t)).tickSize(-n,0);var u=a.select(".nv-y.nv-axis");u.call(b).watchTransition(_,"heatMap: axisY").selectAll(".tick").style("opacity",function(){return W?1:0});var c,d=-5;"function"==typeof m.yMeta()&&(u.selectAll("text").style("text-anchor","middle"),d=-m.yMetaWidth()()/2-m.metaOffset()),"right"==F?(u.attr("transform","translate("+(n-d)+",0)"),!1!==m.yMeta()&&(c=n+m.metaOffset()+m.cellBorderWidth(),a.select(".yMetaWrap").watchTransition(_,"heatMap: yMetaWrap").attr("transform",function(t,e){return"translate("+c+",0)"}))):u.attr("transform","translate("+d+",0)");var f=a.select(".nv-legendWrap");y.width(n).color(m.colorScale().range());var p,h=(p=m.colorScale(),("string"==typeof p.domain()[0]?p.domain():p.range().map(function(t){var e=p.invertExtent(t);return null===e[0]&&(e[0]=p.domain()[0]),null===e[1]&&(e[1]=p.domain()[1]),e})).map(function(t){return Array.isArray(t)?{key:t[0].toFixed(1)+" - "+t[1].toFixed(1)}:{key:t}}));f.datum(h).call(y).attr("transform","translate(0,"+("top"==E?r:-30)+")"),f.watchTransition(_,"heatMap: nv-legendWrap").style("opacity",function(){return A?1:0})}),d3.selectAll(".nv-axis").selectAll("line").style("stroke-opacity",0),d3.select(".nv-y").select("path.domain").remove(),_.renderEnd("heatMap chart immediate"),T}return m.dispatch.on("elementMouseover.tooltip",function(t){e.data(t).hidden(!1)}),m.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),m.dispatch.on("elementMousemove.tooltip",function(t){e()}),T.dispatch=D,T.heatMap=m,T.legend=y,T.xAxis=x,T.yAxis=b,T.tooltip=e,T.options=vt.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return w},set:function(t){w=t}},height:{get:function(){return M},set:function(t){M=t}},showLegend:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return n},set:function(t){n=t}},showXAxis:{get:function(){return S},set:function(t){S=t}},showYAxis:{get:function(){return W},set:function(t){W=t}},staggerLabels:{get:function(){return C},set:function(t){C=t}},rotateLabels:{get:function(){return O},set:function(t){O=t}},margin:{get:function(){return k},set:function(t){void 0!==t.top&&(k.top=t.top,t.top),k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},duration:{get:function(){return N},set:function(t){N=t,_.reset(N),m.duration(N),x.duration(N),b.duration(N)}},alignYAxis:{get:function(){return F},set:function(t){F=t,b.orient(t)}},alignXAxis:{get:function(){return E},set:function(t){E=t,x.orient(t)}}}),vt.utils.inheritOptions(T,m),vt.utils.initOptions(T),T},vt.models.historicalBar=function(){"use strict";var u,c,d,f,p={top:0,right:0,bottom:0,left:0},h=null,g=null,v=Math.floor(1e4*Math.random()),m=null,y=d3.scale.linear(),x=d3.scale.linear(),b=function(t){return t.x},k=function(t){return t.y},w=[],M=[0],A=!1,C=!0,S=vt.utils.defaultColor(),W=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=!0,E=vt.utils.renderWatch(W,0);function e(t){return t.each(function(n){E.reset(),m=d3.select(this);var r=vt.utils.availableWidth(h,m,p),t=vt.utils.availableHeight(g,m,p);vt.utils.initSVG(m),y.domain(u||d3.extent(n[0].values.map(b).concat(w))),A?y.range(d||[.5*r/n[0].values.length,r*(n[0].values.length-.5)/n[0].values.length]):y.range(d||[0,r]),x.domain(c||d3.extent(n[0].values.map(k).concat(M))).range(f||[t,0]),y.domain()[0]===y.domain()[1]&&(y.domain()[0]?y.domain([y.domain()[0]-.01*y.domain()[0],y.domain()[1]+.01*y.domain()[1]]):y.domain([-1,1])),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]+.01*x.domain()[0],x.domain()[1]-.01*x.domain()[1]]):x.domain([-1,1]));var e=m.selectAll("g.nv-wrap.nv-historicalBar-"+v).data([n[0].values]),i=e.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+v),o=i.append("defs"),a=i.append("g"),s=e.select("g");a.append("g").attr("class","nv-bars"),e.attr("transform","translate("+p.left+","+p.top+")"),m.on("click",function(t,e){W.chartClick({data:t,index:e,pos:d3.event,id:v})}),o.append("clipPath").attr("id","nv-chart-clip-path-"+v).append("rect"),e.select("#nv-chart-clip-path-"+v+" rect").attr("width",r).attr("height",t),s.attr("clip-path",C?"url(#nv-chart-clip-path-"+v+")":"");var l=e.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return b(t,e)});l.exit().remove(),l.enter().append("rect").attr("x",0).attr("y",function(t,e){return vt.utils.NaNtoZero(x(Math.max(0,k(t,e))))}).attr("height",function(t,e){return vt.utils.NaNtoZero(Math.abs(x(k(t,e))-x(0)))}).attr("transform",function(t,e){return"translate("+(y(b(t,e))-r/n[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){F&&(d3.select(this).classed("hover",!0),W.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){F&&(d3.select(this).classed("hover",!1),W.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){F&&W.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){F&&(W.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation())}).on("dblclick",function(t,e){F&&(W.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),l.attr("fill",function(t,e){return S(t,e)}).attr("class",function(t,e,n){return(k(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(E,"bars").attr("transform",function(t,e){return"translate("+(y(b(t,e))-r/n[0].values.length*.45)+",0)"}).attr("width",r/n[0].values.length*.9),l.watchTransition(E,"bars").attr("y",function(t,e){var n=k(t,e)<0?x(0):x(0)-x(k(t,e))<1?x(0)-1:x(k(t,e));return vt.utils.NaNtoZero(n)}).attr("height",function(t,e){return vt.utils.NaNtoZero(Math.max(Math.abs(x(k(t,e))-x(0)),1))})}),E.renderEnd("historicalBar immediate"),e}return e.highlightPoint=function(t,e){m.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},e.clearHighlights=function(){m.select(".nv-bars .nv-bar.hover").classed("hover",!1)},e.dispatch=W,e.options=vt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return g},set:function(t){g=t}},forceX:{get:function(){return w},set:function(t){w=t}},forceY:{get:function(){return M},set:function(t){M=t}},padData:{get:function(){return A},set:function(t){A=t}},x:{get:function(){return b},set:function(t){b=t}},y:{get:function(){return k},set:function(t){k=t}},xScale:{get:function(){return y},set:function(t){y=t}},yScale:{get:function(){return x},set:function(t){x=t}},xDomain:{get:function(){return u},set:function(t){u=t}},yDomain:{get:function(){return c},set:function(t){c=t}},xRange:{get:function(){return d},set:function(t){d=t}},yRange:{get:function(){return f},set:function(t){f=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},id:{get:function(){return v},set:function(t){v=t}},interactive:{get:function(){return F},set:function(t){F=t}},margin:{get:function(){return p},set:function(t){p.top=void 0!==t.top?t.top:p.top,p.right=void 0!==t.right?t.right:p.right,p.bottom=void 0!==t.bottom?t.bottom:p.bottom,p.left=void 0!==t.left?t.left:p.left}},color:{get:function(){return S},set:function(t){S=vt.utils.getColor(t)}}}),vt.utils.initOptions(e),e},vt.models.historicalBarChart=function(t){"use strict";var u,c,d=t||vt.models.historicalBar(),f=vt.models.axis(),p=vt.models.axis(),h=vt.models.legend(),g=vt.interactiveGuideline(),e=vt.models.tooltip(),v={top:30,right:90,bottom:50,left:90},m=null,y=vt.utils.defaultColor(),x=null,b=null,k=!1,w=!0,M=!0,A=!1,C=!1,S={},W=null,n=null,F=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),E=250;f.orient("bottom").tickPadding(7),p.orient(A?"right":"left"),e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).headerFormatter(function(t,e){return f.tickFormat()(t,e)});var O=vt.utils.renderWatch(F,0);function D(s){return s.each(function(l){O.reset(),O.models(d),w&&O.models(f),M&&O.models(p);var t=d3.select(this);vt.utils.initSVG(t);var e,n=vt.utils.availableWidth(x,t,v),r=vt.utils.availableHeight(b,t,v);if(D.update=function(){t.transition().duration(E).call(D)},D.container=this,S.disabled=l.map(function(t){return!!t.disabled}),!W)for(e in W={},S)S[e]instanceof Array?W[e]=S[e].slice(0):W[e]=S[e];if(!(l&&l.length&&l.filter(function(t){return t.values.length}).length))return vt.utils.noData(D,t),D;t.selectAll(".nv-noData").remove(),u=d.xScale(),c=d.yScale();var i=t.selectAll("g.nv-wrap.nv-historicalBarChart").data([l]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),a=i.select("g");o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-barsWrap"),o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-interactive"),k?(h.width(n),a.select(".nv-legendWrap").datum(l).call(h),m||h.height()===v.top||(v.top=h.height(),r=vt.utils.availableHeight(b,t,v)),i.select(".nv-legendWrap").attr("transform","translate(0,"+-v.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),i.attr("transform","translate("+v.left+","+v.top+")"),A&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),C&&(g.width(n).height(r).margin({left:v.left,top:v.top}).svgContainer(t).xScale(u),i.select(".nv-interactive").call(g)),d.width(n).height(r).color(l.map(function(t,e){return t.color||y(t,e)}).filter(function(t,e){return!l[e].disabled})),a.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(d),w&&(f.scale(u)._ticks(vt.utils.calcTicksX(n/100,l)).tickSize(-r,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+c.range()[0]+")"),a.select(".nv-x.nv-axis").transition().call(f)),M&&(p.scale(c)._ticks(vt.utils.calcTicksY(r/36,l)).tickSize(-n,0),a.select(".nv-y.nv-axis").transition().call(p)),g.dispatch.on("elementMousemove",function(r){d.clearHighlights();var i,o,a,s=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){o=vt.interactiveBisect(t.values,r.pointXValue,D.x()),d.highlightPoint(o,!0);var n=t.values[o];void 0!==n&&(void 0===i&&(i=n),void 0===a&&(a=D.xScale()(D.x()(n,o))),s.push({key:t.key,value:D.y()(n,o),color:y(t,t.seriesIndex),data:t.values[o]}))});var t=f.tickFormat()(D.x()(i,o));g.tooltip.valueFormatter(function(t,e){return p.tickFormat()(t)}).data({value:t,index:o,series:s})(),g.renderGuideLine(a)}),g.dispatch.on("elementMouseout",function(t){F.tooltipHide(),d.clearHighlights()}),h.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,l.filter(function(t){return!t.disabled}).length||l.map(function(t){return t.disabled=!1,i.selectAll(".nv-series").classed("disabled",!1),t}),S.disabled=l.map(function(t){return!!t.disabled}),F.stateChange(S),s.transition().call(D)}),h.dispatch.on("legendDblclick",function(t){l.forEach(function(t){t.disabled=!0}),t.disabled=!1,S.disabled=l.map(function(t){return!!t.disabled}),F.stateChange(S),D.update()}),F.on("changeState",function(n){void 0!==n.disabled&&(l.forEach(function(t,e){t.disabled=n.disabled[e]}),S.disabled=n.disabled),D.update()})}),O.renderEnd("historicalBarChart immediate"),D}return d.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:D.x()(t.data),value:D.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){e()}),D.dispatch=F,D.bars=d,D.legend=h,D.xAxis=f,D.yAxis=p,D.interactiveLayer=g,D.tooltip=e,D.options=vt.utils.optionsFunc.bind(D),D._options=Object.create({},{width:{get:function(){return x},set:function(t){x=t}},height:{get:function(){return b},set:function(t){b=t}},showLegend:{get:function(){return k},set:function(t){k=t}},showXAxis:{get:function(){return w},set:function(t){w=t}},showYAxis:{get:function(){return M},set:function(t){M=t}},defaultState:{get:function(){return W},set:function(t){W=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return v},set:function(t){void 0!==t.top&&(v.top=t.top,m=t.top),v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},color:{get:function(){return y},set:function(t){y=vt.utils.getColor(t),h.color(y),d.color(y)}},duration:{get:function(){return E},set:function(t){E=t,O.reset(E),p.duration(E),f.duration(E)}},rightAlignYAxis:{get:function(){return A},set:function(t){A=t,p.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return C},set:function(t){!0===(C=t)&&D.interactive(!1)}}}),vt.utils.inheritOptions(D,d),vt.utils.initOptions(D),D},vt.models.ohlcBarChart=function(){var n=vt.models.historicalBarChart(vt.models.ohlcBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},vt.models.candlestickBarChart=function(){var n=vt.models.historicalBarChart(vt.models.candlestickBar());return n.useInteractiveGuideline(!0),n.interactiveLayer.tooltip.contentGenerator(function(t){var e=t.series[0].data;return'<h3 style="color: #'+(e.open<e.close?"2ca02c":"d62728")+'">'+t.value+"</h3><table><tr><td>open:</td><td>"+n.yAxis.tickFormat()(e.open)+"</td></tr><tr><td>close:</td><td>"+n.yAxis.tickFormat()(e.close)+"</td></tr><tr><td>high</td><td>"+n.yAxis.tickFormat()(e.high)+"</td></tr><tr><td>low:</td><td>"+n.yAxis.tickFormat()(e.low)+"</td></tr></table>"}),n},vt.models.legend=function(){"use strict";var S={top:5,right:0,bottom:5,left:0},W=400,F=20,E=function(t){return t.key},O=function(t){return t},n=vt.utils.getColor(),D=20,N=!0,_=32,T=!0,L=!0,B=!0,P=!1,I=!1,z=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),V="classic";function e(t){function M(t,e){return"furious"!=V?"#000":I?t.disengaged?"#000":"#fff":I?void 0:(t.color||(t.color=n(t,e)),t.disabled?t.color:"#fff")}function A(t,e){return I&&"furious"==V&&t.disengaged?"#eee":t.color||n(t,e)}function C(t,e){return(!I||"furious"!=V)&&t.disabled?0:1}return t.each(function(t){var e=W-S.left-S.right,n=d3.select(this);vt.utils.initSVG(n);var r=n.selectAll("g.nv-legend").data([t]),i=r.enter().append("g").attr("class","nvd3 nv-legend").append("g"),o=r.select("g");T?r.attr("transform","translate("+-S.right+","+S.top+")"):r.attr("transform","translate("+S.left+","+S.top+")");var a,s,l=o.selectAll(".nv-series").data(function(t){return"furious"!=V?t:t.filter(function(t){return!!I||!t.disengaged})}),u=l.enter().append("g").attr("class","nv-series");switch(V){case"furious":s=23;break;case"classic":s=20}"classic"==V?(u.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),a=l.select(".nv-legend-symbol")):"furious"==V&&(u.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),a=l.select(".nv-legend-symbol"),u.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),l.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",M(t,e))})),u.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var c=l.select("text.nv-legend-text");l.on("mouseover",function(t,e){z.legendMouseover(t,e)}).on("mouseout",function(t,e){z.legendMouseout(t,e)}).on("click",function(t,e){z.legendClick(t,e);var n=l.data();L&&("classic"==V?P?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==V&&(I?(t.disengaged=!t.disengaged,t.userDisabled=null==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):I||(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),z.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(B){if("furious"==V&&I)return;var n;z.legendDblclick(t,e),L&&((n=l.data()).forEach(function(t){t.disabled=!0,"furious"==V&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==V&&(t.userDisabled=t.disabled),z.stateChange({disabled:n.map(function(t){return!!t.disabled})}))}}),l.classed("nv-disabled",function(t){return t.userDisabled}),l.exit().remove(),c.attr("fill",M).text(function(t){return O(E(t))});var d=0;if(N){var f=[];l.each(function(t,e){var n,r,i;O(E(t))&&O(E(t)).length>D?(n=O(E(t)).substring(0,D),r=d3.select(this).select("text").text(n+"..."),d3.select(this).append("svg:title").text(O(E(t)))):r=d3.select(this).select("text");try{if((i=r.node().getComputedTextLength())<=0)throw Error()}catch(t){i=vt.utils.calcApproxTextWidth(r)}f.push(i+_)});for(var p=0,h=[],d=0;d<e&&p<f.length;)h[p]=f[p],d+=f[p++];for(0===p&&(p=1);e<d&&1<p;){h=[],p--;for(var g=0;g<f.length;g++)f[g]>(h[g%p]||0)&&(h[g%p]=f[g]);d=h.reduce(function(t,e,n,r){return t+e})}for(var v=[],m=0,y=0;m<p;m++)v[m]=y,y+=h[m];l.attr("transform",function(t,e){return"translate("+v[e%p]+","+(5+Math.floor(e/p)*s)+")"}),T?o.attr("transform","translate("+(W-S.right-d)+","+S.top+")"):o.attr("transform","translate(0,"+S.top+")"),F=S.top+S.bottom+Math.ceil(f.length/p)*s}else{var x,b=5,k=5,w=0;l.attr("transform",function(t,e){var n=d3.select(this).select("text").node().getComputedTextLength()+_;return x=k,W<S.left+S.right+x+n&&(k=x=5,b+=s),w<(k+=n)&&(w=k),d<x+w&&(d=x+w),"translate("+x+","+b+")"}),o.attr("transform","translate("+(W-S.right-w)+","+S.top+")"),F=S.top+S.bottom+b+15}"furious"==V&&(a.attr("width",function(t,e){return c[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),i.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),o.select(".nv-legend-bg").transition().duration(300).attr("x",-s).attr("width",d+s-12).attr("height",F+10).attr("y",-S.top-10).attr("opacity",I?1:0)),a.style("fill",A).style("fill-opacity",C).style("stroke",A)}),e}return e.dispatch=z,e.options=vt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return W},set:function(t){W=t}},height:{get:function(){return F},set:function(t){F=t}},key:{get:function(){return E},set:function(t){E=t}},keyFormatter:{get:function(){return O},set:function(t){O=t}},align:{get:function(){return N},set:function(t){N=t}},maxKeyLength:{get:function(){return D},set:function(t){D=t}},rightAlign:{get:function(){return T},set:function(t){T=t}},padding:{get:function(){return _},set:function(t){_=t}},updateState:{get:function(){return L},set:function(t){L=t}},enableDoubleClick:{get:function(){return B},set:function(t){B=t}},radioButtonMode:{get:function(){return P},set:function(t){P=t}},expanded:{get:function(){return I},set:function(t){I=t}},vers:{get:function(){return V},set:function(t){V=t}},margin:{get:function(){return S},set:function(t){S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left}},color:{get:function(){return n},set:function(t){n=vt.utils.getColor(t)}}}),vt.utils.initOptions(e),e},vt.models.line=function(){"use strict";var f,p,h=vt.models.scatter(),g={top:0,right:0,bottom:0,left:0},v=960,m=500,y=null,x=1.5,b=vt.utils.defaultColor(),k=function(t){return t.x},w=function(t){return t.y},M=function(t,e){return!isNaN(w(t,e))&&null!==w(t,e)},A=function(t){return t.area},C=!1,S="linear",e=250,t=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");h.pointSize(16).pointDomain([16,256]);var W,F,E=vt.utils.renderWatch(t,e);function n(t){return E.reset(),E.models(h),t.each(function(t){y=d3.select(this);var e=vt.utils.availableWidth(v,y,g),n=vt.utils.availableHeight(m,y,g);vt.utils.initSVG(y),f=h.xScale(),p=h.yScale(),W=W||f,F=F||p;var r=y.selectAll("g.nv-wrap.nv-line").data([t]),i=r.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),o=i.append("defs"),a=i.append("g"),s=r.select("g");a.append("g").attr("class","nv-groups"),a.append("g").attr("class","nv-scatterWrap"),r.attr("transform","translate("+g.left+","+g.top+")"),h.width(e).height(n);var l=r.select(".nv-scatterWrap");l.call(h),o.append("clipPath").attr("id","nv-edge-clip-"+h.id()).append("rect"),r.select("#nv-edge-clip-"+h.id()+" rect").attr("width",e).attr("height",0<n?n:0),s.attr("clip-path",C?"url(#nv-edge-clip-"+h.id()+")":""),l.attr("clip-path",C?"url(#nv-edge-clip-"+h.id()+")":"");var u=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});u.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||x}).style("fill-opacity",1e-6),u.exit().remove(),u.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return b(t,e)}).style("stroke",function(t,e){return b(t,e)}),u.watchTransition(E,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var c=u.selectAll("path.nv-area").data(function(t){return A(t)?[t]:[]});c.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(S).defined(M).x(function(t,e){return vt.utils.NaNtoZero(W(k(t,e)))}).y0(function(t,e){return vt.utils.NaNtoZero(F(w(t,e)))}).y1(function(t,e){return F(p.domain()[0]<=0?0<=p.domain()[1]?0:p.domain()[1]:p.domain()[0])}).apply(this,[t.values])}),u.exit().selectAll("path.nv-area").remove(),c.watchTransition(E,"line: areaPaths").attr("d",function(t){return d3.svg.area().interpolate(S).defined(M).x(function(t,e){return vt.utils.NaNtoZero(f(k(t,e)))}).y0(function(t,e){return vt.utils.NaNtoZero(p(w(t,e)))}).y1(function(t,e){return p(p.domain()[0]<=0?0<=p.domain()[1]?0:p.domain()[1]:p.domain()[0])}).apply(this,[t.values])});var d=u.selectAll("path.nv-line").data(function(t){return[t.values]});d.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(S).defined(M).x(function(t,e){return vt.utils.NaNtoZero(W(k(t,e)))}).y(function(t,e){return vt.utils.NaNtoZero(F(w(t,e)))})),d.watchTransition(E,"line: linePaths").attr("d",d3.svg.line().interpolate(S).defined(M).x(function(t,e){return vt.utils.NaNtoZero(f(k(t,e)))}).y(function(t,e){return vt.utils.NaNtoZero(p(w(t,e)))})),W=f.copy(),F=p.copy()}),E.renderEnd("line immediate"),n}return n.dispatch=t,(n.scatter=h).dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),h.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),h.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),n.options=vt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},defined:{get:function(){return M},set:function(t){M=t}},interpolate:{get:function(){return S},set:function(t){S=t}},clipEdge:{get:function(){return C},set:function(t){C=t}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},duration:{get:function(){return e},set:function(t){e=t,E.reset(e),h.duration(e)}},isArea:{get:function(){return A},set:function(t){A=d3.functor(t)}},x:{get:function(){return k},set:function(t){k=t,h.x(t)}},y:{get:function(){return w},set:function(t){w=t,h.y(t)}},color:{get:function(){return b},set:function(t){b=vt.utils.getColor(t),h.color(b)}}}),vt.utils.inheritOptions(n,h),vt.utils.initOptions(n),n},vt.models.lineChart=function(){"use strict";var h,g,v=vt.models.line(),m=vt.models.axis(),y=vt.models.axis(),x=vt.models.legend(),b=vt.interactiveGuideline(),e=vt.models.tooltip(),k=vt.models.focus(vt.models.line()),w={top:30,right:20,bottom:50,left:60},M=null,A=vt.utils.defaultColor(),C=null,S=null,W=!0,F="top",E=!0,O=!0,D=!1,N=!1,_=!1,T=vt.utils.state(),L=null,n=null,B=d3.dispatch("stateChange","changeState","renderEnd"),P=250;m.orient("bottom").tickPadding(7),y.orient(D?"right":"left"),v.clipEdge(!0).duration(0),e.valueFormatter(function(t,e){return y.tickFormat()(t,e)}).headerFormatter(function(t,e){return m.tickFormat()(t,e)}),b.tooltip.valueFormatter(function(t,e){return y.tickFormat()(t,e)}).headerFormatter(function(t,e){return m.tickFormat()(t,e)});var r=vt.utils.renderWatch(B,P),I=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},z=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function V(t){return r.reset(),r.models(v),E&&r.models(m),O&&r.models(y),t.each(function(r){var t=d3.select(this);vt.utils.initSVG(t);var e,n=vt.utils.availableWidth(C,t,w),i=vt.utils.availableHeight(S,t,w)-(_?k.height():0);if(V.update=function(){0===P?t.call(V):t.transition().duration(P).call(V)},V.container=this,T.setter(z(r),V.update).getter(I(r)).update(),T.disabled=r.map(function(t){return!!t.disabled}),!L)for(e in L={},T)T[e]instanceof Array?L[e]=T[e].slice(0):L[e]=T[e];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return vt.utils.noData(V,t),V;t.selectAll(".nv-noData").remove(),k.dispatch.on("onBrush",function(t){p(t)}),h=v.xScale(),g=v.yScale();var o=t.selectAll("g.nv-wrap.nv-lineChart").data([r]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),s=o.select("g");a.append("g").attr("class","nv-legendWrap");var l=a.append("g").attr("class","nv-focus");l.append("g").attr("class","nv-background").append("rect"),l.append("g").attr("class","nv-x nv-axis"),l.append("g").attr("class","nv-y nv-axis"),l.append("g").attr("class","nv-linesWrap"),l.append("g").attr("class","nv-interactive");a.append("g").attr("class","nv-focusWrap");W?(x.width(n),s.select(".nv-legendWrap").datum(r).call(x),"bottom"===F?(w.bottom=m.height()+x.height(),i=vt.utils.availableHeight(S,t,w),s.select(".nv-legendWrap").attr("transform","translate(0,"+(i+m.height())+")")):"top"===F&&(M||x.height()===w.top||(w.top=x.height(),i=vt.utils.availableHeight(S,t,w)-(_?k.height():0)),o.select(".nv-legendWrap").attr("transform","translate(0,"+-w.top+")"))):s.select(".nv-legendWrap").selectAll("*").remove(),o.attr("transform","translate("+w.left+","+w.top+")"),D&&s.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),N&&(b.width(n).height(i).margin({left:w.left,top:w.top}).svgContainer(t).xScale(h),o.select(".nv-interactive").call(b)),s.select(".nv-focus .nv-background rect").attr("width",n).attr("height",i),v.width(n).height(i).color(r.map(function(t,e){return t.color||A(t,e)}).filter(function(t,e){return!r[e].disabled}));var u,c=s.select(".nv-linesWrap").datum(r.filter(function(t){return!t.disabled}));function d(){E&&s.select(".nv-focus .nv-x.nv-axis").transition().duration(P).call(m)}function f(){O&&s.select(".nv-focus .nv-y.nv-axis").transition().duration(P).call(y)}function p(n){s.select(".nv-focus .nv-linesWrap").datum(r.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return v.x()(t,e)>=n[0]&&v.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(P).call(v),d(),f()}E&&m.scale(h)._ticks(vt.utils.calcTicksX(n/100,r)).tickSize(-i,0),O&&y.scale(g)._ticks(vt.utils.calcTicksY(i/36,r)).tickSize(-n,0),s.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i+")"),_||null!==k.brush.extent()?(k.width(n),s.select(".nv-focusWrap").style("display",_?"initial":"none").attr("transform","translate(0,"+(i+w.bottom+k.margin().top)+")").call(k),null!==(u=k.brush.empty()?k.xDomain():k.brush.extent())&&p(u)):(c.transition().call(v),d(),f()),x.dispatch.on("stateChange",function(t){for(var e in t)T[e]=t[e];B.stateChange(T),V.update()}),b.dispatch.on("elementMousemove",function(a){v.clearHighlights();var s,l,u,t,e,n,c=[];r.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(t,e){var n=null!==k.brush.extent()?k.brush.empty()?k.xScale().domain():k.brush.extent():h.domain(),r=t.values.filter(function(t,e){return n[0]<=n[1]?v.x()(t,e)>=n[0]&&v.x()(t,e)<=n[1]:v.x()(t,e)>=n[1]&&v.x()(t,e)<=n[0]});if(0<r.length){var i=r[l=vt.interactiveBisect(r,a.pointXValue,v.x())],o=V.y()(i,l);if(null!==o&&v.highlightPoint(e,t.values.indexOf(i),!0),void 0===i)return;void 0===s&&(s=i),void 0===u&&(u=V.xScale()(V.x()(i,l))),c.push({key:t.key,value:o,color:A(t,t.seriesIndex),data:i})}}),2<c.length&&(t=V.yScale().invert(a.mouseY),e=.03*Math.abs(V.yScale().domain()[0]-V.yScale().domain()[1]),null!==(n=vt.nearestValueIndex(c.map(function(t){return t.value}),t,e))&&(c[n].highlight=!0));void 0!==l&&(b.tooltip.valueFormatter(b.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":y.tickFormat()(t)}).data({value:V.x()(s,l),index:l,series:c})(),b.renderGuideLine(u))}),b.dispatch.on("elementClick",function(i){var o,a=[];r.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t){var e,n=vt.interactiveBisect(t.values,i.pointXValue,V.x()),r=t.values[n];void 0!==r&&(void 0===o&&(o=V.xScale()(V.x()(r,n))),e=V.yScale()(V.y()(r,n)),a.push({point:r,pointIndex:n,pos:[o,e],seriesIndex:t.seriesIndex,series:t}))}),v.dispatch.elementClick(a)}),b.dispatch.on("elementMouseout",function(t){v.clearHighlights()}),B.on("changeState",function(n){void 0!==n.disabled&&r.length===n.disabled.length&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),T.disabled=n.disabled),V.update()})}),r.renderEnd("lineChart immediate"),V}return v.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||e.data(t).hidden(!1)}),v.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),V.dispatch=B,V.lines=v,V.legend=x,V.focus=k,V.xAxis=m,V.x2Axis=k.xAxis,V.yAxis=y,V.y2Axis=k.yAxis,V.interactiveLayer=b,V.tooltip=e,V.state=T,V.dispatch=B,V.options=vt.utils.optionsFunc.bind(V),V._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return S},set:function(t){S=t}},showLegend:{get:function(){return W},set:function(t){W=t}},legendPosition:{get:function(){return F},set:function(t){F=t}},showXAxis:{get:function(){return E},set:function(t){E=t}},showYAxis:{get:function(){return O},set:function(t){O=t}},defaultState:{get:function(){return L},set:function(t){L=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return _},set:function(t){_=t}},focusHeight:{get:function(){return k.height()},set:function(t){k.height(t)}},focusShowAxisX:{get:function(){return k.showXAxis()},set:function(t){k.showXAxis(t)}},focusShowAxisY:{get:function(){return k.showYAxis()},set:function(t){k.showYAxis(t)}},brushExtent:{get:function(){return k.brushExtent()},set:function(t){k.brushExtent(t)}},focusMargin:{get:function(){return k.margin},set:function(t){void 0!==t.top&&(w.top=t.top,M=t.top),k.margin.right=void 0!==t.right?t.right:k.margin.right,k.margin.bottom=void 0!==t.bottom?t.bottom:k.margin.bottom,k.margin.left=void 0!==t.left?t.left:k.margin.left}},margin:{get:function(){return w},set:function(t){w.top=void 0!==t.top?t.top:w.top,w.right=void 0!==t.right?t.right:w.right,w.bottom=void 0!==t.bottom?t.bottom:w.bottom,w.left=void 0!==t.left?t.left:w.left}},duration:{get:function(){return P},set:function(t){P=t,r.reset(P),v.duration(P),k.duration(P),m.duration(P),y.duration(P)}},color:{get:function(){return A},set:function(t){A=vt.utils.getColor(t),x.color(A),v.color(A),k.color(A)}},interpolate:{get:function(){return v.interpolate()},set:function(t){v.interpolate(t),k.interpolate(t)}},xTickFormat:{get:function(){return m.tickFormat()},set:function(t){m.tickFormat(t),k.xTickFormat(t)}},yTickFormat:{get:function(){return y.tickFormat()},set:function(t){y.tickFormat(t),k.yTickFormat(t)}},x:{get:function(){return v.x()},set:function(t){v.x(t),k.x(t)}},y:{get:function(){return v.y()},set:function(t){v.y(t),k.y(t)}},rightAlignYAxis:{get:function(){return D},set:function(t){D=t,y.orient(D?"right":"left")}},useInteractiveGuideline:{get:function(){return N},set:function(t){(N=t)&&(v.interactive(!1),v.useVoronoi(!1))}}}),vt.utils.inheritOptions(V,v),vt.utils.initOptions(V),V},vt.models.lineWithFocusChart=function(){return vt.models.lineChart().margin({bottom:30}).focusEnable(!0)},vt.models.linePlusBarChart=function(){"use strict";var M,A,C,S,W,F,E,O=vt.models.line(),D=vt.models.line(),N=vt.models.historicalBar(),_=vt.models.historicalBar(),T=vt.models.axis(),L=vt.models.axis(),B=vt.models.axis(),P=vt.models.axis(),I=vt.models.axis(),z=vt.models.axis(),V=vt.models.legend(),j=d3.svg.brush(),e=vt.models.tooltip(),G={top:30,right:30,bottom:30,left:60},H=null,Y={top:0,right:30,bottom:20,left:60},R=null,X=null,q=function(t){return t.x},Z=function(t){return t.y},K=vt.utils.defaultColor(),U=!0,Q=!0,J=!1,$=!0,tt=50,et=null,n=null,nt=d3.dispatch("brush","stateChange","changeState"),rt=0,it=vt.utils.state(),ot=null,at=" (left axis)",st=" (right axis)",lt=!1;O.clipEdge(!0),D.interactive(!1),D.pointActive(function(t){return!1}),T.orient("bottom").tickPadding(5),B.orient("left"),P.orient("right"),L.orient("bottom").tickPadding(5),I.orient("left"),z.orient("right"),e.headerEnabled(!0).headerFormatter(function(t,e){return T.tickFormat()(t,e)});var ut=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},ct=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},dt=function(t){return t.every(function(t){return t.disabled})};function ft(t){return t.each(function(a){var t=d3.select(this);vt.utils.initSVG(t);var e,s=vt.utils.availableWidth(R,t,G),l=vt.utils.availableHeight(X,t,G)-(Q?tt:0),i=tt-Y.top-Y.bottom;if(ft.update=function(){t.transition().duration(rt).call(ft)},ft.container=this,it.setter(ct(a),ft.update).getter(ut(a)).update(),it.disabled=a.map(function(t){return!!t.disabled}),!ot)for(e in ot={},it)it[e]instanceof Array?ot[e]=it[e].slice(0):ot[e]=it[e];if(!(a&&a.length&&a.filter(function(t){return t.values.length}).length))return vt.utils.noData(ft,t),ft;t.selectAll(".nv-noData").remove();var u=a.filter(function(t){return!t.disabled&&t.bar}),c=a.filter(function(t){return!t.bar});A=u.length&&!lt?N.xScale():O.xScale(),C=L.scale(),S=lt?O.yScale():N.yScale(),W=lt?N.yScale():O.yScale(),F=lt?D.yScale():_.yScale(),E=lt?_.yScale():D.yScale();var n=a.filter(function(t){return!t.disabled&&(lt?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:q(t,e),y:Z(t,e)}})}),r=a.filter(function(t){return!t.disabled&&(lt?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:q(t,e),y:Z(t,e)}})});A.range([0,s]),C.domain(d3.extent(d3.merge(n.concat(r)),function(t){return t.x})).range([0,s]);var o=t.selectAll("g.nv-wrap.nv-linePlusBar").data([a]),d=o.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),f=o.select("g");d.append("g").attr("class","nv-legendWrap");var p=d.append("g").attr("class","nv-focus");p.append("g").attr("class","nv-x nv-axis"),p.append("g").attr("class","nv-y1 nv-axis"),p.append("g").attr("class","nv-y2 nv-axis"),p.append("g").attr("class","nv-barsWrap"),p.append("g").attr("class","nv-linesWrap");var h,g,v=d.append("g").attr("class","nv-context");v.append("g").attr("class","nv-x nv-axis"),v.append("g").attr("class","nv-y1 nv-axis"),v.append("g").attr("class","nv-y2 nv-axis"),v.append("g").attr("class","nv-barsWrap"),v.append("g").attr("class","nv-linesWrap"),v.append("g").attr("class","nv-brushBackground"),v.append("g").attr("class","nv-x nv-brush"),U?(h=V.align()?s/2:s,g=V.align()?h:0,V.width(h),f.select(".nv-legendWrap").datum(a.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=lt?t.originalKey+(t.bar?st:at):t.originalKey+(t.bar?at:st),t})).call(V),H||V.height()===G.top||(G.top=V.height(),l=vt.utils.availableHeight(X,t,G)-tt),f.select(".nv-legendWrap").attr("transform","translate("+g+","+-G.top+")")):f.select(".nv-legendWrap").selectAll("*").remove(),o.attr("transform","translate("+G.left+","+G.top+")"),f.select(".nv-context").style("display",Q?"initial":"none"),_.width(s).height(i).color(a.map(function(t,e){return t.color||K(t,e)}).filter(function(t,e){return!a[e].disabled&&a[e].bar})),D.width(s).height(i).color(a.map(function(t,e){return t.color||K(t,e)}).filter(function(t,e){return!a[e].disabled&&!a[e].bar}));var m=f.select(".nv-context .nv-barsWrap").datum(u.length?u:[{values:[]}]),y=f.select(".nv-context .nv-linesWrap").datum(dt(c)?[{values:[]}]:c.filter(function(t){return!t.disabled}));f.select(".nv-context").attr("transform","translate(0,"+(l+G.bottom+Y.top)+")"),m.transition().call(_),y.transition().call(D),$&&(L._ticks(vt.utils.calcTicksX(s/100,a)).tickSize(-i,0),f.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+F.range()[0]+")"),f.select(".nv-context .nv-x.nv-axis").transition().call(L)),J&&(I.scale(F)._ticks(i/36).tickSize(-s,0),z.scale(E)._ticks(i/36).tickSize(u.length?0:-s,0),f.select(".nv-context .nv-y3.nv-axis").style("opacity",u.length?1:0).attr("transform","translate(0,"+C.range()[0]+")"),f.select(".nv-context .nv-y2.nv-axis").style("opacity",c.length?1:0).attr("transform","translate("+C.range()[1]+",0)"),f.select(".nv-context .nv-y1.nv-axis").transition().call(I),f.select(".nv-context .nv-y2.nv-axis").transition().call(z)),j.x(C).on("brush",w),et&&j.extent(et);var x=f.select(".nv-brushBackground").selectAll("g").data([et||j.extent()]),b=x.enter().append("g");b.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",i),b.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",i);var k=f.select(".nv-x.nv-brush").call(j);function w(){et=j.empty()?null:j.extent(),M=j.empty()?C.domain():j.extent(),nt.brush({extent:M,brush:j}),j.empty()||j.extent(et),x.data([j.empty()?C.domain():et]).each(function(t,e){var n=C(t[0])-C.range()[0],r=C.range()[1]-C(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",C(t[1])).attr("width",r<0?0:r)}),N.width(s).height(l).color(a.map(function(t,e){return t.color||K(t,e)}).filter(function(t,e){return!a[e].disabled&&a[e].bar})),O.width(s).height(l).color(a.map(function(t,e){return t.color||K(t,e)}).filter(function(t,e){return!a[e].disabled&&!a[e].bar}));var t=f.select(".nv-focus .nv-barsWrap").datum(u.length?u.map(function(t,e){return{key:t.key,values:t.values.filter(function(t,e){return N.x()(t,e)>=M[0]&&N.x()(t,e)<=M[1]})}}):[{values:[]}]),e=f.select(".nv-focus .nv-linesWrap").datum(dt(c)?[{values:[]}]:c.filter(function(t){return!t.disabled}).map(function(t,e){return{area:t.area,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,key:t.key,values:t.values.filter(function(t,e){return O.x()(t,e)>=M[0]&&O.x()(t,e)<=M[1]})}}));A=u.length&&!lt?N.xScale():O.xScale(),T.scale(A)._ticks(vt.utils.calcTicksX(s/100,a)).tickSize(-l,0),T.domain([Math.ceil(M[0]),Math.floor(M[1])]),f.select(".nv-x.nv-axis").transition().duration(rt).call(T),t.transition().duration(rt).call(N),e.transition().duration(rt).call(O),f.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+S.range()[0]+")"),B.scale(S)._ticks(vt.utils.calcTicksY(l/36,a)).tickSize(-s,0),P.scale(W)._ticks(vt.utils.calcTicksY(l/36,a)),lt?P.tickSize(c.length?0:-s,0):P.tickSize(u.length?0:-s,0);var n=u.length?1:0,r=c.length&&!dt(c)?1:0,i=lt?r:n,o=lt?n:r;f.select(".nv-focus .nv-y1.nv-axis").style("opacity",i),f.select(".nv-focus .nv-y2.nv-axis").style("opacity",o).attr("transform","translate("+A.range()[1]+",0)"),f.select(".nv-focus .nv-y1.nv-axis").transition().duration(rt).call(B),f.select(".nv-focus .nv-y2.nv-axis").transition().duration(rt).call(P)}k.selectAll("rect").attr("height",i),k.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=i/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(6+r)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(8+r)+"V"+(2*r-8)+"M"+4.5*n+","+(8+r)+"V"+(2*r-8)}),V.dispatch.on("stateChange",function(t){for(var e in t)it[e]=t[e];nt.stateChange(it),ft.update()}),nt.on("changeState",function(n){void 0!==n.disabled&&(a.forEach(function(t,e){t.disabled=n.disabled[e]}),it.disabled=n.disabled),ft.update()}),w()}),ft}return O.dispatch.on("elementMouseover.tooltip",function(t){e.duration(100).valueFormatter(function(t,e){return(lt?{main:B,focus:I}:{main:P,focus:z}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),O.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),N.dispatch.on("elementMouseover.tooltip",function(t){t.value=ft.x()(t.data),t.series={value:ft.y()(t.data),color:t.color},e.duration(0).valueFormatter(function(t,e){return(lt?{main:P,focus:z}:{main:B,focus:I}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),N.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),N.dispatch.on("elementMousemove.tooltip",function(t){e()}),ft.dispatch=nt,ft.legend=V,ft.lines=O,ft.lines2=D,ft.bars=N,ft.bars2=_,ft.xAxis=T,ft.x2Axis=L,ft.y1Axis=B,ft.y2Axis=P,ft.y3Axis=I,ft.y4Axis=z,ft.tooltip=e,ft.options=vt.utils.optionsFunc.bind(ft),ft._options=Object.create({},{width:{get:function(){return R},set:function(t){R=t}},height:{get:function(){return X},set:function(t){X=t}},showLegend:{get:function(){return U},set:function(t){U=t}},brushExtent:{get:function(){return et},set:function(t){et=t}},noData:{get:function(){return n},set:function(t){n=t}},focusEnable:{get:function(){return Q},set:function(t){Q=t}},focusHeight:{get:function(){return tt},set:function(t){tt=t}},focusShowAxisX:{get:function(){return $},set:function(t){$=t}},focusShowAxisY:{get:function(){return J},set:function(t){J=t}},legendLeftAxisHint:{get:function(){return at},set:function(t){at=t}},legendRightAxisHint:{get:function(){return st},set:function(t){st=t}},margin:{get:function(){return G},set:function(t){void 0!==t.top&&(G.top=t.top,H=t.top),G.right=void 0!==t.right?t.right:G.right,G.bottom=void 0!==t.bottom?t.bottom:G.bottom,G.left=void 0!==t.left?t.left:G.left}},focusMargin:{get:function(){return Y},set:function(t){Y.top=void 0!==t.top?t.top:Y.top,Y.right=void 0!==t.right?t.right:Y.right,Y.bottom=void 0!==t.bottom?t.bottom:Y.bottom,Y.left=void 0!==t.left?t.left:Y.left}},duration:{get:function(){return rt},set:function(t){rt=t}},color:{get:function(){return K},set:function(t){K=vt.utils.getColor(t),V.color(K)}},x:{get:function(){return q},set:function(t){q=t,O.x(t),D.x(t),N.x(t),_.x(t)}},y:{get:function(){return Z},set:function(t){Z=t,O.y(t),D.y(t),N.y(t),_.y(t)}},switchYAxisOrder:{get:function(){return lt},set:function(t){var e,n;lt!==t&&(e=B,B=P,P=e,n=I,I=z,z=n),lt=t,B.orient("left"),P.orient("right"),I.orient("left"),z.orient("right")}}}),vt.utils.inheritOptions(ft,O),vt.utils.initOptions(ft),ft},vt.models.multiBar=function(){"use strict";var g,v,m,y,x,b,k={top:0,right:0,bottom:0,left:0},w=960,M=500,A=d3.scale.ordinal(),C=d3.scale.linear(),S=Math.floor(1e4*Math.random()),W=null,F=function(t){return t.x},E=function(t){return t.y},O=[0],D=!0,N=!1,_="zero",T=vt.utils.defaultColor(),L=!1,B=null,P=500,I=.1,z=.75,V=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),j=vt.utils.renderWatch(V,P),G=0;function e(t){return j.reset(),t.each(function(a){var t=w-k.left-k.right,e=M-k.top-k.bottom;W=d3.select(this),vt.utils.initSVG(W);var r,i=0;L&&a.length&&(L=[{values:a[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),N&&((r=d3.layout.stack().offset(_).values(function(t){return t.values}).y(E)(!a.length&&L?L:a)).forEach(function(t,n){t.nonStackable?(a[n].nonStackableSeries=i++,r[n]=a[n]):0<n&&r[n-1].nonStackable&&r[n].values.map(function(t,e){t.y0-=r[n-1].values[e].y,t.y1=t.y0+t.y})}),a=r),a.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),N&&0<a.length&&a[0].values.map(function(t,r){var i=0,o=0;a.map(function(t,e){var n;a[e].nonStackable||((n=t.values[r]).size=Math.abs(n.y),n.y<0?(n.y1=o,o-=n.size):(n.y1=n.size+i,i+=n.size))})});var n=v&&m?[]:a.map(function(t,n){return t.values.map(function(t,e){return{x:F(t,e),y:E(t,e),y0:t.y0,y1:t.y1,idx:n}})});A.domain(v||d3.merge(n).map(function(t){return t.x})).rangeBands(y||[0,t],I),C.domain(m||d3.extent(d3.merge(n).map(function(t){var e=t.y;return N&&!a[t.idx].nonStackable&&(e=0<t.y?t.y1:t.y1+t.y),e}).concat(O))).range(x||[e,0]),A.domain()[0]===A.domain()[1]&&(A.domain()[0]?A.domain([A.domain()[0]-.01*A.domain()[0],A.domain()[1]+.01*A.domain()[1]]):A.domain([-1,1])),C.domain()[0]===C.domain()[1]&&(C.domain()[0]?C.domain([C.domain()[0]+.01*C.domain()[0],C.domain()[1]-.01*C.domain()[1]]):C.domain([-1,1])),b=b||C;var o=W.selectAll("g.nv-wrap.nv-multibar").data([a]),s=o.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),l=s.append("defs"),u=s.append("g"),c=o.select("g");u.append("g").attr("class","nv-groups"),o.attr("transform","translate("+k.left+","+k.top+")"),l.append("clipPath").attr("id","nv-edge-clip-"+S).append("rect"),o.select("#nv-edge-clip-"+S+" rect").attr("width",t).attr("height",e),c.attr("clip-path",D?"url(#nv-edge-clip-"+S+")":"");var d=o.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});d.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var f=j.transition(d.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,P)).attr("y",function(t,e,n){var r=b(0)||0;return N&&a[t.series]&&!a[t.series].nonStackable&&(r=b(t.y0)),r}).attr("height",0).remove();f.delay&&f.delay(function(t,e){return e*(P/(G+1))-e}),d.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return T(t,e)}).style("stroke",function(t,e){return T(t,e)}),d.style("stroke-opacity",1).style("fill-opacity",z);var p=d.selectAll("rect.nv-bar").data(function(t){return L&&!a.length?L.values:t.values});p.exit().remove();p.enter().append("rect").attr("class",function(t,e){return E(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return N&&!a[n].nonStackable?0:n*A.rangeBand()/a.length}).attr("y",function(t,e,n){return b(N&&!a[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return A.rangeBand()/(N&&!a[n].nonStackable?1:a.length)}).attr("transform",function(t,e){return"translate("+A(F(t,e))+",0)"});p.style("fill",function(t,e,n){return T(t,n,e)}).style("stroke",function(t,e,n){return T(t,n,e)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),V.elementMouseover({data:t,index:e,series:a[n],color:d3.select(this).style("fill")})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),V.elementMouseout({data:t,index:e,series:a[n],color:d3.select(this).style("fill")})}).on("mousemove",function(t,e,n){V.elementMousemove({data:t,index:e,series:a[n],color:d3.select(this).style("fill")})}).on("click",function(t,e,n){V.elementClick({data:t,index:e,series:a[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e,n){V.elementDblClick({data:t,index:e,series:a[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),p.attr("class",function(t,e){return E(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+A(F(t,e))+",0)"}),B&&(g=g||a.map(function(){return!0}),p.style("fill",function(t,e,n){return d3.rgb(B(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(B(t,e)).darker(g.map(function(t,e){return e}).filter(function(t,e){return!g[e]})[n]).toString()}));var h=p.watchTransition(j,"multibar",Math.min(250,P)).delay(function(t,e){return e*P/a[0].values.length});N?h.attr("y",function(t,e,n){return a[n].nonStackable?E(t,e)<0?C(0):C(0)-C(E(t,e))<-1?C(0)-1:C(E(t,e))||0:C(t.y1)}).attr("height",function(t,e,n){return a[n].nonStackable?Math.max(Math.abs(C(E(t,e))-C(0)),0)||0:Math.max(Math.abs(C(t.y+t.y0)-C(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return a[n].nonStackable&&(r=t.series*A.rangeBand()/a.length,a.length!==i&&(r=a[n].nonStackableSeries*A.rangeBand()/(2*i))),r}).attr("width",function(t,e,n){if(a[n].nonStackable){var r=A.rangeBand()/i;return a.length!==i&&(r=A.rangeBand()/(2*i)),r}return A.rangeBand()}):h.attr("x",function(t,e){return t.series*A.rangeBand()/a.length}).attr("width",A.rangeBand()/a.length).attr("y",function(t,e){return E(t,e)<0?C(0):C(0)-C(E(t,e))<1?C(0)-1:C(E(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(C(E(t,e))-C(0)),1)||0}),A.copy(),b=C.copy(),a[0]&&a[0].values&&(G=a[0].values.length)}),j.renderEnd("multibar immediate"),e}return e.dispatch=V,e.options=vt.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return w},set:function(t){w=t}},height:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return F},set:function(t){F=t}},y:{get:function(){return E},set:function(t){E=t}},xScale:{get:function(){return A},set:function(t){A=t}},yScale:{get:function(){return C},set:function(t){C=t}},xDomain:{get:function(){return v},set:function(t){v=t}},yDomain:{get:function(){return m},set:function(t){m=t}},xRange:{get:function(){return y},set:function(t){y=t}},yRange:{get:function(){return x},set:function(t){x=t}},forceY:{get:function(){return O},set:function(t){O=t}},stacked:{get:function(){return N},set:function(t){N=t}},stackOffset:{get:function(){return _},set:function(t){_=t}},clipEdge:{get:function(){return D},set:function(t){D=t}},disabled:{get:function(){return g},set:function(t){g=t}},id:{get:function(){return S},set:function(t){S=t}},hideable:{get:function(){return L},set:function(t){L=t}},groupSpacing:{get:function(){return I},set:function(t){I=t}},fillOpacity:{get:function(){return z},set:function(t){z=t}},margin:{get:function(){return k},set:function(t){k.top=void 0!==t.top?t.top:k.top,k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},duration:{get:function(){return P},set:function(t){P=t,j.reset(P)}},color:{get:function(){return T},set:function(t){T=vt.utils.getColor(t)}},barColor:{get:function(){return B},set:function(t){B=t?vt.utils.getColor(t):null}}}),vt.utils.initOptions(e),e},vt.models.multiBarChart=function(){"use strict";var f,p,h=vt.models.multiBar(),g=vt.models.axis(),v=vt.models.axis(),m=vt.interactiveGuideline(),y=vt.models.legend(),x=vt.models.legend(),b=vt.models.tooltip(),k={top:30,right:20,bottom:50,left:60},w=null,M=null,A=null,C=vt.utils.defaultColor(),S=!0,W={},F=!0,E=null,O=!0,D=!0,N=!1,_=!0,T=!1,L=!1,B=0,P=vt.utils.state(),I=null,e=null,z=d3.dispatch("stateChange","changeState","renderEnd"),V=function(){return S?180:0},j=250,G=!1;P.stacked=!1,h.stacked(!1),g.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),v.orient(N?"right":"left").tickFormat(d3.format(",.1f")),b.duration(0).valueFormatter(function(t,e){return v.tickFormat()(t,e)}).headerFormatter(function(t,e){return g.tickFormat()(t,e)}),m.tooltip.valueFormatter(function(t,e){return null==t?"N/A":v.tickFormat()(t,e)}).headerFormatter(function(t,e){return g.tickFormat()(t,e)}),m.tooltip.valueFormatter(function(t,e){return null==t?"N/A":v.tickFormat()(t,e)}).headerFormatter(function(t,e){return g.tickFormat()(t,e)}),m.tooltip.duration(0).valueFormatter(function(t,e){return v.tickFormat()(t,e)}).headerFormatter(function(t,e){return g.tickFormat()(t,e)}),x.updateState(!1);var n=vt.utils.renderWatch(z),H=!1,Y=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:H}}},R=function(t){return function(n){void 0!==n.stacked&&(H=n.stacked),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function X(t){return n.reset(),n.models(h),O&&n.models(g),D&&n.models(v),t.each(function(u){var t=d3.select(this);vt.utils.initSVG(t);var e,n=vt.utils.availableWidth(M,t,k),r=vt.utils.availableHeight(A,t,k);if(X.update=function(){0===j?t.call(X):t.transition().duration(j).call(X)},X.container=this,P.setter(R(u),X.update).getter(Y(u)).update(),P.disabled=u.map(function(t){return!!t.disabled}),!I)for(e in I={},P)P[e]instanceof Array?I[e]=P[e].slice(0):I[e]=P[e];if(!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return vt.utils.noData(X,t),X;t.selectAll(".nv-noData").remove(),f=h.xScale(),p=h.yScale();var i,o,a,s,l=t.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([u]),c=l.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),d=l.select("g");c.append("g").attr("class","nv-x nv-axis"),c.append("g").attr("class","nv-y nv-axis"),c.append("g").attr("class","nv-barsWrap"),c.append("g").attr("class","nv-legendWrap"),c.append("g").attr("class","nv-controlsWrap"),c.append("g").attr("class","nv-interactive"),F?"bottom"===E?(y.width(n-k.right),d.select(".nv-legendWrap").datum(u).call(y),k.bottom=g.height()+y.height(),r=vt.utils.availableHeight(A,t,k),d.select(".nv-legendWrap").attr("transform","translate(0,"+(r+g.height())+")")):(y.width(n-V()),d.select(".nv-legendWrap").datum(u).call(y),w||y.height()===k.top||(k.top=y.height(),r=vt.utils.availableHeight(A,t,k)),d.select(".nv-legendWrap").attr("transform","translate("+V()+","+-k.top+")")):d.select(".nv-legendWrap").selectAll("*").remove(),S?(i=[{key:W.grouped||"Grouped",disabled:h.stacked()},{key:W.stacked||"Stacked",disabled:!h.stacked()}],x.width(V()).color(["#444","#444","#444"]),d.select(".nv-controlsWrap").datum(i).attr("transform","translate(0,"+-k.top+")").call(x)):d.select(".nv-controlsWrap").selectAll("*").remove(),l.attr("transform","translate("+k.left+","+k.top+")"),N&&d.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),h.disabled(u.map(function(t){return t.disabled})).width(n).height(r).color(u.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!u[e].disabled})),d.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).call(h),O&&(g.scale(f)._ticks(vt.utils.calcTicksX(n/100,u)).tickSize(-r,0),d.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")"),d.select(".nv-x.nv-axis").call(g),(o=d.select(".nv-x.nv-axis > g").selectAll("g")).selectAll("line, text").style("opacity",1),T&&(a=function(t,e){return"translate("+t+","+e+")"},o.selectAll("text").attr("transform",function(t,e,n){return a(0,n%2==0?5:17)}),s=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length,d.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return a(0,0===e||s%2!=0?17:5)})),L&&d.selectAll(".tick text").call(vt.utils.wrapTicks,X.xAxis.rangeBand()),_&&o.filter(function(t,e){return e%Math.ceil(u[0].values.length/(n/100))!=0}).selectAll("text, line").style("opacity",0),B&&o.selectAll(".tick text").attr("transform","rotate("+B+" 0,0)").style("text-anchor",0<B?"start":"end"),d.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)),D&&(v.scale(p)._ticks(vt.utils.calcTicksY(r/36,u)).tickSize(-n,0),d.select(".nv-y.nv-axis").call(v)),G&&(m.width(n).height(r).margin({left:k.left,top:k.top}).svgContainer(t).xScale(f),l.select(".nv-interactive").call(m)),y.dispatch.on("stateChange",function(t){for(var e in t)P[e]=t[e];z.stateChange(P),X.update()}),x.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(i=i.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case W.grouped:h.stacked(!1);break;case"Stacked":case W.stacked:h.stacked(!0)}P.stacked=h.stacked(),z.stateChange(P),X.update()}}),z.on("changeState",function(n){void 0!==n.disabled&&(u.forEach(function(t,e){t.disabled=n.disabled[e]}),P.disabled=n.disabled),void 0!==n.stacked&&(h.stacked(n.stacked),P.stacked=n.stacked,H=n.stacked),X.update()}),G?(m.dispatch.on("elementMousemove",function(r){var i,o,a,s,l;null!=r.pointXValue&&(l=[],u.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){o=f.domain().indexOf(r.pointXValue);var n=t.values[o];void 0!==n&&(s=n.x,void 0===i&&(i=n),void 0===a&&(a=r.mouseX),l.push({key:t.key,value:X.y()(n,o),color:C(t,t.seriesIndex),data:t.values[o]}))}),m.tooltip.data({value:s,index:o,series:l})(),m.renderGuideLine(a))}),m.dispatch.on("elementMouseout",function(t){m.tooltip.hidden(!0)})):(h.dispatch.on("elementMouseover.tooltip",function(t){t.value=X.x()(t.data),t.series={key:t.data.key,value:X.y()(t.data),color:t.color},b.data(t).hidden(!1)}),h.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),h.dispatch.on("elementMousemove.tooltip",function(t){b()}))}),n.renderEnd("multibarchart immediate"),X}return X.dispatch=z,X.multibar=h,X.legend=y,X.controls=x,X.xAxis=g,X.yAxis=v,X.state=P,X.tooltip=b,X.interactiveLayer=m,X.options=vt.utils.optionsFunc.bind(X),X._options=Object.create({},{width:{get:function(){return M},set:function(t){M=t}},height:{get:function(){return A},set:function(t){A=t}},showLegend:{get:function(){return F},set:function(t){F=t}},legendPosition:{get:function(){return E},set:function(t){E=t}},showControls:{get:function(){return S},set:function(t){S=t}},controlLabels:{get:function(){return W},set:function(t){W=t}},showXAxis:{get:function(){return O},set:function(t){O=t}},showYAxis:{get:function(){return D},set:function(t){D=t}},defaultState:{get:function(){return I},set:function(t){I=t}},noData:{get:function(){return e},set:function(t){e=t}},reduceXTicks:{get:function(){return _},set:function(t){_=t}},rotateLabels:{get:function(){return B},set:function(t){B=t}},staggerLabels:{get:function(){return T},set:function(t){T=t}},wrapLabels:{get:function(){return L},set:function(t){L=!!t}},margin:{get:function(){return k},set:function(t){void 0!==t.top&&(k.top=t.top,w=t.top),k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},duration:{get:function(){return j},set:function(t){j=t,h.duration(j),g.duration(j),v.duration(j),n.reset(j)}},color:{get:function(){return C},set:function(t){C=vt.utils.getColor(t),y.color(C)}},rightAlignYAxis:{get:function(){return N},set:function(t){N=t,v.orient(N?"right":"left")}},useInteractiveGuideline:{get:function(){return G},set:function(t){G=t}},barColor:{get:function(){return h.barColor},set:function(t){h.barColor(t),y.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),vt.utils.inheritOptions(X,h),vt.utils.initOptions(X),X},vt.models.multiBarHorizontal=function(){"use strict";var c,d,f,p,h,g,v={top:0,right:0,bottom:0,left:0},m=960,y=500,e=Math.floor(1e4*Math.random()),x=null,b=d3.scale.ordinal(),k=d3.scale.linear(),w=function(t){return t.x},M=function(t){return t.y},A=function(t){return t.yErr},C=[0],S=vt.utils.defaultColor(),W=null,F=!1,E=!1,O=!1,D=60,N=.1,_=.75,T=d3.format(",.2f"),n=250,L=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),B=vt.utils.renderWatch(L,n);function r(t){return B.reset(),t.each(function(o){var t=m-v.left-v.right,e=y-v.top-v.bottom;x=d3.select(this),vt.utils.initSVG(x),F&&(o=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(M)(o)),o.forEach(function(e,n){e.values.forEach(function(t){t.series=n,t.key=e.key})}),F&&o[0].values.map(function(t,n){var r=0,i=0;o.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=i-e.size,i-=e.size):(e.y1=r,r+=e.size)})});var n=d&&f?[]:o.map(function(t){return t.values.map(function(t,e){return{x:w(t,e),y:M(t,e),y0:t.y0,y1:t.y1}})});b.domain(d||d3.merge(n).map(function(t){return t.x})).rangeBands(p||[0,e],N),k.domain(f||d3.extent(d3.merge(n).map(function(t){return F?0<t.y?t.y1+t.y:t.y1:t.y}).concat(C))),E&&!F?k.range(h||[k.domain()[0]<0?D:0,t-(0<k.domain()[1]?D:0)]):k.range(h||[0,t]),g=g||d3.scale.linear().domain(k.domain()).range([k(0),k(0)]);var r=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([o]),i=r.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),a=(i.append("defs"),i.append("g"));r.select("g");a.append("g").attr("class","nv-groups"),r.attr("transform","translate("+v.left+","+v.top+")");var s=r.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});s.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),s.exit().watchTransition(B,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),s.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return S(t,e)}).style("stroke",function(t,e){return S(t,e)}),s.watchTransition(B,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",_);var l=s.selectAll("g.nv-bar").data(function(t){return t.values});l.exit().remove();var u=l.enter().append("g").attr("transform",function(t,e,n){return"translate("+g(F?t.y0:0)+","+(F?0:n*b.rangeBand()/o.length+b(w(t,e)))+")"});u.append("rect").attr("width",0).attr("height",b.rangeBand()/(F?1:o.length)),l.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),L.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),L.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){L.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){L.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){L.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){L.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),A(o[0],0)&&(u.append("polyline"),l.select("polyline").attr("fill","none").attr("points",function(e,n){var t=A(e,n),r=.8*b.rangeBand()/(2*(F?1:o.length));return[[(t=(t=t.length?t:[-Math.abs(t),Math.abs(t)]).map(function(t){return k(t+(M(e,n)<0?0:M(e,n)))-k(0)}))[0],-r],[t[0],r],[t[0],0],[t[1],0],[t[1],-r],[t[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){return"translate(0, "+b.rangeBand()/(2*(F?1:o.length))+")"})),u.append("text"),E&&!F?(l.select("text").attr("text-anchor",function(t,e){return M(t,e)<0?"end":"start"}).attr("y",b.rangeBand()/(2*o.length)).attr("dy",".32em").text(function(t,e){var n=T(M(t,e)),r=A(t,e);return void 0===r?n:r.length?n+"+"+T(Math.abs(r[1]))+"-"+T(Math.abs(r[0])):n+"±"+T(Math.abs(r))}),l.watchTransition(B,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return M(t,e)<0?-4:k(M(t,e))-k(0)+4})):l.selectAll("text").text(""),O&&!F?(u.append("text").classed("nv-bar-label",!0),l.select("text.nv-bar-label").attr("text-anchor",function(t,e){return M(t,e)<0?"start":"end"}).attr("y",b.rangeBand()/(2*o.length)).attr("dy",".32em").text(function(t,e){return w(t,e)}),l.watchTransition(B,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return M(t,e)<0?k(0)-k(M(t,e))+4:-4})):l.selectAll("text.nv-bar-label").text(""),l.attr("class",function(t,e){return M(t,e)<0?"nv-bar negative":"nv-bar positive"}),W&&(c=c||o.map(function(){return!0}),l.style("fill",function(t,e,n){return d3.rgb(W(t,e)).darker(c.map(function(t,e){return e}).filter(function(t,e){return!c[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(W(t,e)).darker(c.map(function(t,e){return e}).filter(function(t,e){return!c[e]})[n]).toString()})),F?l.watchTransition(B,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+k(t.y1)+","+b(w(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(k(M(t,e)+t.y0)-k(t.y0))||0}).attr("height",b.rangeBand()):l.watchTransition(B,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+(M(t,e)<0?k(M(t,e)):k(0))+","+(t.series*b.rangeBand()/o.length+b(w(t,e)))+")"}).select("rect").attr("height",b.rangeBand()/o.length).attr("width",function(t,e){return Math.max(Math.abs(k(M(t,e))-k(0)),1)||0}),b.copy(),g=k.copy()}),B.renderEnd("multibarHorizontal immediate"),r}return r.dispatch=L,r.options=vt.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return w},set:function(t){w=t}},y:{get:function(){return M},set:function(t){M=t}},yErr:{get:function(){return A},set:function(t){A=t}},xScale:{get:function(){return b},set:function(t){b=t}},yScale:{get:function(){return k},set:function(t){k=t}},xDomain:{get:function(){return d},set:function(t){d=t}},yDomain:{get:function(){return f},set:function(t){f=t}},xRange:{get:function(){return p},set:function(t){p=t}},yRange:{get:function(){return h},set:function(t){h=t}},forceY:{get:function(){return C},set:function(t){C=t}},stacked:{get:function(){return F},set:function(t){F=t}},showValues:{get:function(){return E},set:function(t){E=t}},disabled:{get:function(){return c},set:function(t){c=t}},id:{get:function(){return e},set:function(t){e=t}},valueFormat:{get:function(){return T},set:function(t){T=t}},valuePadding:{get:function(){return D},set:function(t){D=t}},groupSpacing:{get:function(){return N},set:function(t){N=t}},fillOpacity:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return v},set:function(t){v.top=void 0!==t.top?t.top:v.top,v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},duration:{get:function(){return n},set:function(t){n=t,B.reset(n)}},color:{get:function(){return S},set:function(t){S=vt.utils.getColor(t)}},barColor:{get:function(){return W},set:function(t){W=t?vt.utils.getColor(t):null}}}),vt.utils.initOptions(r),r},vt.models.multiBarHorizontalChart=function(){"use strict";var u,c,d=vt.models.multiBarHorizontal(),f=vt.models.axis(),p=vt.models.axis(),h=vt.models.legend().height(30),g=vt.models.legend().height(30),e=vt.models.tooltip(),v={top:30,right:20,bottom:50,left:60},m=null,y=null,x=null,b=vt.utils.defaultColor(),k=!0,w="top",M={},A=!0,C="top",S=!0,W=!0,F=!1,E=vt.utils.state(),O=null,n=null,D=d3.dispatch("stateChange","changeState","renderEnd"),N=function(){return k?180:0},_=250;E.stacked=!1,d.stacked(F),f.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),p.orient("bottom").tickFormat(d3.format(",.1f")),e.duration(0).valueFormatter(function(t,e){return p.tickFormat()(t,e)}).headerFormatter(function(t,e){return f.tickFormat()(t,e)}),g.updateState(!1);var T=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:F}}},L=function(t){return function(n){void 0!==n.stacked&&(F=n.stacked),void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},r=vt.utils.renderWatch(D,_);function B(t){return r.reset(),r.models(d),S&&r.models(f),W&&r.models(p),t.each(function(r){var t=d3.select(this);vt.utils.initSVG(t);var e,n=vt.utils.availableWidth(y,t,v),i=vt.utils.availableHeight(x,t,v);if(B.update=function(){t.transition().duration(_).call(B)},B.container=this,F=d.stacked(),E.setter(L(r),B.update).getter(T(r)).update(),E.disabled=r.map(function(t){return!!t.disabled}),!O)for(e in O={},E)E[e]instanceof Array?O[e]=E[e].slice(0):O[e]=E[e];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return vt.utils.noData(B,t),B;t.selectAll(".nv-noData").remove(),u=d.xScale(),c=d.yScale().clamp(!0);var o,a=t.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([r]),s=a.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),l=a.select("g");s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),s.append("g").attr("class","nv-barsWrap"),s.append("g").attr("class","nv-legendWrap"),s.append("g").attr("class","nv-controlsWrap"),A?(h.width(n-N()),l.select(".nv-legendWrap").datum(r).call(h),"bottom"===C?(v.bottom=f.height()+h.height(),i=vt.utils.availableHeight(x,t,v),l.select(".nv-legendWrap").attr("transform","translate("+N()+","+(i+f.height())+")")):"top"===C&&(m||h.height()===v.top||(v.top=h.height(),i=vt.utils.availableHeight(x,t,v)),l.select(".nv-legendWrap").attr("transform","translate("+N()+","+-v.top+")"))):l.select(".nv-legendWrap").selectAll("*").remove(),k?(o=[{key:M.grouped||"Grouped",disabled:d.stacked()},{key:M.stacked||"Stacked",disabled:!d.stacked()}],g.width(N()).color(["#444","#444","#444"]),"bottom"===w?(v.bottom=f.height()+h.height(),i=vt.utils.availableHeight(x,t,v),l.select(".nv-controlsWrap").datum(o).attr("transform","translate(0,"+(i+f.height())+")").call(g)):"top"===w&&l.select(".nv-controlsWrap").datum(o).attr("transform","translate(0,"+-v.top+")").call(g)):l.select(".nv-controlsWrap").selectAll("*").remove(),a.attr("transform","translate("+v.left+","+v.top+")"),d.disabled(r.map(function(t){return t.disabled})).width(n).height(i).color(r.map(function(t,e){return t.color||b(t,e)}).filter(function(t,e){return!r[e].disabled})),l.select(".nv-barsWrap").datum(r.filter(function(t){return!t.disabled})).transition().call(d),S&&(f.scale(u)._ticks(vt.utils.calcTicksY(i/24,r)).tickSize(-n,0),l.select(".nv-x.nv-axis").call(f),l.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),W&&(p.scale(c)._ticks(vt.utils.calcTicksX(n/100,r)).tickSize(-i,0),l.select(".nv-y.nv-axis").attr("transform","translate(0,"+i+")"),l.select(".nv-y.nv-axis").call(p)),l.select(".nv-zeroLine line").attr("x1",c(0)).attr("x2",c(0)).attr("y1",0).attr("y2",-i),h.dispatch.on("stateChange",function(t){for(var e in t)E[e]=t[e];D.stateChange(E),B.update()}),g.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(o=o.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case M.grouped:d.stacked(!1);break;case"Stacked":case M.stacked:d.stacked(!0)}E.stacked=d.stacked(),D.stateChange(E),F=d.stacked(),B.update()}}),D.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),E.disabled=n.disabled),void 0!==n.stacked&&(d.stacked(n.stacked),E.stacked=n.stacked,F=n.stacked),B.update()})}),r.renderEnd("multibar horizontal chart immediate"),B}return d.dispatch.on("elementMouseover.tooltip",function(t){t.value=B.x()(t.data),t.series={key:t.data.key,value:B.y()(t.data),color:t.color},e.data(t).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){e()}),B.dispatch=D,B.multibar=d,B.legend=h,B.controls=g,B.xAxis=f,B.yAxis=p,B.state=E,B.tooltip=e,B.options=vt.utils.optionsFunc.bind(B),B._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return A},set:function(t){A=t}},legendPosition:{get:function(){return C},set:function(t){C=t}},controlsPosition:{get:function(){return w},set:function(t){w=t}},showControls:{get:function(){return k},set:function(t){k=t}},controlLabels:{get:function(){return M},set:function(t){M=t}},showXAxis:{get:function(){return S},set:function(t){S=t}},showYAxis:{get:function(){return W},set:function(t){W=t}},defaultState:{get:function(){return O},set:function(t){O=t}},noData:{get:function(){return n},set:function(t){n=t}},margin:{get:function(){return v},set:function(t){void 0!==t.top&&(v.top=t.top,m=t.top),v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},duration:{get:function(){return _},set:function(t){_=t,r.reset(_),d.duration(_),f.duration(_),p.duration(_)}},color:{get:function(){return b},set:function(t){b=vt.utils.getColor(t),h.color(b)}},barColor:{get:function(){return d.barColor},set:function(t){d.barColor(t),h.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),vt.utils.inheritOptions(B,d),vt.utils.initOptions(B),B},vt.models.multiChart=function(){"use strict";var I,z,V={top:30,right:20,bottom:50,left:60},j=null,G=vt.utils.defaultColor(),H=null,Y=null,R=!0,e=null,X=function(t){return t.x},q=function(t){return t.y},Z="linear",n=!0,K=vt.interactiveGuideline(),U=!1,Q=" (right axis)",r=250,J=d3.scale.linear(),$=d3.scale.linear(),tt=d3.scale.linear(),et=vt.models.line().yScale($).duration(r),nt=vt.models.line().yScale(tt).duration(r),rt=vt.models.scatter().yScale($).duration(r),it=vt.models.scatter().yScale(tt).duration(r),ot=vt.models.multiBar().stacked(!1).yScale($).duration(r),at=vt.models.multiBar().stacked(!1).yScale(tt).duration(r),st=vt.models.stackedArea().yScale($).duration(r),lt=vt.models.stackedArea().yScale(tt).duration(r),ut=vt.models.axis().scale(J).orient("bottom").tickPadding(5).duration(r),ct=vt.models.axis().scale($).orient("left").duration(r),dt=vt.models.axis().scale(tt).orient("right").duration(r),ft=vt.models.legend().height(30),pt=vt.models.tooltip(),t=d3.dispatch(),ht=[et,nt,rt,it,ot,at,st,lt];function gt(t){return t.each(function(n){var t=d3.select(this);vt.utils.initSVG(t),gt.update=function(){t.transition().call(gt)},gt.container=this;var e=vt.utils.availableWidth(H,t,V),r=vt.utils.availableHeight(Y,t,V),d=n.filter(function(t){return"line"==t.type&&1==t.yAxis}),f=n.filter(function(t){return"line"==t.type&&2==t.yAxis}),p=n.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),h=n.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),g=n.filter(function(t){return"bar"==t.type&&1==t.yAxis}),v=n.filter(function(t){return"bar"==t.type&&2==t.yAxis}),m=n.filter(function(t){return"area"==t.type&&1==t.yAxis}),y=n.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(n&&n.length&&n.filter(function(t){return t.values.length}).length))return vt.utils.noData(gt,t),gt;t.selectAll(".nv-noData").remove();var i=n.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:X(t),y:q(t)}})}),o=n.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:X(t),y:q(t)}})});J.domain(d3.extent(d3.merge(i.concat(o)),function(t){return t.x})).range([0,e]);var a=t.selectAll("g.wrap.multiChart").data([n]),s=a.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y1 nv-axis"),s.append("g").attr("class","nv-y2 nv-axis"),s.append("g").attr("class","stack1Wrap"),s.append("g").attr("class","stack2Wrap"),s.append("g").attr("class","bars1Wrap"),s.append("g").attr("class","bars2Wrap"),s.append("g").attr("class","scatters1Wrap"),s.append("g").attr("class","scatters2Wrap"),s.append("g").attr("class","lines1Wrap"),s.append("g").attr("class","lines2Wrap"),s.append("g").attr("class","legendWrap"),s.append("g").attr("class","nv-interactive");var l,u,c=a.select("g"),x=n.map(function(t,e){return n[e].color||G(t,e)});R?(l=ft.align()?e/2:e,u=ft.align()?l:0,ft.width(l),ft.color(x),c.select(".legendWrap").datum(n.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":Q),t})).call(ft),j||ft.height()===V.top||(V.top=ft.height(),r=vt.utils.availableHeight(Y,t,V)),c.select(".legendWrap").attr("transform","translate("+u+","+-V.top+")")):c.select(".legendWrap").selectAll("*").remove(),et.width(e).height(r).interpolate(Z).color(x.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"line"==n[e].type})),nt.width(e).height(r).interpolate(Z).color(x.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"line"==n[e].type})),rt.width(e).height(r).color(x.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"scatter"==n[e].type})),it.width(e).height(r).color(x.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"scatter"==n[e].type})),ot.width(e).height(r).color(x.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"bar"==n[e].type})),at.width(e).height(r).color(x.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"bar"==n[e].type})),st.width(e).height(r).interpolate(Z).color(x.filter(function(t,e){return!n[e].disabled&&1==n[e].yAxis&&"area"==n[e].type})),lt.width(e).height(r).interpolate(Z).color(x.filter(function(t,e){return!n[e].disabled&&2==n[e].yAxis&&"area"==n[e].type})),c.attr("transform","translate("+V.left+","+V.top+")");var b=c.select(".lines1Wrap").datum(d.filter(function(t){return!t.disabled})),k=c.select(".scatters1Wrap").datum(p.filter(function(t){return!t.disabled})),w=c.select(".bars1Wrap").datum(g.filter(function(t){return!t.disabled})),M=c.select(".stack1Wrap").datum(m.filter(function(t){return!t.disabled})),A=c.select(".lines2Wrap").datum(f.filter(function(t){return!t.disabled})),C=c.select(".scatters2Wrap").datum(h.filter(function(t){return!t.disabled})),S=c.select(".bars2Wrap").datum(v.filter(function(t){return!t.disabled})),W=c.select(".stack2Wrap").datum(y.filter(function(t){return!t.disabled})),F=[];ot.stacked()&&g.length&&0<(F=g.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length&&(F=F.reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})})),g.length&&F.push({x:0,y:0});var E,O,D=[];function N(t){return d3.transpose(t).map(function(t){return t.map(function(t){return t.y})}).map(function(t){return d3.sum(t)})}function _(t){var n=2===t.series.yAxis?dt:ct;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},pt.duration(0).headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function T(t){var n=2===t.series.yAxis?dt:ct;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},pt.duration(100).headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function L(t){var n=2===t.series.yAxis?dt:ct;t.point.x=st.x()(t.point),t.point.y=st.y()(t.point),pt.duration(0).headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function B(t){var n=2===t.series.yAxis?dt:ct;t.value=ot.x()(t.data),t.series={value:ot.y()(t.data),color:t.color,key:t.data.key},pt.duration(0).headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(function(t,e){return n.tickFormat()(t,e)}).data(t).hidden(!1)}function P(){for(var t=0,e=ht.length;t<e;t++){var n=ht[t];try{n.clearHighlights()}catch(t){}}}at.stacked()&&v.length&&0<(D=v.filter(function(t){return!t.disabled}).map(function(t){return t.values})).length&&(D=D.reduce(function(t,n){return t.map(function(t,e){return{x:t.x,y:t.y+n[e].y}})})),v.length&&D.push({x:0,y:0}),$.domain(I||d3.extent(d3.merge(i).concat(F),function(t){return t.y})).range([0,r]),tt.domain(z||d3.extent(d3.merge(o).concat(D),function(t){return t.y})).range([0,r]),et.yDomain($.domain()),rt.yDomain($.domain()),ot.stacked()?(E=$.domain([0,d3.max(N(i))]).range([0,r]),ot.yDomain(E.domain())):ot.yDomain($.domain()),st.yDomain($.domain()),nt.yDomain(tt.domain()),it.yDomain(tt.domain()),at.stacked()?(O=tt.domain([0,d3.max(N(o))]).range([0,r]),at.yDomain(O.domain())):at.yDomain(tt.domain()),lt.yDomain(tt.domain()),m.length&&d3.transition(M).call(st),y.length&&d3.transition(W).call(lt),g.length&&d3.transition(w).call(ot),v.length&&d3.transition(S).call(at),d.length&&d3.transition(b).call(et),f.length&&d3.transition(A).call(nt),p.length&&d3.transition(k).call(rt),h.length&&d3.transition(C).call(it),ut._ticks(vt.utils.calcTicksX(e/100,n)).tickSize(-r,0),c.select(".nv-x.nv-axis").attr("transform","translate(0,"+r+")"),d3.transition(c.select(".nv-x.nv-axis")).call(ut),ct._ticks(vt.utils.calcTicksY(r/36,n)).tickSize(-e,0),d3.transition(c.select(".nv-y1.nv-axis")).call(ct),dt._ticks(vt.utils.calcTicksY(r/36,n)).tickSize(-e,0),d3.transition(c.select(".nv-y2.nv-axis")).call(dt),c.select(".nv-y1.nv-axis").classed("nv-disabled",!i.length).attr("transform","translate("+J.range()[0]+",0)"),c.select(".nv-y2.nv-axis").classed("nv-disabled",!o.length).attr("transform","translate("+J.range()[1]+",0)"),ft.dispatch.on("stateChange",function(t){gt.update()}),U&&(K.width(e).height(r).margin({left:V.left,top:V.top}).svgContainer(t).xScale(J),a.select(".nv-interactive").call(K)),U?(K.dispatch.on("elementMousemove",function(a){P();var s,l,u,c=[];n.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){var n=J.domain(),r=t.values.filter(function(t,e){return gt.x()(t,e)>=n[0]&&gt.x()(t,e)<=n[1]}),i=r[l=vt.interactiveBisect(r,a.pointXValue,gt.x())],o=gt.y()(i,l);null===o||isNaN(o)||t.noHighlightSeries||function(r,t,e,n){var i={line:{yAxis1:{chart:et,data:d},yAxis2:{chart:nt,data:f}},scatter:{yAxis1:{chart:rt,data:p},yAxis2:{chart:it,data:h}},bar:{yAxis1:{chart:ot,data:g},yAxis2:{chart:at,data:v}},area:{yAxis1:{chart:st,data:m},yAxis2:{chart:lt,data:y}}},o=i[r.type]["yAxis"+r.yAxis].chart,a=i[r.type]["yAxis"+r.yAxis].data.reduce(function(t,e,n){return e.key===r.key?n:t},0);try{o.highlightPoint(a,t,e,n)}catch(t){}}(t,l,!0),void 0!==i&&(void 0===s&&(s=i),void 0===u&&(u=J(gt.x()(i,l))),c.push({key:t.key,value:o,color:G(t,t.seriesIndex),data:i,yAxis:2==t.yAxis?dt:ct}))});K.tooltip.headerFormatter(function(t,e){return ut.tickFormat()(t,e)}).valueFormatter(K.tooltip.valueFormatter()||function(t,e){var n=c[e].yAxis;return null==t?"N/A":n.tickFormat()(t)}).data({value:gt.x()(s,l),index:l,series:c})(),K.renderGuideLine(u)}),K.dispatch.on("elementMouseout",function(t){P()})):(et.dispatch.on("elementMouseover.tooltip",_),nt.dispatch.on("elementMouseover.tooltip",_),et.dispatch.on("elementMouseout.tooltip",function(t){pt.hidden(!0)}),nt.dispatch.on("elementMouseout.tooltip",function(t){pt.hidden(!0)}),rt.dispatch.on("elementMouseover.tooltip",T),it.dispatch.on("elementMouseover.tooltip",T),rt.dispatch.on("elementMouseout.tooltip",function(t){pt.hidden(!0)}),it.dispatch.on("elementMouseout.tooltip",function(t){pt.hidden(!0)}),st.dispatch.on("elementMouseover.tooltip",L),lt.dispatch.on("elementMouseover.tooltip",L),st.dispatch.on("elementMouseout.tooltip",function(t){pt.hidden(!0)}),lt.dispatch.on("elementMouseout.tooltip",function(t){pt.hidden(!0)}),ot.dispatch.on("elementMouseover.tooltip",B),at.dispatch.on("elementMouseover.tooltip",B),ot.dispatch.on("elementMouseout.tooltip",function(t){pt.hidden(!0)}),at.dispatch.on("elementMouseout.tooltip",function(t){pt.hidden(!0)}),ot.dispatch.on("elementMousemove.tooltip",function(t){pt()}),at.dispatch.on("elementMousemove.tooltip",function(t){pt()}))}),gt}return gt.dispatch=t,gt.legend=ft,gt.lines1=et,gt.lines2=nt,gt.scatters1=rt,gt.scatters2=it,gt.bars1=ot,gt.bars2=at,gt.stack1=st,gt.stack2=lt,gt.xAxis=ut,gt.yAxis1=ct,gt.yAxis2=dt,gt.tooltip=pt,gt.interactiveLayer=K,gt.options=vt.utils.optionsFunc.bind(gt),gt._options=Object.create({},{width:{get:function(){return H},set:function(t){H=t}},height:{get:function(){return Y},set:function(t){Y=t}},showLegend:{get:function(){return R},set:function(t){R=t}},xScale:{get:function(){return J},set:function(t){J=t,ut.scale(J)}},yDomain1:{get:function(){return I},set:function(t){I=t}},yDomain2:{get:function(){return z},set:function(t){z=t}},noData:{get:function(){return e},set:function(t){e=t}},interpolate:{get:function(){return Z},set:function(t){Z=t}},legendRightAxisHint:{get:function(){return Q},set:function(t){Q=t}},margin:{get:function(){return V},set:function(t){void 0!==t.top&&(V.top=t.top,j=t.top),V.right=void 0!==t.right?t.right:V.right,V.bottom=void 0!==t.bottom?t.bottom:V.bottom,V.left=void 0!==t.left?t.left:V.left}},color:{get:function(){return G},set:function(t){G=vt.utils.getColor(t)}},x:{get:function(){return X},set:function(t){X=t,et.x(t),nt.x(t),rt.x(t),it.x(t),ot.x(t),at.x(t),st.x(t),lt.x(t)}},y:{get:function(){return q},set:function(t){q=t,et.y(t),nt.y(t),rt.y(t),it.y(t),st.y(t),lt.y(t),ot.y(t),at.y(t)}},useVoronoi:{get:function(){return n},set:function(t){n=t,et.useVoronoi(t),nt.useVoronoi(t),st.useVoronoi(t),lt.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return U},set:function(t){(U=t)&&(et.interactive(!1),et.useVoronoi(!1),nt.interactive(!1),nt.useVoronoi(!1),st.interactive(!1),st.useVoronoi(!1),lt.interactive(!1),lt.useVoronoi(!1),rt.interactive(!1),it.interactive(!1))}},duration:{get:function(){return r},set:function(t){r=t,[et,nt,st,lt,rt,it,ut,ct,dt].forEach(function(t){t.duration(r)})}}}),vt.utils.initOptions(gt),gt},vt.models.ohlcBar=function(){"use strict";var c,d,f,p,h={top:0,right:0,bottom:0,left:0},g=null,v=null,m=Math.floor(1e4*Math.random()),y=null,x=d3.scale.linear(),b=d3.scale.linear(),k=function(t){return t.x},w=function(t){return t.y},M=function(t){return t.open},A=function(t){return t.close},C=function(t){return t.high},S=function(t){return t.low},W=[],F=[],E=!1,O=!0,D=vt.utils.defaultColor(),e=!1,N=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function n(t){return t.each(function(r){y=d3.select(this);var i=vt.utils.availableWidth(g,y,h),t=vt.utils.availableHeight(v,y,h);vt.utils.initSVG(y);var n=i/r[0].values.length*.9;x.domain(c||d3.extent(r[0].values.map(k).concat(W))),E?x.range(f||[.5*i/r[0].values.length,i*(r[0].values.length-.5)/r[0].values.length]):x.range(f||[5+n/2,i-n/2-5]),b.domain(d||[d3.min(r[0].values.map(S).concat(F)),d3.max(r[0].values.map(C).concat(F))]).range(p||[t,0]),x.domain()[0]===x.domain()[1]&&(x.domain()[0]?x.domain([x.domain()[0]-.01*x.domain()[0],x.domain()[1]+.01*x.domain()[1]]):x.domain([-1,1])),b.domain()[0]===b.domain()[1]&&(b.domain()[0]?b.domain([b.domain()[0]+.01*b.domain()[0],b.domain()[1]-.01*b.domain()[1]]):b.domain([-1,1]));var e=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([r[0].values]),o=e.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),a=o.append("defs"),s=o.append("g"),l=e.select("g");s.append("g").attr("class","nv-ticks"),e.attr("transform","translate("+h.left+","+h.top+")"),y.on("click",function(t,e){N.chartClick({data:t,index:e,pos:d3.event,id:m})}),a.append("clipPath").attr("id","nv-chart-clip-path-"+m).append("rect"),e.select("#nv-chart-clip-path-"+m+" rect").attr("width",i).attr("height",t),l.attr("clip-path",O?"url(#nv-chart-clip-path-"+m+")":"");var u=e.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});u.exit().remove(),u.enter().append("path").attr("class",function(t,e,n){return(M(t,e)>A(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(b(M(t,e))-b(C(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(b(S(t,e))-b(M(t,e)))+"l0,"+(b(A(t,e))-b(S(t,e)))+"l"+n/2+",0l"+-n/2+",0z"}).attr("transform",function(t,e){return"translate("+x(k(t,e))+","+b(C(t,e))+")"}).attr("fill",function(t,e){return D[0]}).attr("stroke",function(t,e){return D[0]}).attr("x",0).attr("y",function(t,e){return b(Math.max(0,w(t,e)))}).attr("height",function(t,e){return Math.abs(b(w(t,e))-b(0))}),u.attr("class",function(t,e,n){return(M(t,e)>A(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(u).attr("transform",function(t,e){return"translate("+x(k(t,e))+","+b(C(t,e))+")"}).attr("d",function(t,e){var n=i/r[0].values.length*.9;return"m0,0l0,"+(b(M(t,e))-b(C(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(b(S(t,e))-b(M(t,e)))+"l0,"+(b(A(t,e))-b(S(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),n}return n.highlightPoint=function(t,e){n.clearHighlights(),y.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},n.clearHighlights=function(){y.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},n.dispatch=N,n.options=vt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return x},set:function(t){x=t}},yScale:{get:function(){return b},set:function(t){b=t}},xDomain:{get:function(){return c},set:function(t){c=t}},yDomain:{get:function(){return d},set:function(t){d=t}},xRange:{get:function(){return f},set:function(t){f=t}},yRange:{get:function(){return p},set:function(t){p=t}},forceX:{get:function(){return W},set:function(t){W=t}},forceY:{get:function(){return F},set:function(t){F=t}},padData:{get:function(){return E},set:function(t){E=t}},clipEdge:{get:function(){return O},set:function(t){O=t}},id:{get:function(){return m},set:function(t){m=t}},interactive:{get:function(){return e},set:function(t){e=t}},x:{get:function(){return k},set:function(t){k=t}},y:{get:function(){return w},set:function(t){w=t}},open:{get:function(){return M()},set:function(t){M=t}},close:{get:function(){return A()},set:function(t){A=t}},high:{get:function(){return C},set:function(t){C=t}},low:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return h},set:function(t){h.top=null!=t.top?t.top:h.top,h.right=null!=t.right?t.right:h.right,h.bottom=null!=t.bottom?t.bottom:h.bottom,h.left=null!=t.left?t.left:h.left}},color:{get:function(){return D},set:function(t){D=vt.utils.getColor(t)}}}),vt.utils.initOptions(n),n},vt.models.parallelCoordinates=function(){"use strict";var S,W,F,E={top:30,right:0,bottom:10,left:0},O=null,D=null,N=null,_=null,T=d3.scale.ordinal(),L={},B="undefined values",P=[],I=[],z=[],V=!0,j=vt.utils.defaultColor(),G=[],H=[],Y=[],R=[],X=1,q=d3.svg.line(),Z=d3.svg.axis(),K=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),e=vt.utils.renderWatch(K);function n(t){return e.reset(),t.each(function(t){var r,e=d3.select(this);N=vt.utils.availableWidth(O,e,E),_=vt.utils.availableHeight(D,e,E),vt.utils.initSVG(e),void 0===t[0].values&&(r=[],t.forEach(function(e){var n={};Object.keys(e).forEach(function(t){"name"!==t&&(n[t]=e[t])}),r.push({key:e.name,values:n})}),t=r);var a=t.map(function(t){return t.values});0===H.length&&(H=t),z=P.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),I=P.filter(function(t){return!t.disabled}),T.rangePoints([0,N],1).domain(I.map(function(t){return t.key}));var s={},l=!1,i=[];z.forEach(function(e){var t=d3.extent(a,function(t){return+t[e]}),n=t[0],r=t[1],i=!1;(isNaN(n)||isNaN(r))&&(i=!0,r=n=0),n===r&&(--n,r+=1);var o=G.filter(function(t){return t.dimension==e});0!==o.length&&(i?(n=L[e].domain()[0],r=L[e].domain()[1]):!o[0].hasOnlyNaN&&V?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,s[e]=L[e].domain()[1],l=!0)),L[e]=d3.scale.linear().domain([n,r]).range([.9*(_-12),0]),R=[],L[e].brush=d3.svg.brush().y(L[e]).on("brushstart",k).on("brush",w).on("brushend",M)});var n=e.selectAll("g.nv-wrap.nv-parallelCoordinates").data([t]),o=n.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),u=n.select("g");o.append("g").attr("class","nv-parallelCoordinates background"),o.append("g").attr("class","nv-parallelCoordinates foreground"),o.append("g").attr("class","nv-parallelCoordinates missingValuesline"),n.attr("transform","translate("+E.left+","+E.top+")"),q.interpolate("cardinal").tension(X),Z.orient("left");var c,d,f,p=d3.behavior.drag().on("dragstart",function(t){Y[t.key]=this.parentNode.__origin__=T(t.key),W.attr("visibility","hidden")}).on("drag",function(t){Y[t.key]=Math.min(N,Math.max(0,this.parentNode.__origin__+=d3.event.x)),S.attr("d",x),I.sort(function(t,e){return C(t.key)-C(e.key)}),I.forEach(function(t,e){return t.currentPosition=e}),T.domain(I.map(function(t){return t.key})),F.attr("transform",function(t){return"translate("+C(t.key)+")"})}).on("dragend",function(t,e){delete this.parentNode.__origin__,delete Y[t.key],d3.select(this.parentNode).attr("transform","translate("+T(t.key)+")"),S.attr("d",x),W.attr("d",x).attr("visibility",null),K.dimensionsOrder(I)}),h=T.range()[1]-T.range()[0],h=isNaN(h)?T.range()[0]:h;isNaN(h)||(d=[0+h/2,_-12,N-h/2,_-12],(f=n.select(".missingValuesline").selectAll("line").data([d])).enter().append("line"),f.exit().remove(),f.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(c=n.select(".missingValuesline").selectAll("text").data([B])).append("text").data([B]),c.enter().append("text"),c.exit().remove(),c.attr("y",_).attr("x",N-92-h/2).text(function(t){return t})),(W=n.select(".background").selectAll("path").data(t)).enter().append("path"),W.exit().remove(),W.attr("d",x),(S=n.select(".foreground").selectAll("path").data(t)).enter().append("path"),S.exit().remove(),S.attr("d",x).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||j(t,e)}),S.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),K.elementMouseover({label:t.name,color:t.color||j(t,e),values:t.values,dimensions:I})}),S.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),K.elementMouseout({label:t.name,index:e})}),S.on("mousemove",function(t,e){K.elementMousemove()}),S.on("click",function(t){K.elementClick({id:t.id})});var g=(F=u.selectAll(".dimension").data(I)).enter().append("g").attr("class","nv-parallelCoordinates dimension");F.attr("transform",function(t){return"translate("+T(t.key)+",0)"}),g.append("g").attr("class","nv-axis"),g.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){K.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){K.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){K.elementMousemove()}).call(p),g.append("g").attr("class","nv-brushBackground"),F.exit().remove(),F.select(".nv-label").text(function(t){return t.key}),b(V);var v=z.filter(function(t){return!L[t].brush.empty()}),m=v.map(function(t){return L[t].brush.extent()}),y=H.slice(0);function x(o){return q(I.map(function(t){if(isNaN(o.values[t.key])||isNaN(parseFloat(o.values[t.key]))||l){var e,n=L[t.key].domain(),r=L[t.key].range(),i=n[0]-(n[1]-n[0])/9;if(R.indexOf(t.key)<0&&(e=d3.scale.linear().domain([i,n[1]]).range([_-12,r[1]]),L[t.key].brush.y(e),R.push(t.key)),isNaN(o.values[t.key])||isNaN(parseFloat(o.values[t.key])))return[T(t.key),L[t.key](i)]}return void 0!==f&&(0<R.length||l?(f.style("display","inline"),c.style("display","inline")):(f.style("display","none"),c.style("display","none"))),[T(t.key),L[t.key](o.values[t.key])]}))}function b(n){G.forEach(function(t){var e=L[t.dimension].brush.y().domain();t.hasOnlyNaN&&(t.extent[1]=(L[t.dimension].domain()[1]-e[0])*(t.extent[1]-t.extent[0])/(s[t.dimension]-t.extent[0])+e[0]),t.hasNaN&&(t.extent[0]=e[0]),n&&L[t.dimension].brush.extent(t.extent)}),F.select(".nv-brushBackground").each(function(t){d3.select(this).call(L[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),A()}function k(){!1===V&&b(V=!0)}function w(){v=z.filter(function(t){return!L[t].brush.empty()}),m=v.map(function(t){return L[t].brush.extent()}),G=[],v.forEach(function(t,e){G[e]={dimension:t,extent:m[e],hasNaN:!1,hasOnlyNaN:!1}}),H=[],S.style("display",function(n){var t=v.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||m[e][0]!=L[t].brush.y().domain()[0])||m[e][0]<=n.values[t]&&n.values[t]<=m[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&H.push(n),t?null:"none"}),A(),K.brush({filters:G,active:H})}function M(){var t=0<v.length;G.forEach(function(t){t.extent[0]===L[t.dimension].brush.y().domain()[0]&&0<=R.indexOf(t.dimension)&&(t.hasNaN=!0),t.extent[1]<L[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),K.brushEnd(H,t)}function A(){F.select(".nv-axis").each(function(e,t){var n=G.filter(function(t){return t.dimension==e.key});i[e.key]=L[e.key].domain(),0!=n.length&&V&&(i[e.key]=[],n[0].extent[1]>L[e.key].domain()[0]&&(i[e.key]=[n[0].extent[1]]),n[0].extent[0]>=L[e.key].domain()[0]&&i[e.key].push(n[0].extent[0])),d3.select(this).call(Z.scale(L[e.key]).tickFormat(e.format).tickValues(i[e.key]))})}function C(t){var e=Y[t];return null==e?T(t):e}H=[],S.style("display",function(n){var t=v.every(function(t,e){return!(!isNaN(n.values[t])&&!isNaN(parseFloat(n.values[t]))||m[e][0]!=L[t].brush.y().domain()[0])||m[e][0]<=n.values[t]&&n.values[t]<=m[e][1]&&!isNaN(parseFloat(n.values[t]))});return t&&H.push(n),t?null:"none"}),(0<G.length||!vt.utils.arrayEquals(H,y))&&K.activeChanged(H)}),n}return n.dispatch=K,n.options=vt.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return O},set:function(t){O=t}},height:{get:function(){return D},set:function(t){D=t}},dimensionData:{get:function(){return P},set:function(t){P=t}},displayBrush:{get:function(){return V},set:function(t){V=t}},filters:{get:function(){return G},set:function(t){G=t}},active:{get:function(){return H},set:function(t){H=t}},lineTension:{get:function(){return X},set:function(t){X=t}},undefinedValuesLabel:{get:function(){return B},set:function(t){B=t}},dimensions:{get:function(){return P.map(function(t){return t.key})},set:function(t){vt.deprecated("dimensions","use dimensionData instead"),0===P.length?t.forEach(function(t){P.push({key:t})}):t.forEach(function(t,e){P[e].key=t})}},dimensionNames:{get:function(){return P.map(function(t){return t.key})},set:function(t){vt.deprecated("dimensionNames","use dimensionData instead"),z=[],0===P.length?t.forEach(function(t){P.push({key:t})}):t.forEach(function(t,e){P[e].key=t})}},dimensionFormats:{get:function(){return P.map(function(t){return t.format})},set:function(t){vt.deprecated("dimensionFormats","use dimensionData instead"),0===P.length?t.forEach(function(t){P.push({format:t})}):t.forEach(function(t,e){P[e].format=t})}},margin:{get:function(){return E},set:function(t){E.top=void 0!==t.top?t.top:E.top,E.right=void 0!==t.right?t.right:E.right,E.bottom=void 0!==t.bottom?t.bottom:E.bottom,E.left=void 0!==t.left?t.left:E.left}},color:{get:function(){return j},set:function(t){j=vt.utils.getColor(t)}}}),vt.utils.initOptions(n),n},vt.models.parallelCoordinatesChart=function(){"use strict";var l=vt.models.parallelCoordinates(),u=vt.models.legend(),e=vt.models.tooltip(),c=(vt.models.tooltip(),{top:0,right:0,bottom:0,left:0}),d=null,f=null,p=null,h=!0,n=vt.utils.defaultColor(),g=vt.utils.state(),v=[],m=!0,y=null,r=null,o="undefined",x=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),i=vt.utils.renderWatch(x),b=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},k=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function w(t){return i.reset(),i.models(l),t.each(function(t){var e=d3.select(this);vt.utils.initSVG(e);var n,r=vt.utils.availableWidth(f,e,c),i=vt.utils.availableHeight(p,e,c);if(w.update=function(){e.call(w)},w.container=this,g.setter(k(v),w.update).getter(b(v)).update(),g.disabled=v.map(function(t){return!!t.disabled}),(v=v.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!y)for(n in y={},g)g[n]instanceof Array?y[n]=g[n].slice(0):y[n]=g[n];if(!t||!t.length)return vt.utils.noData(w,e),w;e.selectAll(".nv-noData").remove();var o=e.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([t]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),s=o.select("g");a.append("g").attr("class","nv-parallelCoordinatesWrap"),a.append("g").attr("class","nv-legendWrap"),s.select("rect").attr("width",r).attr("height",0<i?i:0),h?(u.width(r).color(function(t){return"rgb(188,190,192)"}),s.select(".nv-legendWrap").datum(v.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(u),d||u.height()===c.top||(c.top=u.height(),i=vt.utils.availableHeight(p,e,c)),o.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-c.top+")")):s.select(".nv-legendWrap").selectAll("*").remove(),o.attr("transform","translate("+c.left+","+c.top+")"),l.width(r).height(i).dimensionData(v).displayBrush(m),s.select(".nv-parallelCoordinatesWrap ").datum(t).transition().call(l),l.dispatch.on("brushEnd",function(t,e){e?(m=!0,x.brushEnd(t)):m=!1}),u.dispatch.on("stateChange",function(t){for(var e in t)g[e]=t[e];x.stateChange(g),w.update()}),l.dispatch.on("dimensionsOrder",function(t){v.sort(function(t,e){return t.currentPosition-e.currentPosition});var n=!1;v.forEach(function(t,e){t.currentPosition=e,t.currentPosition!==t.originalPosition&&(n=!0)}),x.dimensionsOrder(v,n)}),x.on("changeState",function(n){void 0!==n.disabled&&(v.forEach(function(t,e){t.disabled=n.disabled[e]}),g.disabled=n.disabled),w.update()})}),i.renderEnd("parraleleCoordinateChart immediate"),w}return e.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),l.dispatch.on("elementMouseover.tooltip",function(r){var i={key:r.label,color:r.color,series:[]};r.values&&(Object.keys(r.values).forEach(function(e){var t,n=r.dimensions.filter(function(t){return t.key===e})[0];n&&(t=isNaN(r.values[e])||isNaN(parseFloat(r.values[e]))?o:n.format(r.values[e]),i.series.push({idx:n.currentPosition,key:e,value:t,color:n.color}))}),i.series.sort(function(t,e){return t.idx-e.idx})),e.data(i).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),l.dispatch.on("elementMousemove.tooltip",function(){e()}),w.dispatch=x,w.parallelCoordinates=l,w.legend=u,w.tooltip=e,w.options=vt.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return h},set:function(t){h=t}},defaultState:{get:function(){return y},set:function(t){y=t}},dimensionData:{get:function(){return v},set:function(t){v=t}},displayBrush:{get:function(){return m},set:function(t){m=t}},noData:{get:function(){return r},set:function(t){r=t}},nanValue:{get:function(){return o},set:function(t){o=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,d=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return n},set:function(t){n=vt.utils.getColor(t),u.color(n),l.color(n)}}}),vt.utils.inheritOptions(w,l),vt.utils.initOptions(w),w},vt.models.pie=function(){"use strict";var M={top:0,right:0,bottom:0,left:0},A=500,C=500,S=function(t){return t.x},W=function(t){return t.y},F=Math.floor(1e4*Math.random()),E=null,O=vt.utils.defaultColor(),D=d3.format(",.2f"),N=!0,_=!1,T="key",L=.02,B=!1,P=!1,I=!1,z=!0,V=0,j=!1,G=!1,H=!1,Y=!1,R=0,X=.5,q=250,Z=[],K=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),U=[],Q=[],J=vt.utils.renderWatch(K);function e(t){return J.reset(),t.each(function(t){var e=A-M.left-M.right,n=C-M.top-M.bottom,a=Math.min(e,n)/2,s=[],r=[];if(E=d3.select(this),0===Z.length)for(var i=a-a/10,o=X*a,l=0;l<t[0].length;l++)s.push(i),r.push(o);else X=z?(s=Z.map(function(t){return(t.outer-t.outer/10)*a}),r=Z.map(function(t){return(t.inner-t.inner/10)*a}),d3.min(Z.map(function(t){return t.inner-t.inner/10}))):(s=Z.map(function(t){return t.outer*a}),r=Z.map(function(t){return t.inner*a}),d3.min(Z.map(function(t){return t.inner})));vt.utils.initSVG(E);var u=E.selectAll(".nv-wrap.nv-pie").data(t),c=u.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+F).append("g"),d=u.select("g"),f=c.append("g").attr("class","nv-pie");c.append("g").attr("class","nv-pieLabels"),u.attr("transform","translate("+M.left+","+M.top+")"),d.select(".nv-pie").attr("transform","translate("+e/2+","+n/2+")"),d.select(".nv-pieLabels").attr("transform","translate("+e/2+","+n/2+")"),E.on("click",function(t,e){K.chartClick({data:t,index:e,pos:d3.event,id:F})}),U=[],Q=[];for(l=0;l<t[0].length;l++){var p=d3.svg.arc().outerRadius(s[l]),h=d3.svg.arc().outerRadius(s[l]+5);!1!==G&&(p.startAngle(G),h.startAngle(G)),!1!==Y&&(p.endAngle(Y),h.endAngle(Y)),P&&(p.innerRadius(r[l]),h.innerRadius(r[l])),p.cornerRadius&&R&&(p.cornerRadius(R),h.cornerRadius(R)),U.push(p),Q.push(h)}var g=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:W(t)});g.padAngle&&H&&g.padAngle(H),P&&I&&(f.append("text").attr("class","nv-pie-title"),u.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return I}).style("font-size",Math.min(e,n)*X*2/(I.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+V+")"}));var v=u.select(".nv-pie").selectAll(".nv-slice").data(g),m=u.select(".nv-pieLabels").selectAll(".nv-label").data(g);v.exit().remove(),m.exit().remove();var y=v.enter().append("g");y.attr("class","nv-slice"),y.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),z&&d3.select(this).select("path").transition().duration(70).attr("d",Q[e]),K.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),y.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),z&&d3.select(this).select("path").transition().duration(50).attr("d",U[e]),K.elementMouseout({data:t.data,index:e})}),y.on("mousemove",function(t,e){K.elementMousemove({data:t.data,index:e})}),y.on("click",function(t,e){K.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),y.on("dblclick",function(t,e){K.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),v.attr("fill",function(t,e){return O(t.data,e)}),v.attr("stroke",function(t,e){return O(t.data,e)});y.append("path").each(function(t){this._current=t});if(v.select("path").transition().duration(q).attr("d",function(t,e){return U[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,P||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return U[e](n(t))}}),N){for(var x=[],l=0;l<t[0].length;l++)x.push(U[l]),_?P&&(x[l]=d3.svg.arc().outerRadius(U[l].outerRadius()),!1!==G&&x[l].startAngle(G),!1!==Y&&x[l].endAngle(Y)):P||x[l].innerRadius(0);m.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(j){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+x[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=10+a,t.innerRadius=15+a,"translate("+x[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",j?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var b={},k=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},w=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};m.watchTransition(J,"pie labels").attr("transform",function(t,e){if(j){t.outerRadius=s[e]+10,t.innerRadius=s[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+x[e].centroid(t)+") rotate("+n+")"}t.outerRadius=10+a,t.innerRadius=15+a;var r,i=x[e].centroid(t),o=w(t);return t.value&&L<=o&&(r=k(i),b[r]&&(i[1]-=14),b[k(i)]=!0),"translate("+i+")"}),m.select(".nv-label text").style("text-anchor",function(t,e){return j?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=w(t),r="";if(!t.value||n<L)return"";if("function"==typeof T)r=T(t,e,{key:S(t.data),value:W(t.data),percent:D(n)});else switch(T){case"key":r=S(t.data);break;case"value":r=D(W(t.data));break;case"percent":r=d3.format("%")(n)}return r}),B&&m.each(function(t,e){var n,r,i,o,a,s;this.getBBox&&(n=this.getBBox(),o={x:(i={x:(r=x[e].centroid(t))[0]+n.x,y:r[1]+n.y}).x+n.width,y:i.y},a={x:i.x,y:i.y+n.height},s={x:i.x+n.width,y:i.y+n.height},t.visible=vt.utils.pointIsInArc(i,t,p)&&vt.utils.pointIsInArc(o,t,p)&&vt.utils.pointIsInArc(a,t,p)&&vt.utils.pointIsInArc(s,t,p))}).style("display",function(t){return t.visible?null:"none"})}}),J.renderEnd("pie immediate"),e}return e.dispatch=K,e.options=vt.utils.optionsFunc.bind(e),e._options=Object.create({},{arcsRadius:{get:function(){return Z},set:function(t){Z=t}},width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return C},set:function(t){C=t}},showLabels:{get:function(){return N},set:function(t){N=t}},title:{get:function(){return I},set:function(t){I=t}},titleOffset:{get:function(){return V},set:function(t){V=t}},labelThreshold:{get:function(){return L},set:function(t){L=t}},hideOverlapLabels:{get:function(){return B},set:function(t){B=t}},valueFormat:{get:function(){return D},set:function(t){D=t}},x:{get:function(){return S},set:function(t){S=t}},id:{get:function(){return F},set:function(t){F=t}},endAngle:{get:function(){return Y},set:function(t){Y=t}},startAngle:{get:function(){return G},set:function(t){G=t}},padAngle:{get:function(){return H},set:function(t){H=t}},cornerRadius:{get:function(){return R},set:function(t){R=t}},donutRatio:{get:function(){return X},set:function(t){X=t}},labelsOutside:{get:function(){return _},set:function(t){_=t}},labelSunbeamLayout:{get:function(){return j},set:function(t){j=t}},donut:{get:function(){return P},set:function(t){P=t}},growOnHover:{get:function(){return z},set:function(t){z=t}},pieLabelsOutside:{get:function(){return _},set:function(t){_=t,vt.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return _},set:function(t){_=t,vt.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return D},set:function(t){D=t,vt.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},duration:{get:function(){return q},set:function(t){q=t,J.reset(q)}},y:{get:function(){return W},set:function(t){W=d3.functor(t)}},color:{get:function(){return O},set:function(t){O=vt.utils.getColor(t)}},labelType:{get:function(){return T},set:function(t){T=t||"key"}}}),vt.utils.initOptions(e),e},vt.models.pieChart=function(){"use strict";var c=vt.models.pie(),d=vt.models.legend(),e=vt.models.tooltip(),f={top:30,right:20,bottom:20,left:20},p=null,h=null,g=null,n=!1,v=!0,m="top",r=vt.utils.defaultColor(),y=vt.utils.state(),x=null,i=null,o=250,b=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return c.valueFormat()(t,e)});var a=vt.utils.renderWatch(b),k=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},w=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function M(t){return a.reset(),a.models(c),t.each(function(t){var e=d3.select(this);vt.utils.initSVG(e);var n,r=vt.utils.availableWidth(h,e,f),i=vt.utils.availableHeight(g,e,f);if(M.update=function(){e.transition().call(M)},M.container=this,y.setter(w(t),M.update).getter(k(t)).update(),y.disabled=t.map(function(t){return!!t.disabled}),!x)for(n in x={},y)y[n]instanceof Array?x[n]=y[n].slice(0):x[n]=y[n];if(!t||!t.length)return vt.utils.noData(M,e),M;e.selectAll(".nv-noData").remove();var o,a=e.selectAll("g.nv-wrap.nv-pieChart").data([t]),s=a.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),l=a.select("g");s.append("g").attr("class","nv-pieWrap"),s.append("g").attr("class","nv-legendWrap"),v?"top"===m?(d.width(r).key(c.x()),a.select(".nv-legendWrap").datum(t).call(d),p||d.height()===f.top||(f.top=d.height(),i=vt.utils.availableHeight(g,e,f)),a.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")):"right"===m?(r/2<(o=vt.models.legend().width())&&(o=r/2),d.height(i).key(c.x()),d.width(o),r-=d.width(),a.select(".nv-legendWrap").datum(t).call(d).attr("transform","translate("+r+",0)")):"bottom"===m&&(d.width(r).key(c.x()),a.select(".nv-legendWrap").datum(t).call(d),f.bottom=d.height(),i=vt.utils.availableHeight(g,e,f),a.select(".nv-legendWrap").attr("transform","translate(0,"+i+")")):l.select(".nv-legendWrap").selectAll("*").remove(),a.attr("transform","translate("+f.left+","+f.top+")"),c.width(r).height(i);var u=l.select(".nv-pieWrap").datum([t]);d3.transition(u).call(c),d.dispatch.on("stateChange",function(t){for(var e in t)y[e]=t[e];b.stateChange(y),M.update()}),b.on("changeState",function(n){void 0!==n.disabled&&(t.forEach(function(t,e){t.disabled=n.disabled[e]}),y.disabled=n.disabled),M.update()})}),a.renderEnd("pieChart immediate"),M}return c.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:M.x()(t.data),value:M.y()(t.data),color:t.color,percent:t.percent},n||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(t){e()}),M.legend=d,M.dispatch=b,M.pie=c,M.tooltip=e,M.options=vt.utils.optionsFunc.bind(M),M._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return i},set:function(t){i=t}},showTooltipPercent:{get:function(){return n},set:function(t){n=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return x},set:function(t){x=t}},color:{get:function(){return r},set:function(t){r=t,d.color(r),c.color(r)}},duration:{get:function(){return o},set:function(t){o=t,a.reset(o),c.duration(o)}},margin:{get:function(){return f},set:function(t){void 0!==t.top&&(f.top=t.top,p=t.top),f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}}}),vt.utils.inheritOptions(M,c),vt.utils.initOptions(M),M},vt.models.sankey=function(){"use strict";function e(t){i.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),o.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=i[t.source]),"number"==typeof n&&(n=t.target=i[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)}),i.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,d),d3.sum(t.targetLinks,d))}),function(){var e,t=i,n=0;for(;t.length&&n<i.length;)e=[],t.forEach(function(t){t.x=n,t.dx=r,t.sourceLinks.forEach(function(t){e.indexOf(t.target)<0&&e.push(t.target)})}),t=e,++n;a&&function(e){i.forEach(function(t){t.sourceLinks.length||(t.x=e-1)})}(n);!function(e){i.forEach(function(t){t.x*=e})}((l[0]-r)/(n-1))}(),function(t){var e=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(i).map(function(t){return t.values});(function(){var n=d3.min(e,function(t){return(l[1]-(t.length-1)*s)/d3.sum(t,d)});e.forEach(function(t){t.forEach(function(t,e){t.y=e,t.dy=t.value*n})}),o.forEach(function(t){t.dy=t.value*n})})(),r(),c();for(var n=1;0<t;--t)!function(n){function r(t){return(t.target.y+t.ty+t.dy/2)*t.value}e.slice().reverse().forEach(function(t){t.forEach(function(t){var e;t.sourceLinks.length&&(e=d3.sum(t.sourceLinks,r)/d3.sum(t.sourceLinks,d),t.y+=(e-u(t))*n)})})}(n*=.99),r(),c(),function(n){function r(t){return(t.source.y+t.sy+t.dy/2)*t.value}e.forEach(function(t,e){t.forEach(function(t){var e;t.targetLinks.length&&(e=d3.sum(t.targetLinks,r)/d3.sum(t.targetLinks,d),t.y+=(e-u(t))*n)})})}(n),r(),c();function r(){e.forEach(function(t){var e,n,r,i=0,o=t.length;for(t.sort(a),r=0;r<o;++r)0<(n=i-(e=t[r]).y)&&(e.y+=n),i=e.y+e.dy+s;if(0<(n=i-s-l[1]))for(i=e.y-=n,r=o-2;0<=r;--r)0<(n=(e=t[r]).y+e.dy+s-i)&&(e.y-=n),i=e.y})}function a(t,e){return t.y-e.y}}(t)}var t={},r=24,s=8,l=[1,1],i=[],o=[],a=!0,n=function(){var l=.5;function e(t){var e=t.source.x+t.source.dx,n=t.target.x,r=d3.interpolateNumber(e,n),i=r(l),o=r(1-l),a=t.source.y+t.sy+t.dy/2,s=t.target.y+t.ty+t.dy/2;return"M"+e+","+a+"C"+i+","+a+" "+o+","+s+" "+n+","+s}return e.curvature=function(t){return arguments.length?(l=+t,e):l},e},u=function(t){return t.y+t.dy/2};function c(){function e(t,e){return t.source.y-e.source.y}function n(t,e){return t.target.y-e.target.y}i.forEach(function(t){t.sourceLinks.sort(n),t.targetLinks.sort(e)}),i.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function d(t){return t.value}return t.options=vt.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return r},set:function(t){r=+t}},nodePadding:{get:function(){return s},set:function(t){s=t}},nodes:{get:function(){return i},set:function(t){i=t}},links:{get:function(){return o},set:function(t){o=t}},size:{get:function(){return l},set:function(t){l=t}},sinksRight:{get:function(){return a},set:function(t){a=t}},layout:{get:function(){e(32)},set:function(t){e(t)}},relayout:{get:function(){c()},set:function(t){}},center:{get:function(){return u()},set:function(t){"function"==typeof t&&(u=t)}},link:{get:function(){return n()},set:function(t){return"function"==typeof t&&(n=t),n()}}}),vt.utils.initOptions(t),t},vt.models.sankeyChart=function(){"use strict";var e={top:5,right:0,bottom:5,left:0},u=vt.models.sankey(),c=600,d=400,f=36,p=40,n="units",h=void 0,r=d3.format(",.0f"),i=function(t){return r(t)+" "+n},o=d3.scale.category20(),g=function(t){return t.source.name+" → "+t.target.name+"\n"+i(t.value)},v=function(t){return t.color=o(t.name.replace(/ .*/,""))},m=function(t){return d3.rgb(t.color).darker(2)},y=function(t){return t.name+"\n"+i(t.value)},x=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};function t(l){return l.each(function(t){var e={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},n=!1,r=!1;if(0<=("object"==typeof t.nodes&&t.nodes.length)&&0<=("object"==typeof t.links&&t.links.length)&&(n=!0),t.nodes&&0<t.nodes.length&&t.links&&0<t.links.length&&(r=!0),!n)return console.error("NVD3 Sankey chart error:","invalid data format for",t),console.info("Valid data format is: ",e,JSON.stringify(e)),x(l,"Error loading chart, data is invalid"),!1;if(!r)return x(l,"No data available"),!1;var i=l.append("svg").attr("width",c).attr("height",d).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");u.nodeWidth(f).nodePadding(p).size([c,d]);var o=u.link();u.nodes(t.nodes).links(t.links).layout(32).center(h);var a=i.append("g").selectAll(".link").data(t.links).enter().append("path").attr("class","link").attr("d",o).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});a.append("title").text(g);var s=i.append("g").selectAll(".node").data(t.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.behavior.drag().origin(function(t){return t}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(d-t.dy,d3.event.y)))+")"),u.relayout(),a.attr("d",o)}));s.append("rect").attr("height",function(t){return t.dy}).attr("width",u.nodeWidth()).style("fill",v).style("stroke",m).append("title").text(y),s.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<c/2}).attr("x",6+u.nodeWidth()).attr("text-anchor","start")}),t}return t.options=vt.utils.optionsFunc.bind(t),t._options=Object.create({},{units:{get:function(){return n},set:function(t){n=t}},width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return d},set:function(t){d=t}},format:{get:function(){return i},set:function(t){i=t}},linkTitle:{get:function(){return g},set:function(t){g=t}},nodeWidth:{get:function(){return f},set:function(t){f=t}},nodePadding:{get:function(){return p},set:function(t){p=t}},center:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},nodeStyle:{get:function(){return{}},set:function(t){v=void 0!==t.fillColor?t.fillColor:v,m=void 0!==t.strokeColor?t.strokeColor:m,y=void 0!==t.title?t.title:y}}}),vt.utils.initOptions(t),t},vt.models.scatter=function(){"use strict";var y,x,b,k,w,M,A,C,S={top:0,right:0,bottom:0,left:0},W=null,F=null,E=vt.utils.defaultColor(),O=null,D=Math.floor(1e5*Math.random()),N=null,_=d3.scale.linear(),T=d3.scale.linear(),L=d3.scale.linear(),B=function(t){return t.x},P=function(t){return t.y},I=function(t){return t.size||1},z=function(t){return t.shape||"circle"},V=[],j=[],G=[],H=!0,Y=function(t){return!t.notActive},R=!1,X=.1,q=!1,Z=!0,K=!1,U=function(){return 25},Q=null,J=null,$=null,tt=null,et=null,nt=null,rt=!1,it=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),ot=!0,e=250,at=300,st=!1,lt=!1,ut=vt.utils.renderWatch(it,e),ct=[16,256],l={};function dt(t){var e=t[0].series+":"+t[1];delete l[e]}function ft(t){for(var e,n,r,i,o=(i=(r=t)[0].series+":"+r[1],l[i]=l[i]||{}),a=!1,s=1;s<arguments.length;s+=2)e=arguments[s],n=arguments[s+1](t[0],t[1]),o[e]===n&&o.hasOwnProperty(e)||(o[e]=n,a=!0);return a}function pt(t){return ut.reset(),t.each(function(l){N=d3.select(this);var t=vt.utils.availableWidth(W,N,S),e=vt.utils.availableHeight(F,N,S);vt.utils.initSVG(N),l.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var n,r="function"==typeof pt.yScale().base,i=Q&&J&&et?[]:d3.merge(l.map(function(t){return t.values.map(function(t,e){return{x:B(t,e),y:P(t,e),size:I(t,e)}})}));_.domain(Q||d3.extent(i.map(function(t){return t.x}).concat(V))),R&&l[0]?_.range($||[(t*X+t)/(2*l[0].values.length),t-t*(1+X)/(2*l[0].values.length)]):_.range($||[0,t]),r?(n=d3.min(i.map(function(t){if(0!==t.y)return t.y})),T.clamp(!0).domain(J||d3.extent(i.map(function(t){return 0!==t.y?t.y:.1*n}).concat(j))).range(tt||[e,0])):T.domain(J||d3.extent(i.map(function(t){return t.y}).concat(j))).range(tt||[e,0]),L.domain(et||d3.extent(i.map(function(t){return t.size}).concat(G))).range(nt||ct),rt=_.domain()[0]===_.domain()[1]||T.domain()[0]===T.domain()[1],_.domain()[0]===_.domain()[1]&&(_.domain()[0]?_.domain([_.domain()[0]-.01*_.domain()[0],_.domain()[1]+.01*_.domain()[1]]):_.domain([-1,1])),T.domain()[0]===T.domain()[1]&&(T.domain()[0]?T.domain([T.domain()[0]-.01*T.domain()[0],T.domain()[1]+.01*T.domain()[1]]):T.domain([-1,1])),isNaN(_.domain()[0])&&_.domain([-1,1]),isNaN(T.domain()[0])&&T.domain([-1,1]),y=y||_,x=x||T,b=b||L;var o=_(1)!==y(1)||T(1)!==x(1)||L(1)!==b(1);A=A||F;var a=(M=M||W)!==W||A!==F,s=(k=k||[])[0]!==_.domain()[0]||k[1]!==_.domain()[1];k=_.domain(),w=w||[],s=s||w[0]!==T.domain()[0]||w[1]!==T.domain()[1],w=T.domain();var u=N.selectAll("g.nv-wrap.nv-scatter").data([l]),c=u.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+D),d=c.append("defs"),f=c.append("g"),p=u.select("g");function h(){if(lt=!1,!H)return!1;if(N.selectAll(".nv-point.hover").classed("hover",!1),u.select(".nv-point-paths").selectAll("path").remove(),!0===ot){if(0==(r=d3.merge(l.map(function(t,i){return t.values.map(function(t,e){var n=B(t,e),r=P(t,e);return[vt.utils.NaNtoZero(_(n))+1e-4*Math.random(),vt.utils.NaNtoZero(T(r))+1e-4*Math.random(),i,e,t]}).filter(function(t,e){return Y(t[4],e)})}))).length)return!1;r.length<3&&(r.push([_.range()[0]-20,T.range()[0]-20,null,null]),r.push([_.range()[1]+20,T.range()[1]+20,null,null]),r.push([_.range()[0]-20,T.range()[0]+20,null,null]),r.push([_.range()[1]+20,T.range()[1]-20,null,null]));for(var n=d3.geom.polygon([[-10,-10],[-10,F+10],[W+10,F+10],[W+10,-10]]),r=r.sort(function(t,e){return t[0]-e[0]||t[1]-e[1]}),t=0;t<r.length-1;)Math.abs(r[t][0]-r[t+1][0])<1e-4&&Math.abs(r[t][1]-r[t+1][1])<1e-4?r.splice(t+1,1):t++;var e=d3.geom.voronoi(r).map(function(t,e){return 0===t.length?null:{data:n.clip(t),series:r[e][2],point:r[e][3]}}),i=u.select(".nv-point-paths").selectAll("path").data(e),o=i.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+D+"-"+e+")"});K&&o.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),Z&&(u.select(".nv-point-clips").selectAll("*").remove(),u.select(".nv-point-clips").selectAll("clipPath").data(r).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+D+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",U));var a=function(t,e,n){if(lt)return 0;var r,i,o,a,s=l[e.series];void 0!==s&&((r=s.values[e.point]).color=E(s,e.series),r.x=B(r),r.y=P(r),i=N.node().getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop,a=window.pageXOffset||document.documentElement.scrollLeft,n({point:r,series:s,pos:{left:_(B(r,e.point))+i.left+a+S.left+10,top:T(P(r,e.point))+i.top+o+S.top+10},relativePos:[_(B(r,e.point))+S.left,T(P(r,e.point))+S.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t}))};i.on("click",function(t){a(this,t,it.elementClick)}).on("dblclick",function(t){a(this,t,it.elementDblClick)}).on("mouseover",function(t){a(this,t,it.elementMouseover)}).on("mouseout",function(t,e){a(this,t,it.elementMouseout)})}else u.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(lt||!l[t[0].series])return 0;var n=l[t[0].series],r=n.values[e];it.elementClick({point:r,series:n,pos:[_(B(r,e))+S.left,T(P(r,e))+S.top],relativePos:[_(B(r,e))+S.left,T(P(r,e))+S.top],seriesIndex:t[0].series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(lt||!l[t[0].series])return 0;var n=l[t[0].series],r=n.values[e];it.elementDblClick({point:r,series:n,pos:[_(B(r,e))+S.left,T(P(r,e))+S.top],relativePos:[_(B(r,e))+S.left,T(P(r,e))+S.top],seriesIndex:t[0].series,pointIndex:e})}).on("mouseover",function(t,e){if(lt||!l[t[0].series])return 0;var n=l[t[0].series],r=n.values[e];it.elementMouseover({point:r,series:n,pos:[_(B(r,e))+S.left,T(P(r,e))+S.top],relativePos:[_(B(r,e))+S.left,T(P(r,e))+S.top],seriesIndex:t[0].series,pointIndex:e,color:E(t[0],e)})}).on("mouseout",function(t,e){if(lt||!l[t[0].series])return 0;var n=l[t[0].series],r=n.values[e];it.elementMouseout({point:r,series:n,pos:[_(B(r,e))+S.left,T(P(r,e))+S.top],relativePos:[_(B(r,e))+S.left,T(P(r,e))+S.top],seriesIndex:t[0].series,pointIndex:e,color:E(t[0],e)})})}u.classed("nv-single-point",rt),f.append("g").attr("class","nv-groups"),f.append("g").attr("class","nv-point-paths"),c.append("g").attr("class","nv-point-clips"),u.attr("transform","translate("+S.left+","+S.top+")"),d.append("clipPath").attr("id","nv-edge-clip-"+D).append("rect").attr("transform","translate( -10, -10)"),u.select("#nv-edge-clip-"+D+" rect").attr("width",t+20).attr("height",0<e?e+20:0),p.attr("clip-path",q?"url(#nv-edge-clip-"+D+")":""),lt=!0;var g=u.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});g.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),g.exit().remove(),g.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!H).classed("hover",function(t){return t.hover}),g.watchTransition(ut,"scatter: groups").style("fill",function(t,e){return E(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||O||E(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var v,m=g.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return Y(t[0],e)})});m.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t){return"translate("+vt.utils.NaNtoZero(y(B(t[0],t[1])))+","+vt.utils.NaNtoZero(x(P(t[0],t[1])))+")"}).attr("d",vt.utils.symbol().type(function(t){return z(t[0])}).size(function(t){return L(I(t[0],t[1]))})),m.exit().each(dt).remove(),g.exit().selectAll("path.nv-point").watchTransition(ut,"scatter exit").attr("transform",function(t){return"translate("+vt.utils.NaNtoZero(_(B(t[0],t[1])))+","+vt.utils.NaNtoZero(T(P(t[0],t[1])))+")"}).remove(),m.filter(function(t){return ft(t,"x",B,"y",P)||o||a||s}).watchTransition(ut,"scatter points").attr("transform",function(t){return"translate("+vt.utils.NaNtoZero(_(B(t[0],t[1])))+","+vt.utils.NaNtoZero(T(P(t[0],t[1])))+")"}),m.filter(function(t){return ft(t,"shape",z,"size",I)||o||a||s}).watchTransition(ut,"scatter points").attr("d",vt.utils.symbol().type(function(t){return z(t[0])}).size(function(t){return L(I(t[0],t[1]))})),st&&((v=g.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return Y(t[0],e)})})).enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){return"translate("+(vt.utils.NaNtoZero(y(B(t[0],t[1])))+Math.sqrt(L(I(t[0],t[1]))/Math.PI)+2)+","+vt.utils.NaNtoZero(x(P(t[0],t[1])))+")"}).text(function(t,e){return t[0].label}),v.exit().remove(),g.exit().selectAll("path.nv-label").watchTransition(ut,"scatter exit").attr("transform",function(t){return"translate("+(vt.utils.NaNtoZero(_(B(t[0],t[1])))+Math.sqrt(L(I(t[0],t[1]))/Math.PI)+2)+","+vt.utils.NaNtoZero(T(P(t[0],t[1])))+")"}).remove(),v.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),v.watchTransition(ut,"scatter labels").text(function(t,e){return t[0].label}).attr("transform",function(t){return"translate("+(vt.utils.NaNtoZero(_(B(t[0],t[1])))+Math.sqrt(L(I(t[0],t[1]))/Math.PI)+2)+","+vt.utils.NaNtoZero(T(P(t[0],t[1])))+")"})),at?(clearTimeout(C),C=setTimeout(h,at)):h(),y=_.copy(),x=T.copy(),b=L.copy(),M=W,A=F}),ut.renderEnd("scatter immediate"),pt}return pt.dispatch=it,pt.options=vt.utils.optionsFunc.bind(pt),pt._calls=new function(){this.clearHighlights=function(){return vt.dom.write(function(){N.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){vt.dom.write(function(){N.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},it.on("elementMouseover.point",function(t){H&&pt._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),it.on("elementMouseout.point",function(t){H&&pt._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),pt._options=Object.create({},{width:{get:function(){return W},set:function(t){W=t}},height:{get:function(){return F},set:function(t){F=t}},xScale:{get:function(){return _},set:function(t){_=t}},yScale:{get:function(){return T},set:function(t){T=t}},pointScale:{get:function(){return L},set:function(t){L=t}},xDomain:{get:function(){return Q},set:function(t){Q=t}},yDomain:{get:function(){return J},set:function(t){J=t}},pointDomain:{get:function(){return et},set:function(t){et=t}},xRange:{get:function(){return $},set:function(t){$=t}},yRange:{get:function(){return tt},set:function(t){tt=t}},pointRange:{get:function(){return nt},set:function(t){nt=t}},forceX:{get:function(){return V},set:function(t){V=t}},forceY:{get:function(){return j},set:function(t){j=t}},forcePoint:{get:function(){return G},set:function(t){G=t}},interactive:{get:function(){return H},set:function(t){H=t}},pointActive:{get:function(){return Y},set:function(t){Y=t}},padDataOuter:{get:function(){return X},set:function(t){X=t}},padData:{get:function(){return R},set:function(t){R=t}},clipEdge:{get:function(){return q},set:function(t){q=t}},clipVoronoi:{get:function(){return Z},set:function(t){Z=t}},clipRadius:{get:function(){return U},set:function(t){U=t}},showVoronoi:{get:function(){return K},set:function(t){K=t}},id:{get:function(){return D},set:function(t){D=t}},interactiveUpdateDelay:{get:function(){return at},set:function(t){at=t}},showLabels:{get:function(){return st},set:function(t){st=t}},pointBorderColor:{get:function(){return O},set:function(t){O=t}},x:{get:function(){return B},set:function(t){B=d3.functor(t)}},y:{get:function(){return P},set:function(t){P=d3.functor(t)}},pointSize:{get:function(){return I},set:function(t){I=d3.functor(t)}},pointShape:{get:function(){return z},set:function(t){z=d3.functor(t)}},margin:{get:function(){return S},set:function(t){S.top=void 0!==t.top?t.top:S.top,S.right=void 0!==t.right?t.right:S.right,S.bottom=void 0!==t.bottom?t.bottom:S.bottom,S.left=void 0!==t.left?t.left:S.left}},duration:{get:function(){return e},set:function(t){e=t,ut.reset(e)}},color:{get:function(){return E},set:function(t){E=vt.utils.getColor(t)}},useVoronoi:{get:function(){return ot},set:function(t){!1===(ot=t)&&(Z=!1)}}}),vt.utils.initOptions(pt),pt},vt.models.scatterChart=function(){"use strict";var u=vt.models.scatter(),c=vt.models.axis(),d=vt.models.axis(),f=vt.models.legend(),p=vt.models.distribution(),h=vt.models.distribution(),g=vt.models.tooltip(),v={top:30,right:20,bottom:50,left:75},m=null,y=null,x=null,b=null,k=vt.utils.defaultColor(),w=u.xScale(),M=u.yScale(),A=!1,C=!1,S=!0,W=!0,F=!0,E=!1,O=vt.utils.state(),D=null,N=d3.dispatch("stateChange","changeState","renderEnd"),e=null,_=250,T=!1;u.xScale(w).yScale(M),c.orient("bottom").tickPadding(10),d.orient(E?"right":"left").tickPadding(10),p.axis("x"),h.axis("y"),g.headerFormatter(function(t,e){return c.tickFormat()(t,e)}).valueFormatter(function(t,e){return d.tickFormat()(t,e)});var L=vt.utils.renderWatch(N,_),B=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},P=function(t){return function(n){void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}};function I(t){return L.reset(),L.models(u),W&&L.models(c),F&&L.models(d),A&&L.models(p),C&&L.models(h),t.each(function(r){b=d3.select(this),vt.utils.initSVG(b);var t,e=vt.utils.availableWidth(y,b,v),n=vt.utils.availableHeight(x,b,v);if(I.update=function(){0===_?b.call(I):b.transition().duration(_).call(I)},I.container=this,O.setter(P(r),I.update).getter(B(r)).update(),O.disabled=r.map(function(t){return!!t.disabled}),!D)for(t in D={},O)O[t]instanceof Array?D[t]=O[t].slice(0):D[t]=O[t];if(!(r&&r.length&&r.filter(function(t){return t.values.length}).length))return vt.utils.noData(I,b),L.renderEnd("scatter immediate"),I;b.selectAll(".nv-noData").remove(),w=u.xScale(),M=u.yScale();var i=b.selectAll("g.nv-wrap.nv-scatterChart").data([r]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+u.id()).append("g"),a=i.select("g");o.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),o.append("g").attr("class","nv-x nv-axis"),o.append("g").attr("class","nv-y nv-axis"),o.append("g").attr("class","nv-scatterWrap"),o.append("g").attr("class","nv-regressionLinesWrap"),o.append("g").attr("class","nv-distWrap"),o.append("g").attr("class","nv-legendWrap"),E&&a.select(".nv-y.nv-axis").attr("transform","translate("+e+",0)"),S?(f.width(e),i.select(".nv-legendWrap").datum(r).call(f),m||f.height()===v.top||(v.top=f.height(),n=vt.utils.availableHeight(x,b,v)),i.select(".nv-legendWrap").attr("transform","translate(0,"+-v.top+")")):a.select(".nv-legendWrap").selectAll("*").remove(),i.attr("transform","translate("+v.left+","+v.top+")"),u.width(e).height(n).color(r.map(function(t,e){return t.color=t.color||k(t,e),t.color}).filter(function(t,e){return!r[e].disabled})).showLabels(T),i.select(".nv-scatterWrap").datum(r.filter(function(t){return!t.disabled})).call(u),i.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+u.id()+")");var s=i.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});s.enter().append("g").attr("class","nv-regLines");var l=s.selectAll(".nv-regLine").data(function(t){return[t]});l.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),l.filter(function(t){return t.intercept&&t.slope}).watchTransition(L,"scatterPlusLineChart: regline").attr("x1",w.range()[0]).attr("x2",w.range()[1]).attr("y1",function(t,e){return M(w.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return M(w.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return k(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),W&&(c.scale(w)._ticks(vt.utils.calcTicksX(e/100,r)).tickSize(-n,0),a.select(".nv-x.nv-axis").attr("transform","translate(0,"+M.range()[0]+")").call(c)),F&&(d.scale(M)._ticks(vt.utils.calcTicksY(n/36,r)).tickSize(-e,0),a.select(".nv-y.nv-axis").call(d)),p.getData(u.x()).scale(w).width(e).color(r.map(function(t,e){return t.color||k(t,e)}).filter(function(t,e){return!r[e].disabled})),o.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),a.select(".nv-distributionX").attr("transform","translate(0,"+M.range()[0]+")").datum(r.filter(function(t){return!t.disabled})).call(p).style("opacity",function(){return A?"1":"1e-6"}).watchTransition(L,"scatterPlusLineChart").style("opacity",function(){return A?"1":"1e-6"}),h.getData(u.y()).scale(M).width(n).color(r.map(function(t,e){return t.color||k(t,e)}).filter(function(t,e){return!r[e].disabled})),o.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),a.select(".nv-distributionY").attr("transform","translate("+(E?e:-h.size())+",0)").datum(r.filter(function(t){return!t.disabled})).call(h).style("opacity",function(){return C?"1":"1e-6"}).watchTransition(L,"scatterPlusLineChart").style("opacity",function(){return C?"1":"1e-6"}),f.dispatch.on("stateChange",function(t){for(var e in t)O[e]=t[e];N.stateChange(O),I.update()}),N.on("changeState",function(n){void 0!==n.disabled&&(r.forEach(function(t,e){t.disabled=n.disabled[e]}),O.disabled=n.disabled),I.update()}),u.dispatch.on("elementMouseout.tooltip",function(t){g.hidden(!0),b.select(".nv-chart-"+u.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),b.select(".nv-chart-"+u.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",h.size())}),u.dispatch.on("elementMouseover.tooltip",function(t){b.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-n),b.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+p.size()),g.data(t).hidden(!1)}),w.copy(),M.copy()}),L.renderEnd("scatter with line immediate"),I}return I.dispatch=N,I.scatter=u,I.legend=f,I.xAxis=c,I.yAxis=d,I.distX=p,I.distY=h,I.tooltip=g,I.options=vt.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return y},set:function(t){y=t}},height:{get:function(){return x},set:function(t){x=t}},container:{get:function(){return b},set:function(t){b=t}},showDistX:{get:function(){return A},set:function(t){A=t}},showDistY:{get:function(){return C},set:function(t){C=t}},showLegend:{get:function(){return S},set:function(t){S=t}},showXAxis:{get:function(){return W},set:function(t){W=t}},showYAxis:{get:function(){return F},set:function(t){F=t}},defaultState:{get:function(){return D},set:function(t){D=t}},noData:{get:function(){return e},set:function(t){e=t}},duration:{get:function(){return _},set:function(t){_=t}},showLabels:{get:function(){return T},set:function(t){T=t}},margin:{get:function(){return v},set:function(t){void 0!==t.top&&(v.top=t.top,m=t.top),v.right=void 0!==t.right?t.right:v.right,v.bottom=void 0!==t.bottom?t.bottom:v.bottom,v.left=void 0!==t.left?t.left:v.left}},rightAlignYAxis:{get:function(){return E},set:function(t){E=t,d.orient(t?"right":"left")}},color:{get:function(){return k},set:function(t){k=vt.utils.getColor(t),f.color(k),p.color(k),h.color(k)}}}),vt.utils.inheritOptions(I,u),vt.utils.initOptions(I),I},vt.models.sparkline=function(){"use strict";var a,s,l,u,c={top:2,right:0,bottom:2,left:0},d=400,f=32,p=null,e=!0,h=d3.scale.linear(),g=d3.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},y=vt.utils.getColor(["#000"]),x=!0,b=!0,t=d3.dispatch("renderEnd"),n=vt.utils.renderWatch(t);function r(t){return n.reset(),t.each(function(t){var e=d-c.left-c.right,n=f-c.top-c.bottom;p=d3.select(this),vt.utils.initSVG(p),h.domain(a||d3.extent(t,v)).range(l||[0,e]),g.domain(s||d3.extent(t,m)).range(u||[n,0]);var r=p.selectAll("g.nv-wrap.nv-sparkline").data([t]);r.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),r.select("g");r.attr("transform","translate("+c.left+","+c.top+")");var i=r.selectAll("path").data(function(t){return[t]});i.enter().append("path"),i.exit().remove(),i.style("stroke",function(t,e){return t.color||y(t,e)}).attr("d",d3.svg.line().x(function(t,e){return h(v(t,e))}).y(function(t,e){return g(m(t,e))}));var o=r.selectAll("circle.nv-point").data(function(n){var t=n.map(function(t,e){return m(t,e)});function e(t){if(-1==t)return null;var e=n[t];return e.pointIndex=t,e}var r=e(t.lastIndexOf(g.domain()[1])),i=e(t.indexOf(g.domain()[0])),o=e(t.length-1);return[x?i:null,x?r:null,b?o:null].filter(function(t){return null!=t})});o.enter().append("circle"),o.exit().remove(),o.attr("cx",function(t,e){return h(v(t,t.pointIndex))}).attr("cy",function(t,e){return g(m(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return v(t,t.pointIndex)==h.domain()[1]?"nv-point nv-currentValue":m(t,t.pointIndex)==g.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),n.renderEnd("sparkline immediate"),r}return r.options=vt.utils.optionsFunc.bind(r),r._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return a},set:function(t){a=t}},yDomain:{get:function(){return s},set:function(t){s=t}},xRange:{get:function(){return l},set:function(t){l=t}},yRange:{get:function(){return u},set:function(t){u=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return g},set:function(t){g=t}},animate:{get:function(){return e},set:function(t){e=t}},showMinMaxPoints:{get:function(){return x},set:function(t){x=t}},showCurrentPoint:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return v},set:function(t){v=d3.functor(t)}},y:{get:function(){return m},set:function(t){m=d3.functor(t)}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return y},set:function(t){y=vt.utils.getColor(t)}}}),r.dispatch=t,vt.utils.initOptions(r),r},vt.models.sparklinePlus=function(){"use strict";var d,f,p=vt.models.sparkline(),h={top:15,right:100,bottom:10,left:50},g=null,v=null,m=[],y=!1,x=d3.format(",r"),b=d3.format(",.2f"),k=!0,w=!0,M=!1,e=null,t=d3.dispatch("renderEnd"),n=vt.utils.renderWatch(t);function A(t){return n.reset(),n.models(p),t.each(function(n){var t=d3.select(this);vt.utils.initSVG(t);var e=vt.utils.availableWidth(g,t,h),r=vt.utils.availableHeight(v,t,h);if(A.update=function(){t.call(A)},A.container=this,!n||!n.length)return vt.utils.noData(A,t),A;t.selectAll(".nv-noData").remove();var i=p.y()(n[n.length-1],n.length-1);d=p.xScale(),f=p.yScale();var o=t.selectAll("g.nv-wrap.nv-sparklineplus").data([n]),a=o.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),s=o.select("g");a.append("g").attr("class","nv-sparklineWrap"),a.append("g").attr("class","nv-valueWrap"),a.append("g").attr("class","nv-hoverArea"),o.attr("transform","translate("+h.left+","+h.top+")");var l,u=s.select(".nv-sparklineWrap");function c(){var t,e;y||(e=(t=s.selectAll(".nv-hoverValue").data(m)).enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0),t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+d(p.x()(n[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),m.length&&(e.append("line").attr("x1",0).attr("y1",-h.top).attr("x2",0).attr("y2",r),e.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-h.top).attr("text-anchor","end").attr("dy",".9em"),s.select(".nv-hoverValue .nv-xValue").text(x(p.x()(n[m[0]],m[0]))),e.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-h.top).attr("text-anchor","start").attr("dy",".9em"),s.select(".nv-hoverValue .nv-yValue").text(b(p.y()(n[m[0]],m[0])))))}p.width(e).height(r),u.call(p),k&&((l=s.select(".nv-valueWrap").selectAll(".nv-currentValue").data([i])).enter().append("text").attr("class","nv-currentValue").attr("dx",M?-8:8).attr("dy",".9em").style("text-anchor",M?"end":"start"),l.attr("x",e+(M?h.right:0)).attr("y",w?function(t){return f(t)}:0).style("fill",p.color()(n[n.length-1],n.length-1)).text(b(i))),a.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(y)return;var t=d3.mouse(this)[0]-h.left;m=[function(t,e){for(var n=Math.abs(p.x()(t[0],0)-e),r=0,i=0;i<t.length;i++)Math.abs(p.x()(t[i],i)-e)<n&&(n=Math.abs(p.x()(t[i],i)-e),r=i);return r}(n,Math.round(d.invert(t)))],c()}).on("click",function(){y=!y}).on("mouseout",function(){m=[],c()}),s.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-h.left+","+-h.top+")"}).attr("width",e+h.left+h.right).attr("height",r+h.top)}),n.renderEnd("sparklinePlus immediate"),A}return A.dispatch=t,A.sparkline=p,A.options=vt.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return v},set:function(t){v=t}},xTickFormat:{get:function(){return x},set:function(t){x=t}},yTickFormat:{get:function(){return b},set:function(t){b=t}},showLastValue:{get:function(){return k},set:function(t){k=t}},alignValue:{get:function(){return w},set:function(t){w=t}},rightAlignValue:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return e},set:function(t){e=t}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}}}),vt.utils.inheritOptions(A,p),vt.utils.initOptions(A),A},vt.models.stackedArea=function(){"use strict";var p,h,g={top:0,right:0,bottom:0,left:0},v=960,m=500,y=vt.utils.defaultColor(),x=Math.floor(1e5*Math.random()),b=null,k=function(t){return t.x},w=function(t){return t.y},M=function(t,e){return!isNaN(w(t,e))&&null!==w(t,e)},e="stack",A="zero",C="default",S="linear",W=!1,F=vt.models.scatter(),n=250,E=function(t,e,n){t.display={y:n,y0:e}},O=function(t){return h(t.display.y+t.display.y0)},D=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");F.pointSize(2.2).pointDomain([2.2,2.2]);var N=vt.utils.renderWatch(D,n);function _(t){return N.reset(),N.models(F),t.each(function(t){var e=v-g.left-g.right,n=m-g.top-g.bottom;b=d3.select(this),vt.utils.initSVG(b),p=F.xScale(),h=F.yScale();var s=t;t.forEach(function(t,n){t.seriesIndex=n,t.values=t.values.map(function(t,e){return t.index=e,t.seriesIndex=n,t})});var r=t.filter(function(t){return!t.disabled});t=d3.layout.stack().order(C).offset(A).values(function(t){return t.values}).x(k).y(w).out(E)(r);var i=b.selectAll("g.nv-wrap.nv-stackedarea").data([t]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),a=o.append("defs"),l=o.append("g"),u=i.select("g");l.append("g").attr("class","nv-areaWrap"),l.append("g").attr("class","nv-scatterWrap"),i.attr("transform","translate("+g.left+","+g.top+")"),0==F.forceY().length&&F.forceY().push(0),F.width(e).height(n).x(k).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(t.map(function(t,e){return t.color=t.color||y(t,t.seriesIndex),t.color})),u.select(".nv-scatterWrap").datum(t).call(F),a.append("clipPath").attr("id","nv-edge-clip-"+x).append("rect"),i.select("#nv-edge-clip-"+x+" rect").attr("width",e).attr("height",n),u.attr("clip-path",W?"url(#nv-edge-clip-"+x+")":"");var c=d3.svg.area().defined(M).x(function(t,e){return p(k(t,e))}).y0(function(t){return h(t.display.y0)}).y1(O).interpolate(S),d=d3.svg.area().defined(M).x(function(t,e){return p(k(t,e))}).y0(function(t){return h(t.display.y0)}).y1(function(t){return h(t.display.y0)}),f=u.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});f.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return d(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),D.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),D.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),D.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),f.exit().remove(),f.style("fill",function(t,e){return t.color||y(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||y(t,t.seriesIndex)}),f.watchTransition(N,"stackedArea path").attr("d",function(t,e){return c(t.values,e)}),F.dispatch.on("elementMouseover.area",function(t){u.select(".nv-chart-"+x+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),F.dispatch.on("elementMouseout.area",function(t){u.select(".nv-chart-"+x+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),_.d3_stackedOffset_stackPercent=function(t){for(var e,n,r=t.length,i=t[0].length,o=[],a=0;a<i;++a){for(n=e=0;e<s.length;e++)n+=w(s[e].values[a]);if(n)for(e=0;e<r;e++)t[e][a][1]/=n;else for(e=0;e<r;e++)t[e][a][1]=0}for(a=0;a<i;++a)o[a]=0;return o}}),N.renderEnd("stackedArea immediate"),_}return _.dispatch=D,(_.scatter=F).dispatch.on("elementClick",function(){D.elementClick.apply(this,arguments)}),F.dispatch.on("elementMouseover",function(){D.elementMouseover.apply(this,arguments)}),F.dispatch.on("elementMouseout",function(){D.elementMouseout.apply(this,arguments)}),_.interpolate=function(t){return arguments.length?(S=t,_):S},_.duration=function(t){return arguments.length?(n=t,N.reset(n),F.duration(n),_):n},_.dispatch=D,_.scatter=F,_.options=vt.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},defined:{get:function(){return M},set:function(t){M=t}},clipEdge:{get:function(){return W},set:function(t){W=t}},offset:{get:function(){return A},set:function(t){A=t}},order:{get:function(){return C},set:function(t){C=t}},interpolate:{get:function(){return S},set:function(t){S=t}},x:{get:function(){return k},set:function(t){k=d3.functor(t)}},y:{get:function(){return w},set:function(t){w=d3.functor(t)}},areaY1:{get:function(){return O},set:function(t){O=d3.functor(t)}},transformData:{get:function(){return E},set:function(t){E=d3.functor(t)}},margin:{get:function(){return g},set:function(t){g.top=void 0!==t.top?t.top:g.top,g.right=void 0!==t.right?t.right:g.right,g.bottom=void 0!==t.bottom?t.bottom:g.bottom,g.left=void 0!==t.left?t.left:g.left}},color:{get:function(){return y},set:function(t){y=vt.utils.getColor(t)}},style:{get:function(){return e},set:function(t){switch(e=t){case"stack":_.offset("zero"),_.order("default");break;case"stream":_.offset("wiggle"),_.order("inside-out");break;case"stream-center":_.offset("silhouette"),_.order("inside-out");break;case"expand":_.offset("expand"),_.order("default");break;case"stack_percent":_.offset(_.d3_stackedOffset_stackPercent),_.order("default")}}},duration:{get:function(){return n},set:function(t){n=t,N.reset(n),F.duration(n)}}}),vt.utils.inheritOptions(_,F),vt.utils.initOptions(_),_},vt.models.stackedAreaChart=function(){"use strict";var b,k,w=vt.models.stackedArea(),M=vt.models.axis(),A=vt.models.axis(),C=vt.models.legend(),S=vt.models.legend(),W=vt.interactiveGuideline(),e=vt.models.tooltip(),F=vt.models.focus(vt.models.stackedArea()),E={top:10,right:25,bottom:50,left:60},O=null,D=null,N=null,_=vt.utils.defaultColor(),T=!0,L=!0,B="top",P=!0,I=!0,z=!1,V=!1,j=!1,G=!0,H="TOTAL",Y=vt.utils.state(),R=null,n=null,X=d3.dispatch("stateChange","changeState","renderEnd"),q=250,Z=["Stacked","Stream","Expanded"],K={},U=250;Y.style=w.style(),M.orient("bottom").tickPadding(7),A.orient(z?"right":"left"),e.headerFormatter(function(t,e){return M.tickFormat()(t,e)}).valueFormatter(function(t,e){return A.tickFormat()(t,e)}),W.tooltip.headerFormatter(function(t,e){return M.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":A.tickFormat()(t,e)});var Q=null,J=null;S.updateState(!1);var r=vt.utils.renderWatch(X),$=(w.style(),function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:w.style()}}}),tt=function(t){return function(n){void 0!==n.style&&n.style,void 0!==n.active&&t.forEach(function(t,e){t.disabled=!n.active[e]})}},et=d3.format("%");function nt(t){return r.reset(),r.models(w),P&&r.models(M),I&&r.models(A),t.each(function(h){var t=d3.select(this);vt.utils.initSVG(t);var e,n=vt.utils.availableWidth(D,t,E),r=vt.utils.availableHeight(N,t,E)-(V?F.height():0);if(nt.update=function(){t.transition().duration(U).call(nt)},nt.container=this,Y.setter(tt(h),nt.update).getter($(h)).update(),Y.disabled=h.map(function(t){return!!t.disabled}),!R)for(e in R={},Y)Y[e]instanceof Array?R[e]=Y[e].slice(0):R[e]=Y[e];if(!(h&&h.length&&h.filter(function(t){return t.values.length}).length))return vt.utils.noData(nt,t),nt;t.selectAll(".nv-noData").remove(),b=w.xScale(),k=w.yScale();var i=t.selectAll("g.nv-wrap.nv-stackedAreaChart").data([h]),o=i.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),a=i.select("g");o.append("g").attr("class","nv-legendWrap"),o.append("g").attr("class","nv-controlsWrap");var s=o.append("g").attr("class","nv-focus");s.append("g").attr("class","nv-background").append("rect"),s.append("g").attr("class","nv-x nv-axis"),s.append("g").attr("class","nv-y nv-axis"),s.append("g").attr("class","nv-stackedWrap"),s.append("g").attr("class","nv-interactive");var l,u,c,d,f;o.append("g").attr("class","nv-focusWrap");L?(l=T&&"top"===B?n-q:n,C.width(l),a.select(".nv-legendWrap").datum(h).call(C),"bottom"===B?(u=M.height(),E.bottom=Math.max(C.height()+u,E.bottom),c=(r=vt.utils.availableHeight(N,t,E)-(V?F.height():0))+u,a.select(".nv-legendWrap").attr("transform","translate(0,"+c+")")):"top"===B&&(O||E.top==C.height()||(E.top=C.height(),r=vt.utils.availableHeight(N,t,E)-(V?F.height():0)),a.select(".nv-legendWrap").attr("transform","translate("+(n-l)+","+-E.top+")"))):a.select(".nv-legendWrap").selectAll("*").remove(),T?(d=[{key:K.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=w.style(),style:"stack"},{key:K.stream||"Stream",metaKey:"Stream",disabled:"stream"!=w.style(),style:"stream"},{key:K.stream_center||"Stream Center",metaKey:"Stream_Center",disabled:"stream_center"!=w.style(),style:"stream-center"},{key:K.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=w.style(),style:"expand"},{key:K.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=w.style(),style:"stack_percent"}],q=Z.length/3*260,d=d.filter(function(t){return-1!==Z.indexOf(t.metaKey)}),S.width(q).color(["#444","#444","#444"]),a.select(".nv-controlsWrap").datum(d).call(S),f=Math.max(S.height(),L&&"top"===B?C.height():0),E.top!=f&&(E.top=f,r=vt.utils.availableHeight(N,t,E)-(V?F.height():0)),a.select(".nv-controlsWrap").attr("transform","translate(0,"+-E.top+")")):a.select(".nv-controlsWrap").selectAll("*").remove(),i.attr("transform","translate("+E.left+","+E.top+")"),z&&a.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),j&&(W.width(n).height(r).margin({left:E.left,top:E.top}).svgContainer(t).xScale(b),i.select(".nv-interactive").call(W)),a.select(".nv-focus .nv-background rect").attr("width",n).attr("height",r),w.width(n).height(r).color(h.map(function(t,e){return t.color||_(t,e)}).filter(function(t,e){return!h[e].disabled}));var p,g,v=a.select(".nv-focus .nv-stackedWrap").datum(h.filter(function(t){return!t.disabled}));function m(){P&&a.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+r+")").transition().duration(U).call(M)}function y(){var t;I&&("expand"===w.style()||"stack_percent"===w.style()?(t=A.tickFormat(),Q&&t===et||(Q=t),A.tickFormat(et)):Q&&(A.tickFormat(Q),Q=null),a.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(A))}function x(n){a.select(".nv-focus .nv-stackedWrap").datum(h.filter(function(t){return!t.disabled}).map(function(t,e){return{key:t.key,area:t.area,classed:t.classed,values:t.values.filter(function(t,e){return w.x()(t,e)>=n[0]&&w.x()(t,e)<=n[1]}),disableTooltip:t.disableTooltip}})).transition().duration(U).call(w),m(),y()}P&&M.scale(b)._ticks(vt.utils.calcTicksX(n/100,h)).tickSize(-r,0),I&&(p="wiggle"===w.offset()?0:vt.utils.calcTicksY(r/36,h),A.scale(k)._ticks(p).tickSize(-n,0)),V?(F.width(n),a.select(".nv-focusWrap").attr("transform","translate(0,"+(r+E.bottom+F.margin().top)+")").datum(h.filter(function(t){return!t.disabled})).call(F),null!==(g=F.brush.empty()?F.xDomain():F.brush.extent())&&x(g)):(v.transition().call(w),m(),y()),w.dispatch.on("areaClick.toggle",function(n){1===h.filter(function(t){return!t.disabled}).length?h.forEach(function(t){t.disabled=!1}):h.forEach(function(t,e){t.disabled=e!=n.seriesIndex}),Y.disabled=h.map(function(t){return!!t.disabled}),X.stateChange(Y),nt.update()}),C.dispatch.on("stateChange",function(t){for(var e in t)Y[e]=t[e];X.stateChange(Y),nt.update()}),S.dispatch.on("legendClick",function(t,e){t.disabled&&(d=d.map(function(t){return t.disabled=!0,t}),t.disabled=!1,w.style(t.style),Y.style=w.style(),X.stateChange(Y),nt.update())}),W.dispatch.on("elementMousemove",function(o){w.clearHighlights();var a,s,l,i,u,c=[],d=0,f=!0,p=!1;h.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(t,e){s=vt.interactiveBisect(t.values,o.pointXValue,nt.x());var n,r=t.values[s],i=nt.y()(r,s);null!=i&&0<i&&(w.highlightPoint(e,s,!0),p=!0),e!==h.length-1||p||w.highlightPoint(e,s,!0),void 0!==r&&(void 0===a&&(a=r),void 0===l&&(l=nt.xScale()(nt.x()(r,s))),n="expand"==w.style()?r.display.y:nt.y()(r,s),c.push({key:t.key,value:n,color:_(t,t.seriesIndex),point:r}),G&&"expand"!=w.style()&&null!=n&&(d+=n,f=!1))}),c.reverse(),2<c.length&&(i=nt.yScale().invert(o.mouseY),u=null,c.forEach(function(t,e){i=Math.abs(i);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);n<=i&&i<=r+n&&(u=e)}),null!=u&&(c[u].highlight=!0)),G&&"expand"!=w.style()&&2<=c.length&&!f&&c.push({key:H,value:d,total:!0});var t=nt.x()(a,s),e=W.tooltip.valueFormatter();"expand"===w.style()||"stack_percent"===w.style()?(J=J||e,e=d3.format(".1%")):J&&(e=J,J=null),W.tooltip.valueFormatter(e).data({value:t,series:c})(),W.renderGuideLine(l)}),W.dispatch.on("elementMouseout",function(t){w.clearHighlights()}),F.dispatch.on("onBrush",function(t){x(t)}),X.on("changeState",function(n){void 0!==n.disabled&&h.length===n.disabled.length&&(h.forEach(function(t,e){t.disabled=n.disabled[e]}),Y.disabled=n.disabled),void 0!==n.style&&(w.style(n.style),n.style),nt.update()})}),r.renderEnd("stacked Area chart immediate"),nt}return w.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=w.x()(t.point),t.point.y=w.y()(t.point),e.data(t).hidden(!1)}),w.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),nt.dispatch=X,nt.stacked=w,nt.legend=C,nt.controls=S,nt.xAxis=M,nt.x2Axis=F.xAxis,nt.yAxis=A,nt.y2Axis=F.yAxis,nt.interactiveLayer=W,nt.tooltip=e,nt.focus=F,nt.dispatch=X,nt.options=vt.utils.optionsFunc.bind(nt),nt._options=Object.create({},{width:{get:function(){return D},set:function(t){D=t}},height:{get:function(){return N},set:function(t){N=t}},showLegend:{get:function(){return L},set:function(t){L=t}},legendPosition:{get:function(){return B},set:function(t){B=t}},showXAxis:{get:function(){return P},set:function(t){P=t}},showYAxis:{get:function(){return I},set:function(t){I=t}},defaultState:{get:function(){return R},set:function(t){R=t}},noData:{get:function(){return n},set:function(t){n=t}},showControls:{get:function(){return T},set:function(t){T=t}},controlLabels:{get:function(){return K},set:function(t){K=t}},controlOptions:{get:function(){return Z},set:function(t){Z=t}},showTotalInTooltip:{get:function(){return G},set:function(t){G=t}},totalLabel:{get:function(){return H},set:function(t){H=t}},focusEnable:{get:function(){return V},set:function(t){V=t}},focusHeight:{get:function(){return F.height()},set:function(t){F.height(t)}},brushExtent:{get:function(){return F.brushExtent()},set:function(t){F.brushExtent(t)}},margin:{get:function(){return E},set:function(t){void 0!==t.top&&(E.top=t.top,O=t.top),E.right=void 0!==t.right?t.right:E.right,E.bottom=void 0!==t.bottom?t.bottom:E.bottom,E.left=void 0!==t.left?t.left:E.left}},focusMargin:{get:function(){return F.margin},set:function(t){F.margin.top=void 0!==t.top?t.top:F.margin.top,F.margin.right=void 0!==t.right?t.right:F.margin.right,F.margin.bottom=void 0!==t.bottom?t.bottom:F.margin.bottom,F.margin.left=void 0!==t.left?t.left:F.margin.left}},duration:{get:function(){return U},set:function(t){U=t,r.reset(U),w.duration(U),M.duration(U),A.duration(U)}},color:{get:function(){return _},set:function(t){_=vt.utils.getColor(t),C.color(_),w.color(_),F.color(_)}},x:{get:function(){return w.x()},set:function(t){w.x(t),F.x(t)}},y:{get:function(){return w.y()},set:function(t){w.y(t),F.y(t)}},rightAlignYAxis:{get:function(){return z},set:function(t){z=t,A.orient(z?"right":"left")}},useInteractiveGuideline:{get:function(){return j},set:function(t){j=!!t,nt.interactive(!t),nt.useVoronoi(!t),w.scatter.interactive(!t)}}}),vt.utils.inheritOptions(nt,w),vt.utils.initOptions(nt),nt},vt.models.stackedAreaWithFocusChart=function(){return vt.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},vt.models.sunburst=function(){"use strict";var o,i,a,s,l={top:0,right:0,bottom:0,left:0},u=600,c=600,d="count",f={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},p=Math.floor(1e4*Math.random()),h=null,g=vt.utils.defaultColor(),v=!1,m=function(t){return"count"===d?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},r=.02,e=function(t,e){return t.name>e.name},y=function(t,e){return void 0!==t.parent?t.name+"-"+t.parent.name+"-"+e:t.name},x=!0,b=500,k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),w=d3.scale.linear().range([0,2*Math.PI]),M=d3.scale.sqrt(),A=d3.layout.partition().sort(e),C={},S=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,w(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,w(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,M(t.y))}).outerRadius(function(t){return Math.max(0,M(t.y+t.dy))});function W(t){return 90<F(t)?180:0}function F(t){return(Math.max(0,Math.min(2*Math.PI,w(t.x)))+Math.max(0,Math.min(2*Math.PI,w(t.x+t.dx))))/2*(180/Math.PI)-90}function E(t){var e=Math.max(0,Math.min(2*Math.PI,w(t.x))),n=Math.max(0,Math.min(2*Math.PI,w(t.x+t.dx)));return r<n-e}function n(e,t){var n=d3.interpolate(w.domain(),[o.x,o.x+o.dx]),r=d3.interpolate(M.domain(),[o.y,1]),i=d3.interpolate(M.range(),[o.y?20:0,s]);return 0===t?function(){return S(e)}:function(t){return w.domain(n(t)),M.domain(r(t)).range(i(t)),S(e)}}function O(n){var r=d3.interpolate({x:n.x0,dx:n.dx0,y:n.y0,dy:n.dy0},n);return function(t){var e=r(t);return n.x0=e.x,n.dx0=e.dx,n.y0=e.y,n.dy0=e.dy,S(e)}}function D(t){t.forEach(function(t){var e=y(t),n=C[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),function(t){var e=y(t);C[e]||(C[e]={});var n=C[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}(t)})}function N(i){var t=h.selectAll("text"),e=h.selectAll("path");t.transition().attr("opacity",0),o=i,e.transition().duration(b).attrTween("d",n).each("end",function(r){r.x>=i.x&&r.x<i.x+i.dx&&r.depth>=i.depth&&d3.select(this.parentNode).select("text").transition().duration(b).text(function(t){return m(t)}).attr("opacity",function(t){return E(t)?1:0}).attr("transform",function(){var t=this.getBBox().width;if(0===r.depth)return"translate("+t/2*-1+",0)";if(r.depth===i.depth)return"translate("+(M(r.y)+5)+",0)";var e=F(r),n=W(r);return 0===n?"rotate("+e+")translate("+(M(r.y)+5)+",0)":"rotate("+e+")translate("+(M(r.y)+t+5)+",0)rotate("+n+")"})})}var _=vt.utils.renderWatch(k);function T(t){return _.reset(),t.each(function(t){h=d3.select(this),i=vt.utils.availableWidth(u,h,l),a=vt.utils.availableHeight(c,h,l),s=Math.min(i,a)/2,M.range([0,s]);var e=h.select("g.nvd3.nv-wrap.nv-sunburst");e[0][0]?e.attr("transform","translate("+(i/2+l.left+l.right)+","+(a/2+l.top+l.bottom)+")"):e=h.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+p).attr("transform","translate("+(i/2+l.left+l.right)+","+(a/2+l.top+l.bottom)+")"),h.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:p})}),A.value(f[d]||f.count);var n=A.nodes(t[0]).reverse();D(n);var r=e.selectAll(".arc-container").data(n,y);r.enter().append("g").attr("class","arc-container").append("path").attr("d",S).style("fill",function(t){return t.color?t.color:g(x?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",function(t,e){N(t),k.elementClick({data:t,index:e})}).on("mouseover",function(t,e){var n,r;d3.select(this).classed("hover",!0).style("opacity",.8),k.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:(n=t,r=Math.max(0,Math.min(2*Math.PI,w(n.x))),(Math.max(0,Math.min(2*Math.PI,w(n.x+n.dx)))-r)/(2*Math.PI))})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),k.elementMouseout({data:t})}).on("mousemove",function(t,e){k.elementMousemove({data:t})}),r.each(function(t){d3.select(this).select("path").transition().duration(b).attrTween("d",O)}),v&&(r.selectAll("text").remove(),r.append("text").text(function(t){return m(t)}).transition().duration(b).attr("opacity",function(t){return E(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+e/2*-1+",0)";var n=F(t),r=W(t);return 0===r?"rotate("+n+")translate("+(M(t.y)+5)+",0)":"rotate("+n+")translate("+(M(t.y)+e+5)+",0)rotate("+r+")"})),N(n[n.length-1]),r.exit().transition().duration(b).attr("opacity",0).each("end",function(t){var e=y(t);C[e]=void 0}).remove()}),_.renderEnd("sunburst immediate"),T}return T.dispatch=k,T.options=vt.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},mode:{get:function(){return d},set:function(t){d=t}},id:{get:function(){return p},set:function(t){p=t}},duration:{get:function(){return b},set:function(t){b=t}},groupColorByParent:{get:function(){return x},set:function(t){x=!!t}},showLabels:{get:function(){return v},set:function(t){v=!!t}},labelFormat:{get:function(){return m},set:function(t){m=t}},labelThreshold:{get:function(){return r},set:function(t){r=t}},sort:{get:function(){return e},set:function(t){e=t}},key:{get:function(){return y},set:function(t){y=t}},margin:{get:function(){return l},set:function(t){l.top=null!=t.top?t.top:l.top,l.right=null!=t.right?t.right:l.right,l.bottom=null!=t.bottom?t.bottom:l.bottom,l.left=null!=t.left?t.left:l.left}},color:{get:function(){return g},set:function(t){g=vt.utils.getColor(t)}}}),vt.utils.initOptions(T),T},vt.models.sunburstChart=function(){"use strict";var i=vt.models.sunburst(),e=vt.models.tooltip(),o={top:30,right:20,bottom:20,left:20},a=null,s=null,n=vt.utils.defaultColor(),r=!1,l=(Math.round(1e5*Math.random()),null),u=null,c=250,t=d3.dispatch("stateChange","changeState","renderEnd"),d=vt.utils.renderWatch(t);function f(t){return d.reset(),d.models(i),t.each(function(t){var e=d3.select(this);vt.utils.initSVG(e);var n=vt.utils.availableWidth(a,e,o),r=vt.utils.availableHeight(s,e,o);if(f.update=function(){0===c?e.call(f):e.transition().duration(c).call(f)},f.container=e,!t||!t.length)return vt.utils.noData(f,e),f;e.selectAll(".nv-noData").remove(),i.width(n).height(r).margin(o),e.call(i)}),d.renderEnd("sunburstChart immediate"),f}return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),i.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},r||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(t){e()}),f.dispatch=t,f.sunburst=i,f.tooltip=e,f.options=vt.utils.optionsFunc.bind(f),f._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return l},set:function(t){l=t}},showTooltipPercent:{get:function(){return r},set:function(t){r=t}},color:{get:function(){return n},set:function(t){n=t,i.color(n)}},duration:{get:function(){return c},set:function(t){c=t,d.reset(c),i.duration(c)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left,i.margin(o)}}}),vt.utils.inheritOptions(f,i),vt.utils.initOptions(f),f},vt.version="2.0.0"}();
//# sourceMappingURL=nv.d3.min.js.map